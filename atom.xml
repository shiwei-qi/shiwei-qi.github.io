<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zmqNut</title>
  
  <subtitle>æ˜çŸ¥ä¼šæ•£è½ï¼Œ ä»ä¸æƒ§ç››å¼€</subtitle>
  <link href="https://shiwei-qi.github.io/atom.xml" rel="self"/>
  
  <link href="https://shiwei-qi.github.io/"/>
  <updated>2022-05-24T14:55:41.720Z</updated>
  <id>https://shiwei-qi.github.io/</id>
  
  <author>
    <name>shiwei-qi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>C++11å®ç°çº¿ç¨‹æ± </title>
    <link href="https://shiwei-qi.github.io/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    <id>https://shiwei-qi.github.io/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/</id>
    <published>2022-05-24T08:28:01.000Z</published>
    <updated>2022-05-24T14:55:41.720Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/978956.jpg" alt="978956"></p><h1 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h1><p>å¤§å¤šæ•°ç½‘ç»œæœåŠ¡å™¨å•ä½æ—¶é—´å†…å¿…é¡»å¤„ç†æ•°ç›®å·¨å¤§çš„è¿æ¥è¯·æ±‚ï¼Œä½†å¤„ç†æ—¶é—´å´ç›¸å¯¹è¾ƒçŸ­ã€‚ä¼ ç»Ÿå¤šçº¿ç¨‹æ–¹æ¡ˆä¸­æˆ‘ä»¬é‡‡ç”¨çš„æœåŠ¡å™¨æ¨¡å‹åˆ™æ˜¯ä¸€æ—¦æ¥å—åˆ°è¯·æ±‚ä¹‹åï¼Œå³åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œç”±è¯¥çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œçº¿ç¨‹é€€å‡ºï¼Œè¿™å°±æ˜¯æ˜¯â€œå³æ—¶åˆ›å»ºï¼Œå³æ—¶é”€æ¯â€çš„ç­–ç•¥ã€‚å°½ç®¡ä¸åˆ›å»ºè¿›ç¨‹ç›¸æ¯”ï¼Œåˆ›å»ºçº¿ç¨‹çš„æ—¶é—´å·²ç»å¤§å¤§çš„ç¼©çŸ­ï¼Œä½†æ˜¯å¦‚æœæäº¤ç»™çº¿ç¨‹çš„ä»»åŠ¡æ˜¯æ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œè€Œä¸”æ‰§è¡Œæ¬¡æ•°æå…¶é¢‘ç¹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°†å¤„äºä¸åœçš„åˆ›å»ºçº¿ç¨‹ï¼Œé”€æ¯çº¿ç¨‹çš„çŠ¶æ€ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œçº¿ç¨‹æ± èƒ½å¤Ÿå‡å°‘åˆ›å»ºçš„çº¿ç¨‹ä¸ªæ•°ã€‚é€šå¸¸çº¿ç¨‹æ± æ‰€å…è®¸çš„å¹¶å‘çº¿ç¨‹æ˜¯æœ‰ä¸Šç•Œçš„ï¼Œå¦‚æœåŒæ—¶éœ€è¦å¹¶å‘çš„çº¿ç¨‹æ•°è¶…è¿‡ä¸Šç•Œï¼Œé‚£ä¹ˆä¸€éƒ¨åˆ†çº¿ç¨‹å°†ä¼šç­‰å¾…ã€‚è€Œä¼ ç»Ÿæ–¹æ¡ˆä¸­ï¼Œå¦‚æœåŒæ—¶è¯·æ±‚æ•°ç›®ä¸º10000ï¼Œé‚£ä¹ˆæœ€åæƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¯èƒ½éœ€è¦äº§ç”Ÿ10000ä¸ªçº¿ç¨‹ã€‚å°½ç®¡è¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç›®ï¼Œä½†æ˜¯ä¹Ÿæœ‰éƒ¨åˆ†æœºå™¨å¯èƒ½è¾¾ä¸åˆ°è¿™ç§è¦æ±‚.</p><h1 id="çº¿ç¨‹æ± çš„å®šä¹‰"><a href="#çº¿ç¨‹æ± çš„å®šä¹‰" class="headerlink" title="çº¿ç¨‹æ± çš„å®šä¹‰"></a>çº¿ç¨‹æ± çš„å®šä¹‰</h1><p>äº‹å…ˆåˆ›å»ºè‹¥å¹²ç©ºé—²çš„çº¿ç¨‹æ”¾å…¥ä¸€ä¸ªæ± ä¸­ï¼ˆå®¹å™¨ï¼‰ï¼Œå½“ä¸€ä¸ªä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± æ—¶ï¼Œçº¿ç¨‹æ± å°±ä¼šå¯åŠ¨ä¸€ä¸ªç©ºé—²çš„çº¿ç¨‹å»å¤„ç†ä»»åŠ¡ï¼Œå½“ä»»åŠ¡ç»“æŸåï¼Œè¯¥çº¿ç¨‹å¹¶ä¸ä¼šæ­»äº¡ï¼Œè€Œæ˜¯å†æ¬¡è¿”å›çº¿ç¨‹æ± ä¸­æˆä¸ºç©ºé—²çŠ¶æ€ï¼Œç­‰å¾…æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</p><p><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f302f30632f5468726561645f706f6f6c2e7376672f35383070782d5468726561645f706f6f6c2e7376672e706e67.png" alt="img"></p><h1 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h1><ol><li><strong>é™ä½èµ„æºæ¶ˆè€—</strong>ï¼šé€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚</li><li><strong>æé«˜å“åº”é€Ÿåº¦</strong>ï¼šå½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œå¯ä»¥ä¸éœ€è¦ç­‰å¾…çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚</li><li><strong>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</strong>ï¼šçº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œç›‘æ§å’Œè°ƒä¼˜ã€‚</li></ol><p> äº‹å®ä¸Šï¼Œçº¿ç¨‹æ± å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚å®ƒæœ‰å…¶ç‰¹å®šçš„ä½¿ç”¨åœºåˆã€‚çº¿ç¨‹æ± è‡´åŠ›äºå‡å°‘çº¿ç¨‹æœ¬èº«çš„å¼€é”€å¯¹åº”ç”¨æ‰€äº§ç”Ÿçš„å½±å“ï¼Œè¿™æ˜¯æœ‰å‰æçš„ï¼Œå‰æå°±æ˜¯çº¿ç¨‹æœ¬èº«å¼€é”€ä¸çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ç›¸æ¯”ä¸å¯å¿½ç•¥ã€‚å¦‚æœçº¿ç¨‹æœ¬èº«çš„å¼€é”€ç›¸å¯¹äºçº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå¼€é”€è€Œè¨€æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼Œé‚£ä¹ˆæ­¤æ—¶çº¿ç¨‹æ± æ‰€å¸¦æ¥çš„å¥½å¤„æ˜¯ä¸æ˜æ˜¾çš„ï¼Œæ¯”å¦‚å¯¹äºFTPæœåŠ¡å™¨ä»¥åŠTelnetæœåŠ¡å™¨ï¼Œé€šå¸¸ä¼ é€æ–‡ä»¶çš„æ—¶é—´è¾ƒé•¿ï¼Œå¼€é”€è¾ƒå¤§ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œæˆ‘ä»¬é‡‡ç”¨çº¿ç¨‹æ± æœªå¿…æ˜¯ç†æƒ³çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©â€œå³æ—¶åˆ›å»ºï¼Œå³æ—¶é”€æ¯â€çš„ç­–ç•¥</p><h1 id="çº¿ç¨‹æ± å·¥ä½œçš„å‡ ç§æƒ…å†µ"><a href="#çº¿ç¨‹æ± å·¥ä½œçš„å‡ ç§æƒ…å†µ" class="headerlink" title="çº¿ç¨‹æ± å·¥ä½œçš„å‡ ç§æƒ…å†µ"></a>çº¿ç¨‹æ± å·¥ä½œçš„å‡ ç§æƒ…å†µ</h1><p>æŒ‰ä»»åŠ¡é˜Ÿåˆ—å’Œçº¿ç¨‹æ± å¤§å°å¯åˆ†æˆå››ç§æƒ…å†µï¼š</p><ul><li><p>æ²¡æœ‰ä»»åŠ¡ï¼Œçº¿ç¨‹æ± ä¸­ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå•¥ä¹Ÿä¸åš</p><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/3805f625e05f8e2d1d0b69910323d7a9.png" alt="ç©ºé˜Ÿåˆ—æƒ…å†µ" style="zoom: 80%;"></li><li><p>æ·»åŠ å°äºç­‰äºçº¿ç¨‹æ± æ•°é‡çš„ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹æ·»åŠ ä»»åŠ¡åé€šçŸ¥å”¤é†’çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¼€å§‹å–ä»»åŠ¡ã€‚æ­¤æ—¶ä»»åŠ¡ç¼“å†²é˜Ÿåˆ—è¿˜æ˜¯ç©º</p><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/b72937b576e8e3e4a0b14ff5a9b3a1b9.png" alt="img" style="zoom:80%;"></li><li><p>æ·»åŠ å¤§äºçº¿ç¨‹æ± æ•°é‡çš„ä»»åŠ¡ï¼Œç»§ç»­æ·»åŠ å‘ç°çº¿ç¨‹æ± ç”¨å®Œï¼Œäºæ˜¯å­˜å…¥ç¼“å†²é˜Ÿåˆ—ï¼Œå·¥ä½œçº¿ç¨‹ç©ºé—²åä¸»åŠ¨ä»ä»»åŠ¡é˜Ÿåˆ—å–ä»»åŠ¡æ‰§è¡Œï¼Œç¼“å†²é˜Ÿåˆ—æœªæ»¡</p></li></ul><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/3bc05a0abf3eff2c7e25427e1c2636bb.png" alt="ä»»åŠ¡æ•°é‡å¤§äºçº¿ç¨‹æ± æ•°é‡" style="zoom:80%;"><ul><li>æ·»åŠ å¤§äºçº¿ç¨‹æ± æ•°é‡çš„ä»»åŠ¡ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œå½“çº¿ç¨‹ä¸­çº¿ç¨‹ç”¨å®Œï¼Œä¸”ä»»åŠ¡ç¼“å†²é˜Ÿåˆ—å·²æ»¡ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…ä»»åŠ¡ç¼“å†²é˜Ÿåˆ—é€šçŸ¥</li></ul><img src="/2022/05/24/C++11%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0/4a50fc4f32e13a1761c2e687a58a83a4.png" alt="img" style="zoom:80%;"><h1 id="çº¿ç¨‹æ± çš„å®ç°"><a href="#çº¿ç¨‹æ± çš„å®ç°" class="headerlink" title="çº¿ç¨‹æ± çš„å®ç°"></a>çº¿ç¨‹æ± çš„å®ç°</h1><p>ä½¿ç”¨C++11ä¸­çš„<code>bind</code>ã€<code>function</code>å®šä¹‰å’Œè°ƒç”¨ä»»åŠ¡å¤„ç†å‡½æ•°å’Œ<code>std::thread</code>ç­‰å®ç°çš„æŒ‰ç…§ä»»åŠ¡ä¼˜å…ˆçº§å…ˆåå¤„ç†çš„çº¿ç¨‹æ± ã€‚</p><p><strong>ThreadPool.h</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _THREAD_POOL_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _THREAD_POOL_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadPool</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//function&lt;void()&gt; å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œæ¥å—ä»»æ„åŸå‹æ˜¯ void() çš„å‡½æ•°ï¼Œæˆ–æ˜¯å‡½æ•°å¯¹è±¡ï¼Œæˆ–æ˜¯åŒ¿åå‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">//void() æ„æ€æ˜¯ä¸å¸¦å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</span></span><br><span class="line">    <span class="keyword">typedef</span> std::function&lt;<span class="type">void</span>()&gt; Task_type;<span class="comment">//ä»»åŠ¡ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">taskPriorityE</span> &#123;LOW, MIDDLE, HIGH&#125;;<span class="comment">//ä¼˜å…ˆçº§</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">typedef</span> std::pair&lt;taskPriorityE,Task_type&gt; TaskPair;<span class="comment">//ä»»åŠ¡ä¼˜å…ˆçº§å’Œä»»åŠ¡ç±»å‹ç»„åˆçš„ä»»åŠ¡</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">ThreadPool</span>(<span class="type">int</span> threads_size = <span class="number">4</span>);<span class="comment">//é»˜è®¤çº¿ç¨‹æ± å¤§å°ä¸º4</span></span><br><span class="line">    ~<span class="built_in">ThreadPool</span>();</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">()</span></span>;<span class="comment">//ç»ˆæ­¢çº¿ç¨‹æ± </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addTask</span><span class="params">(<span class="type">const</span> Task_type&amp;)</span></span>;<span class="comment">//æ·»åŠ ä»»åŠ¡</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addTask</span><span class="params">(<span class="type">const</span> TaskPair&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//ç¦ç”¨æ‹·è´æ„é€ å’Œèµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="built_in">ThreadPool</span>(<span class="type">const</span> ThreadPool&amp; other) = <span class="keyword">delete</span>;</span><br><span class="line">    <span class="type">const</span> ThreadPool&amp; <span class="keyword">operator</span>=(<span class="type">const</span> ThreadPool&amp; other) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">is_started</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> m_started;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">start</span><span class="params">()</span></span>;<span class="comment">//è¿è¡Œçº¿ç¨‹æ± </span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">threadLoop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Task_type <span class="title">take</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> std::vector&lt;std::thread*&gt; Threads_type;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡è½½()æ“ä½œç¬¦å®ç°ä¼˜å…ˆé˜Ÿåˆ—çš„æ¯”è¾ƒæ“ä½œ</span></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">TaskPriorityCmp</span> &#123;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> TaskPair&amp; a, <span class="type">const</span> TaskPair&amp; b)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m_threads_size;<span class="comment">//çº¿ç¨‹æ± å¤§å°</span></span><br><span class="line">    std::vector&lt;std::thread*&gt; m_threads;<span class="comment">//çº¿ç¨‹æ± </span></span><br><span class="line">    std::priority_queue&lt;TaskPair, std::vector&lt;TaskPair&gt;, TaskPriorityCmp&gt;  m_tasks;<span class="comment">//ä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">    std::mutex m_mutex;<span class="comment">//STLé˜Ÿåˆ—ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤éœ€è¦ç»“åˆäº’æ–¥é”</span></span><br><span class="line">    std::condition_variable m_cond;<span class="comment">//æ¡ä»¶å˜é‡</span></span><br><span class="line">    <span class="type">bool</span> m_started;<span class="comment">//æ˜¯å¦å¼€å§‹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°é€šè¿‡ä¼ å…¥çš„å‚æ•°ï¼Œåˆå§‹åŒ–çº¿ç¨‹æ± å¤§å°ã€é”ã€æ¡ä»¶å˜é‡ã€æ˜¯å¦å¼€å§‹ï¼Œä¹‹åå¼€å§‹è¿è¡Œ</span></span><br><span class="line">ThreadPool::<span class="built_in">ThreadPool</span>(<span class="type">int</span> threads_size)</span><br><span class="line">    :<span class="built_in">m_threads_size</span>(threads_size), <span class="built_in">m_mutex</span>(), <span class="built_in">m_cond</span>(), <span class="built_in">m_started</span>(<span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">start</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">ThreadPool::~<span class="built_in">ThreadPool</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_started)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//startä¸­åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶å°†çº¿ç¨‹å’Œä»»åŠ¡å¤„ç†å‡½æ•°è¿›è¡Œç»‘å®š</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ThreadPool::start</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// assert çš„ä½œç”¨æ˜¯ç°è®¡ç®—è¡¨è¾¾å¼ expression,å¦‚æœå…¶å€¼ä¸ºå‡(å³ä¸º0),é‚£ä¹ˆå®ƒå…ˆå‘ stderr æ‰“å°ä¸€æ¡å‡ºé”™ä¿¡æ¯,ç„¶åé€šè¿‡è°ƒç”¨ abort æ¥ç»ˆæ­¢ç¨‹åºè¿è¡Œã€‚</span></span><br><span class="line">    <span class="built_in">assert</span>(m_threads.<span class="built_in">empty</span>());</span><br><span class="line">    <span class="built_in">assert</span>(!m_started);</span><br><span class="line">    m_started = <span class="literal">true</span>;</span><br><span class="line">    m_threads.<span class="built_in">reserve</span>(m_threads_size);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; m_threads_size; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å‡½æ•°ç»‘å®šbindå‡½æ•°ç”¨äºæŠŠæŸç§å½¢å¼çš„å‚æ•°åˆ—è¡¨ä¸å·²çŸ¥çš„å‡½æ•°è¿›è¡Œç»‘å®šï¼Œå½¢æˆæ–°çš„å‡½æ•°</span></span><br><span class="line">        m_threads.<span class="built_in">push_back</span>(<span class="keyword">new</span> std::<span class="built_in">thread</span>(std::<span class="built_in">bind</span>(&amp;ThreadPool::threadLoop, <span class="keyword">this</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çº¿ç¨‹æ± ç»ˆæ­¢ï¼Œé€šçŸ¥æ‰€æœ‰çº¿ç¨‹ï¼Œå¹¶å°†æ‰€æœ‰çº¿ç¨‹åˆ†ç¦»ï¼Œæœ€åå°†çº¿ç¨‹æ± æ¸…ç©º</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ThreadPool::stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">    m_started = <span class="literal">false</span>;</span><br><span class="line">    m_cond.<span class="built_in">notify_all</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> it = m_threads.<span class="built_in">begin</span>(); it != m_threads.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ç­‰å¾…çº¿ç¨‹æ‰§è¡Œç›´åˆ°ç»ˆæ­¢,å…¶å®å°±è¯´joinæ–¹æ³•å°†æŒ‚èµ·è°ƒç”¨çº¿ç¨‹çš„æ‰§è¡Œï¼Œç›´åˆ°è¢«è°ƒç”¨çš„å¯¹è±¡å®Œæˆå®ƒçš„æ‰§è¡Œ</span></span><br><span class="line">        (*it)-&gt;<span class="built_in">join</span>();</span><br><span class="line">        <span class="keyword">delete</span> *it;</span><br><span class="line">    &#125;</span><br><span class="line">    m_threads.<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//threadLoopä¸­å¾ªç¯ä»é˜Ÿåˆ—ä¸­æ‹¿ä»»åŠ¡å¹¶æ‰§è¡Œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ThreadPool::threadLoop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(m_started)</span><br><span class="line">    &#123;</span><br><span class="line">        Task_type task = <span class="built_in">take</span>();</span><br><span class="line">        <span class="keyword">if</span>(task)</span><br><span class="line">            <span class="built_in">task</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ ä»»åŠ¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ThreadPool::addTask</span><span class="params">(<span class="type">const</span> Task_type&amp; task)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">    <span class="comment">//é»˜è®¤ä¸­ç­‰ä¼˜å…ˆçº§</span></span><br><span class="line">    <span class="function">TaskPair <span class="title">taskPair</span><span class="params">(MIDDLE, task)</span></span>;</span><br><span class="line">    m_tasks.<span class="built_in">emplace</span>(taskPair);</span><br><span class="line">    m_cond.<span class="built_in">notify_one</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ThreadPool::addTask</span><span class="params">(<span class="type">const</span> TaskPair&amp; taskPair)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">    m_tasks.<span class="built_in">emplace</span>(taskPair);</span><br><span class="line">    m_cond.<span class="built_in">notify_one</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»ä»»åŠ¡é˜Ÿåˆ—æ‹¿ä»»åŠ¡</span></span><br><span class="line"><span class="function">ThreadPool::Task_type <span class="title">ThreadPool::take</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">    <span class="keyword">while</span>(m_tasks.<span class="built_in">empty</span>() &amp;&amp; m_started)</span><br><span class="line">    &#123;</span><br><span class="line">        m_cond.<span class="built_in">wait</span>(lock);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Task_type task;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> size = m_tasks.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span>(!m_tasks.<span class="built_in">empty</span>() &amp;&amp; m_started)</span><br><span class="line">    &#123;</span><br><span class="line">        task = m_tasks.<span class="built_in">top</span>().second;</span><br><span class="line">        m_tasks.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="built_in">assert</span>(size <span class="number">-1</span> == m_tasks.<span class="built_in">size</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> task;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ThreadPool.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">mutex g_mutex;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyFunc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="comment">//æ­¤é”æ˜¯ä¿è¯è¾“å‡ºå®Œæ•´</span></span><br><span class="line">      <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(g_mutex)</span></span>;</span><br><span class="line">      std::cout &lt;&lt; <span class="string">&quot;MyFunc()&quot;</span>  &lt;&lt; <span class="string">&quot;at thread [&quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; <span class="string">&quot;] output&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  ThreadPool tp;</span><br><span class="line">  mutex mtx;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//è¿™é‡Œåªæ·»åŠ å››æ¬¡ä»»åŠ¡ï¼Œå› æ­¤ä»»åŠ¡é˜Ÿåˆ—å®é™…å¤§å°ä¸º4</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">      tp.<span class="built_in">addTask</span>(MyFunc);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">getchar</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://github.com/progschj/ThreadPool">https://github.com/progschj/ThreadPool</a></p><p><a href="https://github.com/attackoncs/MyThreadPool">https://github.com/attackoncs/MyThreadPool</a></p><p><a href="https://github.com/mtrebi/thread-pool">https://github.com/mtrebi/thread-pool</a></p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ç®€å•ä»‹ç»çº¿ç¨‹æ± çš„ç›¸å…³çŸ¥è¯†ï¼Œå¹¶åŸºäºC++11å®ç°ä¸€ä¸ªç®€å•çš„çº¿ç¨‹æ± ã€‚</summary>
    
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/categories/C/"/>
    
    <category term="å¤šçº¿ç¨‹ç¼–ç¨‹" scheme="https://shiwei-qi.github.io/categories/C/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/tags/C/"/>
    
    <category term="çº¿ç¨‹æ± " scheme="https://shiwei-qi.github.io/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    
  </entry>
  
  <entry>
    <title>ç»å…¸æ’åºç®—æ³•</title>
    <link href="https://shiwei-qi.github.io/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    <id>https://shiwei-qi.github.io/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</id>
    <published>2022-05-23T00:50:20.000Z</published>
    <updated>2022-05-24T07:46:36.003Z</updated>
    
    <content type="html"><![CDATA[<img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/wallhaven-y8mg97_3840x2160.png" alt="wallhaven-y8mg97_3840x2160" style="zoom:80%;"><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>æ‰€è°“æ’åºï¼Œå°±æ˜¯ä½¿ä¸€ä¸²è®°å½•ï¼ŒæŒ‰ç…§å…¶ä¸­çš„æŸä¸ªæˆ–æŸäº›å…³é”®å­—çš„å¤§å°ï¼Œé€’å¢æˆ–é€’å‡çš„æ’åˆ—èµ·æ¥çš„æ“ä½œã€‚</p><p>é¦–å…ˆéœ€æ˜ç¡®ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li><strong>ç¨³å®šæ€§</strong>ï¼šå‡å®šåœ¨å¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰<u>ç›¸åŒçš„å…³é”®å­—</u>çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜ï¼Œå³åœ¨åŸåºåˆ—ä¸­ï¼Œr[i] &#x3D; r[j]ï¼Œä¸”r[i]åœ¨r[j]ä¹‹å‰ï¼Œè€Œåœ¨æ’åºåçš„åºåˆ—ä¸­ï¼Œr[i]ä»åœ¨r[j]ä¹‹å‰ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼›å¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„ã€‚</li></ul><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522171743008.png" alt="image-20220522171743008" style="zoom:80%;"><ul><li><strong>å†…éƒ¨æ’åº</strong>ï¼šæ•°æ®å…ƒç´ å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„æ’åºã€‚</li><li><strong>å¤–éƒ¨æ’åº</strong>ï¼šæ•°æ®å…ƒç´ å¤ªå¤šä¸èƒ½åŒæ—¶æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ ¹æ®æ’åºè¿‡ç¨‹çš„è¦æ±‚ä¸èƒ½åœ¨<u>å†…å¤–å­˜ä¹‹é—´</u>ç§»åŠ¨æ•°æ®çš„æ’åºã€‚</li></ul><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522171854728.png" alt="image-20220522171854728" style="zoom: 67%;"><hr><h1 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h1><p>ç›´æ¥æ’å…¥æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’å…¥æ’åºæ³•ï¼Œå…¶æ˜¯åŸºæœ¬æ€æƒ³ï¼š</p><p>æŠŠå¾…æ’åºçš„è®°å½•æŒ‰å…¶å…³é”®ç å€¼çš„å¤§å°é€ä¸ªæ’å…¥åˆ°ä¸€ä¸ªå·²ç»æ’å¥½åºçš„æœ‰åºåºåˆ—ä¸­ï¼Œç›´åˆ°æ‰€æœ‰çš„è®°å½•æ’å…¥å®Œä¸ºæ­¢ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„æœ‰åºåºåˆ— ã€‚</p><p>å®é™…ä¸­æˆ‘ä»¬ç©æ‰‘å…‹ç‰Œæ—¶ï¼Œå°±ç”¨äº†æ’å…¥æ’åºçš„æ€æƒ³ï¼Œåœ¨æ’åºè‡ªå·±æ‰‹ä¸­çš„æ‰‘å…‹ç‰Œæ—¶ç»å¸¸ä¼šè¿™æ ·æ’ã€‚</p><h2 id="ç›´æ¥æ’å…¥æ’åº"><a href="#ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="ç›´æ¥æ’å…¥æ’åº"></a>ç›´æ¥æ’å…¥æ’åº</h2><p>å½“æ’å…¥ç¬¬<code>i(i &gt;= 1)</code>ä¸ªå…ƒç´ æ—¶ï¼Œå‰é¢çš„<code>array[0]</code>, <code>array[1]</code>, <code>â€¦</code>, <code>array[i-1]</code>å·²ç»æ’å¥½åºï¼Œæ­¤æ—¶ç”¨<code>array[i]</code>çš„æ’åºç ä¸<code>array[i-1]</code>, <code>array[i-2]</code>, <code>â€¦</code>çš„æ’åºç é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°æ’å…¥ä½ç½®å³å°†<code>array[i]</code>æ’å…¥ï¼ŒåŸæ¥ä½ç½®ä¸Šçš„å…ƒç´ é¡ºåºåç§»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        <span class="comment">//ä»¥endæ‰€åœ¨ä½ç½®çš„å‰é¢æ‰€æœ‰å…ƒç´ å·²æœ‰åº</span></span><br><span class="line">        <span class="type">int</span> end = i;</span><br><span class="line">        <span class="comment">//å•è¶Ÿæ’åº</span></span><br><span class="line">        <span class="type">int</span> tmp = arr[end + <span class="number">1</span>]; <span class="comment">//æš‚å­˜è¦æ’å…¥çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (end &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[end] &gt; tmp)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[end + <span class="number">1</span>] = arr[end]; <span class="comment">//ç§»å¼€ï¼Œè…¾ä½ç½®</span></span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[end + <span class="number">1</span>] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>â˜‘ åŸå§‹é›†åˆè¶Šæ¥è¿‘æœ‰åºï¼Œç›´æ¥æ’å…¥æ’åºç®—æ³•çš„æ—¶é—´æ•ˆç‡è¶Šé«˜</p><p>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(n^2)</strong></p><p>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(1)</strong></p><p>â˜‘ ç¨³å®šæ€§ï¼šç¨³å®š</p></blockquote><h2 id="å¸Œå°”æ’åº-ç¼©å°å¢é‡æ’åº"><a href="#å¸Œå°”æ’åº-ç¼©å°å¢é‡æ’åº" class="headerlink" title="å¸Œå°”æ’åº (ç¼©å°å¢é‡æ’åº)"></a>å¸Œå°”æ’åº (ç¼©å°å¢é‡æ’åº)</h2><p>å¸Œå°”æ’åºæ³•åˆç§°ç¼©å°å¢é‡æ³•ã€‚å¸Œå°”æ’åºæ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆé€‰å®šä¸€ä¸ªæ•´æ•°<code>gap</code>ï¼ŒæŠŠå¾…æ’åºæ–‡ä»¶ä¸­æ‰€æœ‰è®°å½•åˆ†æˆå¤šä¸ªç»„ï¼Œæ‰€æœ‰è·ç¦»ä¸º**<code>gap</code><strong>çš„è®°å½•åˆ†åœ¨åŒä¸€ç»„å†…ï¼Œå¹¶å¯¹æ¯ä¸€ç»„å†…çš„è®°å½•è¿›è¡Œæ’åºã€‚ç„¶åï¼Œå–ä¸åŒçš„</strong><code>gap</code>**ï¼Œé‡å¤ä¸Šè¿°åˆ†ç»„å’Œæ’åºçš„å·¥ä½œã€‚</p><p><code>gap &gt; 1</code>æ—¶åœ¨åšé¢„æ’åºï¼Œå½“åˆ°è¾¾<code>gap = 1</code>æ—¶ç›¸å½“äºåšç›´æ¥æ’å…¥æ’åºï¼Œæ‰€æœ‰è®°å½•å†ç»Ÿä¸€ç»„å†…æ’å¥½åºã€‚</p><p>å¸Œå°”æ’åºç›®çš„ä¸ºäº†åŠ å¿«é€Ÿåº¦æ”¹è¿›äº†æ’å…¥æ’åºï¼Œäº¤æ¢ä¸ç›¸é‚»çš„å…ƒç´ å¯¹æ•°ç»„çš„å±€éƒ¨è¿›è¡Œæ’åºï¼Œå¹¶æœ€ç»ˆç”¨æ’å…¥æ’åºå°†å±€éƒ¨æœ‰åºçš„æ•°ç»„æ’åºã€‚</p><p>åœ¨æ­¤æˆ‘ä»¬é€‰æ‹©å¢é‡ <strong>gap &#x3D; length &#x2F; 2</strong>ï¼Œç¼©å°å¢é‡ä»¥ <strong>gap &#x3D; gap &#x2F; 2</strong> çš„æ–¹å¼ï¼Œç”¨åºåˆ— <strong>{n &#x2F; 2, (n &#x2F; 2) &#x2F; 2ï¼Œâ€¦ï¼Œ1}</strong> æ¥è¡¨ç¤ºã€‚</p><p>å¦‚å›¾ç¤ºä¾‹ï¼š</p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522175948956.png" alt="image-20220522175948956" style="zoom:80%;"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">shellSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> gap = n;</span><br><span class="line">    <span class="keyword">while</span> (gap &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// gap &gt; 1        é¢„æ’åº</span></span><br><span class="line">        <span class="comment">//æœ€åä¸€æ¬¡gap = 1 ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line">        gap = gap / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - gap; i++) &#123;</span><br><span class="line">            <span class="type">int</span> end = i;</span><br><span class="line">            <span class="type">int</span> tmp = arr[end + gap];</span><br><span class="line">            <span class="keyword">while</span> (end &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[end] &gt; tmp) &#123;</span><br><span class="line">                    arr[end + gap] = arr[end];</span><br><span class="line">                    end -= gap;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            arr[end + gap] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong></p><p>â˜‘ å¸Œå°”æ’åºæ˜¯å¯¹ç›´æ¥æ’å…¥æ’åºçš„ä¼˜åŒ–ã€‚<br>â˜‘ å½“<strong>gap&gt;1</strong>æ—¶éƒ½æ˜¯é¢„æ’åºï¼Œç›®çš„æ˜¯è®©æ•°ç»„æ›´å¿«æ¥è¿‘äºæœ‰åºï¼ˆè·³çš„å¿«ï¼‰<br>å½“<strong>gap &#x3D;&#x3D; 1</strong>æ—¶ï¼ˆç›¸å½“äºç›´æ¥æ’å…¥æ’åºï¼‰ï¼Œæ•°ç»„å·²ç»æ¥è¿‘æœ‰åºçš„äº†ï¼Œè¿™æ ·å°±ä¼šå¾ˆå¿«ã€‚è¿™æ ·æ•´ä½“è€Œè¨€ï¼Œå¯ä»¥è¾¾åˆ°ä¼˜åŒ–çš„æ•ˆæœã€‚æˆ‘ä»¬å®ç°åå¯ä»¥è¿›è¡Œæ€§èƒ½æµ‹è¯•çš„å¯¹æ¯”ã€‚<br>å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸å¥½è®¡ç®—ï¼Œå› ä¸ºgapçš„å–å€¼æ–¹æ³•å¾ˆå¤šï¼Œå¯¼è‡´å¾ˆéš¾å»è®¡ç®—ï¼Œå› æ­¤åœ¨å¥½äº›ä¹¦ä¸­ç»™å‡ºçš„å¸Œå°”æ’åº<br>çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸å›ºå®šï¼š<br>ä¸¾ä¸ªğŸŒ°ï¼šKnuthåœ¨æ‰€è‘—çš„ã€Šè®¡ç®—æœºç¨‹åºè®¾è®¡æŠ€å·§ã€‹ç¬¬ä¸‰å·ä¸­ï¼Œåˆ©ç”¨å¤§é‡çš„å®éªŒç»Ÿè®¡èµ„æ–™å¾—å‡ºï¼Œå½“nå¾ˆå¤§æ—¶ï¼Œå…³é”®ç å¹³å‡æ¯”è¾ƒæ¬¡æ•°å’Œå¯¹è±¡å¹³å‡ç§»åŠ¨æ¬¡æ•°å¤§æ¦‚åœ¨èŒƒå›´n^1.25åˆ°1.6 * n^1.25èŒƒå›´å†…ï¼Œè¿™æ˜¯åˆ©ç”¨ç›´æ¥æ’å…¥æ’åºä½œä¸ºå­åºåˆ—æ’åºæ–¹æ³•çš„æƒ…å†µä¸‹å¾—åˆ°çš„ã€‚<br>å› ä¸ºå’±ä»¬çš„gapæ˜¯æŒ‰ç…§Knuthæå‡ºçš„æ–¹å¼å–å€¼çš„ï¼Œè€ŒKnuthè¿›è¡Œäº†å¤§é‡çš„è¯•éªŒç»Ÿè®¡ï¼Œ<strong>æˆ‘ä»¬æš‚æ—¶å°±æŒ‰ç…§ï¼šO(n^1.25)åˆ°O(1.6 * n^1.25)æ¥ç®—ã€‚</strong><br>â˜‘ ç¨³å®šæ€§ï¼šä¸ç¨³å®š(ç›¸åŒçš„æ•°æ®å¯èƒ½è¢«åˆ†åˆ°ä¸åŒçš„gapç»„)</p></blockquote><hr><h1 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h1><p>æ¯ä¸€æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç›´åˆ°å…¨éƒ¨å¾…æ’åºçš„æ•°æ®å…ƒç´ æ’å®Œ ã€‚</p><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/selectionSort.gif" alt="img"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> min = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[min]) min = j;</span><br><span class="line">        <span class="built_in">swap</span>(arr[i], arr[min]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“</strong>ï¼š<br>â˜‘ ç›´æ¥é€‰æ‹©æ’åºæ€è€ƒéå¸¸å¥½ç†è§£ï¼Œä½†æ˜¯æ•ˆç‡ä¸æ˜¯å¾ˆå¥½ã€‚å®é™…ä¸­å¾ˆå°‘ä½¿ç”¨<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(n^2)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(1)</strong><br>â˜‘ ç¨³å®šæ€§ï¼šä¸ç¨³å®š</p></blockquote><hr><h1 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h1><p>ä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœé¡ºåºä¸ç¬¦åˆè¦æ±‚ï¼Œå°±äº¤æ¢ä½ç½®ã€‚èµ°è®¿å…ƒç´ çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰ç›¸é‚»å…ƒç´ éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥å…ƒç´ åˆ—å·²ç»æ’åºå®Œæˆã€‚</p><p>è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ï¼ˆå‡åºæˆ–é™åºæ’åˆ—ï¼‰ï¼Œå°±å¦‚åŒç¢³é…¸é¥®æ–™ä¸­äºŒæ°§åŒ–ç¢³çš„æ°”æ³¡æœ€ç»ˆä¼šä¸Šæµ®åˆ°é¡¶ç«¯ä¸€æ ·ï¼Œæ•…åâ€œå†’æ³¡æ’åºâ€ã€‚â€</p><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/bubbleSort.gif" alt="img"></p><p>åœ¨è¿™é‡Œæˆ‘ä»¬åŠ ä¸€ä¸ª<strong>flag</strong>æ¥åˆ¤æ–­å¾…æ’åºæ•°åˆ—æ˜¯å¦å·²ç»æœ‰åºï¼ˆä¸äº¤æ¢å°±æ˜¯å·²ç»æœ‰åºäº†ï¼‰ï¼Œè¿™æ ·çš„ä¸€å®šç¨‹åº¦ä¸Šæé«˜æ•ˆç‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubbleSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//å•è¶Ÿ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; n - i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j - <span class="number">1</span>] &gt; arr[j]) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="built_in">swap</span>(arr[j - <span class="number">1</span>], arr[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) <span class="keyword">break</span>; <span class="comment">//å·²ç»æœ‰åºäº†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>â˜‘ å†’æ³¡æ’åºæ˜¯ä¸€ç§éå¸¸å®¹æ˜“ç†è§£çš„æ’åº<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(n^2)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(1)</strong><br>â˜‘ ç¨³å®šæ€§ï¼šç¨³å®š</p></blockquote><hr><h1 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h1><p>å¿«é€Ÿæ’åºæ˜¯ç”±Hoareæ‰€å‘å±•çš„ä¸€ç§æ’åºç®—æ³•ã€‚å¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•ï¼ˆDivide and conquerï¼‰ç­–ç•¥ã€‚<strong>åŸºæœ¬æ€æƒ³</strong>ä¸ºï¼šä»»å–å¾…æ’åºå…ƒç´ åºåˆ—ä¸­çš„æŸå…ƒç´ ä½œä¸ºåŸºå‡†å€¼ï¼ŒæŒ‰ç…§è¯¥æ’åºç å°†å¾…æ’åºé›†åˆåˆ†å‰²æˆä¸¤å­åºåˆ—ï¼Œå·¦å­åºåˆ—ä¸­æ‰€æœ‰å…ƒç´ å‡å°äºåŸºå‡†å€¼ï¼Œå³å­åºåˆ—ä¸­æ‰€æœ‰å…ƒç´ å‡å¤§äºåŸºå‡†å€¼ï¼Œç„¶åæœ€å·¦å³å­åºåˆ—é‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½æ’åˆ—åœ¨ç›¸åº”ä½ç½®ä¸Šä¸ºæ­¢ã€‚</p><p>åœ¨å¹³å‡çŠ¶å†µä¸‹ï¼Œæ’åº n ä¸ªå…ƒç´ è¦ <code>ÎŸ(nlogn)</code> æ¬¡æ¯”è¾ƒã€‚åœ¨æœ€åçŠ¶å†µä¸‹åˆ™éœ€è¦ <code>ÎŸ(n^2)</code> æ¬¡æ¯”è¾ƒï¼Œä½†è¿™ç§çŠ¶å†µå¹¶ä¸å¸¸è§ã€‚äº‹å®ä¸Šï¼Œå¿«é€Ÿæ’åºé€šå¸¸æ˜æ˜¾æ¯”å…¶ä»– <strong>ÎŸ(nlogn)</strong> ç®—æ³•æ›´å¿«ï¼Œå› ä¸ºå®ƒçš„å†…éƒ¨å¾ªç¯ï¼ˆinner loopï¼‰å¯ä»¥åœ¨å¤§éƒ¨åˆ†çš„æ¶æ„ä¸Šå¾ˆæœ‰æ•ˆç‡åœ°è¢«å®ç°å‡ºæ¥ã€‚</p><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/quickSort.gif" alt="img"></p><h2 id="åŸºæœ¬å®ç°"><a href="#åŸºæœ¬å®ç°" class="headerlink" title="åŸºæœ¬å®ç°"></a>åŸºæœ¬å®ç°</h2><p>é‡‡ç”¨å½“å‰æœ€å·¦ä¾§çš„å…ƒç´ ä¸ºåˆ’åˆ†æ¢çº½ï¼Œé€’å½’æ³•ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> tmp = arr[l]; <span class="comment">//é€‰å–æœ€å·¦ä¾§å…ƒç´ ä¸ºæ¢çº½</span></span><br><span class="line">    <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r &amp;&amp; arr[r] &gt;= tmp) r--;</span><br><span class="line">        arr[l] = arr[r];</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r &amp;&amp; arr[l] &lt;= tmp) l++;</span><br><span class="line">        arr[r] = arr[l];</span><br><span class="line">    &#125;</span><br><span class="line">    arr[l] = tmp;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="type">int</span> mid = <span class="built_in">partition</span>(arr, l, r);</span><br><span class="line">        <span class="built_in">quickSort</span>(arr, l, mid - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">quickSort</span>(arr, mid + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•ä¸ªå‡½æ•°å®ç°å¿«æ’ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œï¼ˆä»¥ arr[l] ä½œä¸ºåŸºå‡†æ•°ï¼‰</span></span><br><span class="line">    <span class="type">int</span> i = l, j = r;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="comment">//é¡ºåºä¸èƒ½ä¹±</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[j] &gt;= arr[l]) j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[i] &lt;= arr[l]) i++;</span><br><span class="line">        <span class="built_in">swap</span>(arr[i], arr[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(arr[i], arr[l]);</span><br><span class="line">    <span class="comment">// é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">    <span class="built_in">quickSort</span>(arr, l, i - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">quickSort</span>(arr, i + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong></p><p>â˜‘ å¯å¿«é€Ÿæ’åºæ•´ä½“çš„ç»¼åˆæ€§èƒ½å’Œä½¿ç”¨åœºæ™¯éƒ½æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œæ‰€ä»¥æ‰æ•¢å«å¿«é€Ÿæ’åº<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(nlogn)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(logn)~O(n)</strong> (æœ€åæƒ…å†µæ¯æ¬¡keyéƒ½å–åˆ°æœ€å¤§æˆ–æœ€å°ï¼Œè¦é€’å½’nå±‚)<br>â˜‘ ç¨³å®šæ€§ï¼šä¸ç¨³å®š(é€‰key, ä¸‰æ•°å–ä¸­ï¼Œå¾ˆå¤šå› ç´ ä½¿å®ƒä¸ç¨³å®š)</p></blockquote><h2 id="å¿«æ’çš„ä¼˜åŒ–"><a href="#å¿«æ’çš„ä¼˜åŒ–" class="headerlink" title="å¿«æ’çš„ä¼˜åŒ–"></a>å¿«æ’çš„ä¼˜åŒ–</h2><h3 id="æ¢çº½å€¼é€‰å–"><a href="#æ¢çº½å€¼é€‰å–" class="headerlink" title="æ¢çº½å€¼é€‰å–"></a>æ¢çº½å€¼é€‰å–</h3><p><code>partition</code>å¦‚æœæ¯æ¬¡é€‰å‡ºçš„<code>key</code>éƒ½æ˜¯æœ€å°æˆ–æœ€å¤§çš„ä¼šä½¿æ•ˆç‡å¤§å¤§é™ä½ã€‚ä¾‹å¦‚ï¼š1 2 3 4 5 6 è¿™ç§å·²ç»é¡ºåºäº†çš„ï¼Œå–æœ€å·¦æˆ–è€…æœ€å³éƒ½ä¼šå¾ˆæ…¢ï¼Œäºæ˜¯æˆ‘ä»¬æƒ³åˆ°èƒ½å¦é€‰å‡ºä¸€ä¸ªä¸æ˜¯æœ€å¤§ä¹Ÿä¸æ˜¯æœ€å°çš„æ•°åškeyã€‚</p><ul><li><p><strong>éšæœºé€‰å–æ³•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">swap</span>(arr[l], arr[<span class="built_in">rand</span>() % (r - l + <span class="number">1</span>) + l]);</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¸‰æ•°å–ä¸­æ³•</strong></p></li></ul><p>æœ€å·¦ï¼Œæœ€å³ï¼Œä¸­é—´ä¸‰ä¸ªä½ç½®çš„æ•°è¿›è¡Œæ¯”è¾ƒï¼Œé€‰å‡ºä¸­ç­‰å¤§å°çš„é‚£ä¸ªåškey</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€‰å‡ºä¸­ç­‰å¤§å°æ•°çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMidIndex</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (arr[left] &lt; arr[mid]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; arr[right]) <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr[left] &lt; arr[right]) <span class="keyword">return</span> right;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[right] &gt; arr[left]) <span class="keyword">return</span> left;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; arr[right]) <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// swap(arr[l], arr[rand() % (r - l + 1) + l]);</span></span><br><span class="line">    <span class="comment">//ä¸‰æ•°å–ä¸­</span></span><br><span class="line">    <span class="type">int</span> m = <span class="built_in">getMidIndex</span>(arr, l, r);</span><br><span class="line">    <span class="built_in">swap</span>(arr[m], arr[l]);</span><br><span class="line">    ......</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="æ”¹å˜å°åŒºé—´æ’åºæ–¹å¼"><a href="#æ”¹å˜å°åŒºé—´æ’åºæ–¹å¼" class="headerlink" title="æ”¹å˜å°åŒºé—´æ’åºæ–¹å¼"></a>æ”¹å˜å°åŒºé—´æ’åºæ–¹å¼</h3><p>å¿«æ’çš„ç»“æ„æ˜¯ç±»ä¼¼äºäºŒå‰æ ‘çš„ï¼ŒäºŒå‰æ ‘æœ€åå‡ å±‚çš„æ•°æ˜¯æœ€å¤šçš„ï¼Œæ’åºéš¾åº¦ä¹Ÿå¾ˆä½ï¼Œæ˜¯å¦èƒ½å¤Ÿä¸é€’å½’åˆ°æœ€å°åŒºé—´ï¼Œä¸­é€”å°±è¿ç”¨å¦ä¸€ç§æ’åºæ–¹æ³•è¿”å›æœ‰åºæ•°ç»„ç»™ä¸Šä¸€å±‚æ¥ä¼˜åŒ–å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„</p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522193251949.png" alt="image-20220522193251949" style="zoom:80%;"><p>å°åŒºé—´ä¼˜åŒ–ï¼šé€’å½’åˆ°å°çš„å­åŒºé—´æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ’å…¥æ’åº ï¼Œå‡å°‘é€’å½’è°ƒç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = l; i &lt; r; ++i) &#123;</span><br><span class="line">        <span class="comment">//ä»¥endæ‰€åœ¨ä½ç½®çš„å‰é¢æ‰€æœ‰å…ƒç´ å·²æœ‰åº</span></span><br><span class="line">        <span class="type">int</span> end = i;</span><br><span class="line">        <span class="comment">//å•è¶Ÿæ’åº</span></span><br><span class="line">        <span class="type">int</span> tmp = arr[end + <span class="number">1</span>]; <span class="comment">//æš‚å­˜è¦æ’å…¥çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (end &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[end] &gt; tmp)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[end + <span class="number">1</span>] = arr[end]; <span class="comment">//ç§»å¼€ï¼Œè…¾ä½ç½®</span></span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[end + <span class="number">1</span>] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å°åŒºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­åŒºé—´ç›¸ç­‰åªæœ‰ä¸€ä¸ªå€¼æˆ–è€…ä¸å­˜åœ¨é‚£ä¹ˆå°±æ˜¯é€’å½’ç»“æŸçš„å­é—®é¢˜</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (r - l + <span class="number">1</span> &lt;= <span class="number">3</span>) <span class="built_in">insertSort</span>(arr, l, r); <span class="comment">//13ä¸ºå°åŒºé—´é—¨æ§›å€¼</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> mid = <span class="built_in">partition</span>(arr, l, r);</span><br><span class="line">        <span class="built_in">quickSort</span>(arr, l, mid - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">quickSort</span>(arr, mid + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="éé€’å½’å®ç°å¿«æ’"><a href="#éé€’å½’å®ç°å¿«æ’" class="headerlink" title="éé€’å½’å®ç°å¿«æ’"></a>éé€’å½’å®ç°å¿«æ’</h2><p>éœ€è¦ç”¨æ ˆå®ç°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éé€’å½’</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span> begin, <span class="type">int</span> end)</span> </span>&#123;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">    stk.<span class="built_in">emplace</span>(begin);</span><br><span class="line">    stk.<span class="built_in">emplace</span>(end);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å³è¾¹å¤„ç†å®Œäº†å†å¤„ç†å·¦è¾¹</span></span><br><span class="line">    <span class="keyword">while</span> (!stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> right = stk.<span class="built_in">top</span>();</span><br><span class="line">        stk.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> left = stk.<span class="built_in">top</span>();</span><br><span class="line">        stk.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> key = <span class="built_in">partition</span>(arr, left, right);</span><br><span class="line">        <span class="keyword">if</span> (left &lt; key - <span class="number">1</span>) &#123;</span><br><span class="line">            stk.<span class="built_in">emplace</span>(left);</span><br><span class="line">            stk.<span class="built_in">emplace</span>(key - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (key + <span class="number">1</span> &lt; right) &#123;</span><br><span class="line">            stk.<span class="built_in">emplace</span>(key + <span class="number">1</span>);</span><br><span class="line">            stk.<span class="built_in">emplace</span>(right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºäºå¿«æ’æ€æƒ³å®ç°TopK"><a href="#åŸºäºå¿«æ’æ€æƒ³å®ç°TopK" class="headerlink" title="åŸºäºå¿«æ’æ€æƒ³å®ç°TopK"></a>åŸºäºå¿«æ’æ€æƒ³å®ç°TopK</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//å¿«é€Ÿæ’åºåˆ’åˆ†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> low, <span class="type">int</span> high, <span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="built_in">swap</span>(nums[low], nums[<span class="built_in">rand</span>() % (high - low + <span class="number">1</span>) + low]);<span class="comment">//éšæœºåŒ–æ¢çº½</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> pivort = nums[low]; <span class="comment">//å–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´å…ƒç´ </span></span><br><span class="line">    <span class="type">int</span> low_tmp = low; <span class="comment">//ä¿å­˜lowå½“å‰ä¸‹æ ‡</span></span><br><span class="line">    <span class="type">int</span> high_tmp = high; <span class="comment">//ä¿å­˜highå½“å‰ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">while</span>(low &lt; high)&#123;</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high &amp;&amp; nums[high] &lt;= pivort) high--; <span class="comment">//æ¢è½´å…ƒç´ å³è¾¹å…¨æ”¾å°çš„</span></span><br><span class="line">        nums[low] = nums[high]; <span class="comment">//å¤§çš„æ”¾åˆ°å·¦è¾¹</span></span><br><span class="line">        <span class="keyword">while</span>(low &lt; high &amp;&amp; nums[low] &gt;= pivort) low++;   <span class="comment">//æ¢è½´å…ƒç´ å·¦è¾¹å…¨æ”¾å¤§çš„</span></span><br><span class="line">        nums[high] = nums[low]; <span class="comment">//å°çš„æ”¾åˆ°å³è¾¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½“lowå’Œhighç›¸ç­‰æ—¶ï¼Œè¯´æ˜å·²ç»æ’å¥½äº†ï¼ŒæŠŠæ¢è½´å…ƒç´ æ”¾å¥½</span></span><br><span class="line">    nums[low] = pivort;</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ¢è½´å…ƒç´ æ˜¯å¦æ˜¯ç¬¬kä¸ªæœ€å¤§çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span>(low == k<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> nums[low];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(low &gt; k<span class="number">-1</span>)&#123; <span class="comment">//å¦‚æœå½“å‰æ¢è½´å…ƒç´ ç´¢å¼•æ¯”k-1å¤§ï¼Œè¯´æ˜è¦åœ¨å·¦è¾¹æ‰¾</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Partition</span>(nums, low_tmp, low<span class="number">-1</span>, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123; <span class="comment">//å¦‚æœå½“å‰æ¢è½´å…ƒç´ ç´¢å¼•æ¯”k-1å°ï¼Œè¯´æ˜è¦åœ¨å³è¾¹æ‰¾</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Partition</span>(nums, low + <span class="number">1</span>, high_tmp, k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">findKthLargest</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Partition</span>(nums, <span class="number">0</span>, nums.<span class="built_in">size</span>()<span class="number">-1</span>, k); <span class="comment">//é€’å½’åˆ’åˆ†æŸ¥æ‰¾</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; arr = &#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">4</span>;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">findKthLargest</span>(arr, k);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h1><p>å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œæ˜¯é€‰æ‹©æ’åºçš„ä¸€ç§ã€‚å †æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚å †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š</p><ol><li><strong>å¤§é¡¶å †</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºå‡åºæ’åˆ—ï¼›</li><li><strong>å°é¡¶å †</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºé™åºæ’åˆ—ï¼›</li></ol><p>å †æ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º <code>ÎŸ(nlogn)</code>ã€‚</p><p><strong>æ­¥éª¤ï¼ˆä»¥å¤§é¡¶å †ä¸ºä¾‹ï¼‰ï¼š</strong></p><ul><li><p><strong>å»ºå †è¿‡ç¨‹</strong>ï¼šå°†æ•°ç»„çœ‹æˆä¸€ä¸ªå‡æƒ³çš„å®Œå…¨äºŒå‰æ ‘ï¼Œä»ç¬¬ä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹å¾€ä¸Šæ“ä½œï¼Œæ¯æ¬¡æ“ä½œçš„å†…å®¹æ˜¯ä¿è¯å½“å‰èŠ‚ç‚¹æ˜¯è‡ªå·±å’Œå·¦å³èŠ‚ç‚¹ä¸­çš„æœ€å¤§å€¼ï¼Œä¸æ˜¯åˆ™è¿›è¡Œäº¤æ¢è¾¾æˆè¿™ä¸ªç›®æ ‡ï¼Œç»§ç»­å¾€ä¸‹è¿›è¡Œè¿™ä¸ªä¸‹æ²‰æ“ä½œç›´åˆ°å¶å­èŠ‚ç‚¹ä¸ºæ­¢ï¼Œè¿™æ ·ç¬¬ä¸€æ¬¡å»ºæ ‘åè‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹æœ€å¤§</p></li><li><p><strong>æ’åºè¿‡ç¨‹</strong>ï¼šå°†æ ¹èŠ‚ç‚¹æ¢åˆ°æ•°ç»„çš„æœ€åé¢å»ï¼Œç„¶åéœ€è¦æ’åºçš„æ•°ç»„é•¿åº¦-1ã€‚ä¹‹åå°±æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œä¸‹æ²‰æ“ä½œè®©æ ¹èŠ‚ç‚¹æœ€å¤§äº†ï¼Œå»ºæ ‘çš„æ—¶é—´å¤æ‚åº¦ä¸ºçœ‹èµ·æ¥<strong>N&#x2F;2 * logN</strong>ï¼Œå®é™…è®¡ç®—å‡ºæ¥æ—¶<strong>O(N)</strong></p></li></ul><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/heapSort.gif" alt="img"></p><p>å¦‚æœæŒ‰ç…§ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹å¾€ä¸Šæ“ä½œçš„è¯å¤æ‚åº¦å°±æ˜¯Nï¼Œæ¯æ¬¡è°ƒæ•´å †çš„å¤æ‚åº¦ä¸º<strong>logn</strong></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapify</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> m, <span class="type">int</span> len)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> maxIdx = m;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">2</span> * m + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> right = <span class="number">2</span>  * m + <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(left &lt; len &amp;&amp; nums[left] &gt; nums[maxIdx]) maxIdx = left;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; len &amp;&amp; nums[right] &gt; nums[maxIdx]) maxIdx = right;</span><br><span class="line">        <span class="keyword">if</span>(maxIdx != m)&#123;</span><br><span class="line">            <span class="built_in">swap</span>(nums[m], nums[maxIdx]);</span><br><span class="line">            <span class="built_in">heapify</span>(nums, maxIdx, len);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="comment">//å»ºå †</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = len / <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        <span class="built_in">heapify</span>(arr, i, len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ’åº</span></span><br><span class="line">    <span class="keyword">while</span>(len &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">swap</span>(arr[<span class="number">0</span>] , arr[len - <span class="number">1</span>]);</span><br><span class="line">        len--;</span><br><span class="line">        <span class="built_in">heapify</span>(arr, <span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; arr = &#123;<span class="number">8</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="built_in">heapSort</span>(arr);</span><br><span class="line">    for_each(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), [](<span class="type">int</span> x)&#123;cout&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>;&#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>â˜‘ å †æ’åºä½¿ç”¨å †æ¥é€‰æ•°ï¼Œæ•ˆç‡å°±é«˜äº†å¾ˆå¤šã€‚<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(nlogn)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(1)</strong><br>â˜‘ ç¨³å®šæ€§ï¼šä¸ç¨³å®š</p></blockquote><h2 id="å»ºå †æ—¶é—´å¤æ‚åº¦åˆ†æ"><a href="#å»ºå †æ—¶é—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="å»ºå †æ—¶é—´å¤æ‚åº¦åˆ†æ"></a>å»ºå †æ—¶é—´å¤æ‚åº¦åˆ†æ</h2><p>å †æ’åºä¸»è¦åˆ†<strong>å»ºå †</strong>å’Œ<strong>è°ƒæ•´</strong>ä¸¤ä¸ªæ“ä½œï¼Œæˆ‘ä»¬å…ˆåˆ†åˆ«æ¥åˆ†æä¸¤ä¸ªé˜¶æ®µçš„æ—¶é—´å¤æ‚åº¦</p><ul><li>ç­›é€‰æ³•å»ºå †</li></ul><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522202250476.png" alt="image-20220522202250476"></p><p>ç­›é€‰æ³•<strong>æœ€å¥½æ—¶é—´å¤æ‚åº¦</strong>ï¼šå½“æŒ‰é¡ºåºç”Ÿæˆçš„å®Œå…¨äºŒå‰æ ‘å°±æ»¡è¶³å †çš„è¦æ±‚çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ­¥éª¤(2) ä¸­æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦è¿›è¡Œä¸¤æ¬¡æ¯”è¾ƒ(ä¸€æ¬¡ä¸ºå·¦å³å­©å­æ¯”è¾ƒï¼Œç¬¬äºŒæ¬¡æ˜¯ä¸æœ€å¤§çš„å­©å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ),æ‰€ä»¥æœ€å¥½æ—¶é—´å¤æ‚åº¦ä¸º <strong>O(n)</strong></p><p>ç­›é€‰æ³•<strong>æœ€åæ—¶é—´å¤æ‚åº¦</strong>ï¼šå½“æ¯æ¬¡æ£€æŸ¥éƒ½éœ€è¦äº¤æ¢å¹¶ä¸”ä¸€ç›´æ£€æŸ¥åˆ°å¶å­èŠ‚ç‚¹æ—¶ï¼šç¬¬kå±‚èŠ‚ç‚¹æœ€å¤šéœ€è¦å‘ä¸‹ç§»åŠ¨h-kæ¬¡ï¼Œhä¸ºå †é«˜ï¼Œç”±äºŒå‰æ ‘çš„æ€§è´¨å¯çŸ¥ï¼Œç¬¬kå±‚æœ€å¤šæœ‰2^(k-1)ä¸ªèŠ‚ç‚¹ï¼Œ</p><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522202554428.png" alt="image-20220522202554428"></p><p>æ‰€ä»¥ç­›é€‰æ³•å»ºå †çš„æœ€åæ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸ºO(n)é‡çº§ã€‚</p><hr><h1 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h1><p>å½’å¹¶æ’åºï¼ˆMERGE-SORTï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•,è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide andConquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚</p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/23534.gif" alt="23534" style="zoom: 67%;"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span>  l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l  &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid = l + ((r - l)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">mergeSort</span>(arr, l, mid);</span><br><span class="line">    <span class="built_in">mergeSort</span>(arr, mid + <span class="number">1</span>, r);</span><br><span class="line">    <span class="comment">// å°†ä¸¤æ®µæ’åºåˆå¹¶</span></span><br><span class="line">    <span class="type">int</span>  k = <span class="number">0</span>, i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">tmp</span><span class="params">(r - l + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">        tmp[k++] = arr[i] &lt;= arr[j] ? arr[i++] : arr[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k++] = arr[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k++] = arr[j++];</span><br><span class="line">    <span class="comment">// å¤åˆ¶å›æ¥åŸæ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; tmp.<span class="built_in">size</span>(); ++i) arr[l + i] = tmp[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>â˜‘ å½’å¹¶çš„ç¼ºç‚¹åœ¨äºéœ€è¦<strong>O(n)<strong>çš„ç©ºé—´å¤æ‚åº¦ï¼Œå½’å¹¶æ’åºçš„æ€è€ƒæ›´å¤šçš„æ˜¯è§£å†³åœ¨ç£ç›˜ä¸­çš„å¤–æ’åºé—®é¢˜ã€‚<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š</strong>O(nlogn)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(n)</strong><br>â˜‘ ç¨³å®šæ€§ï¼šç¨³å®š</p></blockquote><h2 id="éé€’å½’å®ç°å½’å¹¶æ’åº"><a href="#éé€’å½’å®ç°å½’å¹¶æ’åº" class="headerlink" title="éé€’å½’å®ç°å½’å¹¶æ’åº"></a>éé€’å½’å®ç°å½’å¹¶æ’åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr, <span class="type">int</span>  l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">tmp</span><span class="params">(r - l + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> gap = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n = r - l + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (gap &lt; n) &#123;</span><br><span class="line">        <span class="comment">//é—´è·ä¸ºgapä¸ºä¸€ç»„ï¼Œä¸¤ä¸¤å½’å¹¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">2</span> * gap) &#123;</span><br><span class="line">            <span class="type">int</span> begin1 = i, end1 = i + gap - <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> begin2 = i + gap, end2 = i + <span class="number">2</span> * gap - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//åªæœ‰end1è¶Šç•Œï¼Œç›´æ¥ä¿®æ­£</span></span><br><span class="line">            <span class="keyword">if</span> (end1 &gt;= n) end1 = n - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// begin2ä¸å­˜åœ¨ï¼Œç¬¬äºŒä¸ªåŒºé—´ä¸å­˜åœ¨,ä¿®æ­£æˆä¸€ä¸ªä¸å­˜åœ¨çš„åŒºé—´</span></span><br><span class="line">            <span class="keyword">if</span> (begin2 &gt;= n) &#123;</span><br><span class="line">                begin2 = n;</span><br><span class="line">                end2 = n - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// begin2æ²¡äº‹end2è¶Šç•Œï¼Œä¿®æ­£end2</span></span><br><span class="line">            <span class="keyword">if</span> (end2 &gt;= n) end2 = n - <span class="number">1</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å°†ä¸¤æ®µæ’åºåˆå¹¶</span></span><br><span class="line">            <span class="type">int</span> index = i;</span><br><span class="line">            <span class="keyword">while</span> (begin1 &lt;= end1 &amp;&amp; begin2 &lt;= end2) &#123;</span><br><span class="line">                tmp[index++] = arr[begin1] &lt;= arr[begin2] ? arr[begin1++] : arr[begin2++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (begin1 &lt;= end1) tmp[index++] = arr[begin1++];</span><br><span class="line">            <span class="keyword">while</span> (begin2 &lt;= end2) tmp[index++] = arr[begin2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤åˆ¶å›æ¥åŸæ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; tmp.<span class="built_in">size</span>(); ++i) arr[l + i] = tmp[i];</span><br><span class="line"></span><br><span class="line">        gap *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p>ä»¥ä¸Šæ’åºç®—æ³•éƒ½æ˜¯åŸºäºå…ƒç´ æ¯”è¾ƒçš„æ’åºç®—æ³•ã€‚æ¥ä¸‹æ¥ä»‹ç»çš„è®¡æ•°æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºéƒ½æ˜¯<strong>éæ¯”è¾ƒæ’åºç®—æ³•</strong>ã€‚</p></blockquote><h1 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h1><p>æ€æƒ³ï¼šè®¡æ•°æ’åºåˆç§°ä¸ºé¸½å·¢åŸç†ï¼Œæ˜¯å¯¹å“ˆå¸Œç›´æ¥å®šå€æ³•çš„å˜å½¢åº”ç”¨ã€‚</p><p>æ“ä½œæ­¥éª¤ï¼š</p><ul><li>ç»Ÿè®¡ç›¸åŒå…ƒç´ å‡ºç°æ¬¡æ•°</li><li>æ ¹æ®ç»Ÿè®¡çš„ç»“æœå°†åºåˆ—å›æ”¶åˆ°åŸæ¥çš„åºåˆ—ä¸­</li></ul><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/countingSort.gif" alt="img"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€‚ç”¨äºèŒƒå›´é›†ä¸­çš„æ•°ï¼Œæ’è´Ÿæ•°ä¹Ÿè¡Œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">countSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> minElem = *<span class="built_in">min_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> maxElem = *<span class="built_in">max_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> range = maxElem - minElem + <span class="number">1</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">cnt</span><span class="params">(range)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cnt[arr[i] - minElem]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; range; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (cnt[i]--) &#123;</span><br><span class="line">            arr[index++] = i + minElem;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>â˜‘ è®¡æ•°æ’åºåœ¨æ•°æ®èŒƒå›´é›†ä¸­æ—¶ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯é€‚ç”¨èŒƒå›´åŠåœºæ™¯æœ‰é™ï¼Œæµ®ç‚¹æ•°å°±æ²¡æ³•æ’ï¼Œ<br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼šO(max(n, range)<br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼šO(range)<br>â˜‘ ç¨³å®šæ€§ï¼šç¨³å®š</p></blockquote><hr><h1 id="æ¡¶æ’åºï¼ˆç®±æ’åºï¼‰"><a href="#æ¡¶æ’åºï¼ˆç®±æ’åºï¼‰" class="headerlink" title="æ¡¶æ’åºï¼ˆç®±æ’åºï¼‰"></a>æ¡¶æ’åºï¼ˆç®±æ’åºï¼‰</h1><p>æ¡¶æ’åº (Bucket sort)çš„å·¥ä½œçš„åŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’</p><p>æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°è¿™ä¸¤ç‚¹ï¼š</p><ol><li>åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡</li><li>ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ <strong>N</strong> ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° <strong>K</strong> ä¸ªæ¡¶ä¸­</li></ol><p>åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚</p><p><strong>æ“ä½œæ­¥éª¤</strong></p><ul><li>è®¾ç½®ä¸€ä¸ªå®šé‡çš„æ•°ç»„å½“ä½œç©ºæ¡¶ï¼›</li><li>æ¯ä¸ªæ¡¶å­˜æ”¾è¯¥åŒºé—´çš„æ•°æ®ï¼Œç”±äºæ¯ä¸ªæ¡¶å†…çš„æ•°æ®å…ƒç´ ä¸ªæ•°ä¸ç¡®å®šï¼Œå¯ä»¥ä½¿ç”¨é“¾è¡¨è¡¨ç¤ºï¼ŒåŒæ—¶ä½¿ç”¨æ’å…¥æ’åºï¼Œè®©æ¯ä¸ªæ¡¶çš„é“¾è¡¨æœ‰åºã€‚</li><li>è¿™æ ·æŒ‰ç…§æ¬¡åºå°†æ‰€æœ‰æ¡¶çš„å…ƒç´ è¿èµ·æ¥å°±å¾—åˆ°å®Œæ•´çš„æœ‰åºåˆ—è¡¨ã€‚</li></ul><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/23523.png" alt="23523" style="zoom: 67%;"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(list&lt;<span class="type">int</span>&gt;&amp; bucket, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> iter = bucket.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (iter != bucket.<span class="built_in">end</span>() &amp;&amp; val &gt;= *iter)</span><br><span class="line">        ++iter;</span><br><span class="line">    <span class="comment">// insertä¼šåœ¨iterä¹‹å‰æ’å…¥æ•°æ®ï¼Œè¿™æ ·å¯ä»¥ç¨³å®šæ’åº</span></span><br><span class="line">    bucket.<span class="built_in">insert</span>(iter, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bucketSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (len &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> minElem = *<span class="built_in">min_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> maxElem = *<span class="built_in">max_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> k = <span class="number">10</span>; <span class="comment">// kä¸ºæ•°å­—ä¹‹é—´çš„é—´éš”</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘ä¸Šå–æ•´ï¼Œä¾‹å¦‚[0,9]æœ‰10ä¸ªæ•°ï¼Œ(9 - 0)/k + 1 = 1;</span></span><br><span class="line">    <span class="type">int</span> bucketsNum = (maxElem - minElem) / k + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    vector&lt;list&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">buckets</span>(bucketsNum);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> value = arr[i];</span><br><span class="line">        <span class="comment">//(value-min)/kå°±æ˜¯åœ¨å“ªä¸ªæ¡¶é‡Œé¢</span></span><br><span class="line">        <span class="built_in">insert</span>(buckets[(value - minElem) / k], value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; bucketsNum; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!buckets[i].<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;value : buckets[i])</span><br><span class="line">                arr[index++] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç†è®ºä¸Šæ¥è®²ï¼Œæ¡¶çš„æ•°é‡è¶Šå¤šï¼Œæ—¶é—´å¤æ‚åº¦å°±è¶Šä½ï¼Œå½“ç„¶ç©ºé—´å¤æ‚åº¦å°±è¶Šé«˜ã€‚è€Œä¸”å’Œè®¡æ•°æ’åºå¾ˆç›¸ä¼¼ï¼Œå¦‚æœæ¡¶çš„æ•°é‡æ˜¯ <strong>max - min + 1</strong>ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ¡¶æ’åºå’Œè®¡æ•°æ’åºå‡ ä¹å°±æ˜¯ä¸€æ ·çš„ã€‚</p><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(range+n)</strong><br>ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(range+n)</strong><br>ç¨³å®šæ€§ï¼šç¨³å®š</p></blockquote><h2 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h2><p>  ä½ å¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘é—®ï¼šæ¯ä¸ªæ¡¶å†…å†ç”¨å…¶ä»–çš„æ’åºç®—æ³•è¿›è¡Œæ’åºï¼ˆæ¯”å¦‚å¿«æ’ï¼‰,è¿™æ ·å­æ—¶é—´å¤æ‚åº¦ä¸è¿˜æ˜¯O(nlogn)å—ï¼Ÿ</p><p>å¦‚æœè¦æ’åºçš„æ•°æ®æœ‰nä¸ªï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬åˆ†åœ¨mä¸ªæ¡¶ä¸­ï¼Œè¿™æ ·æ¯ä¸ªæ¡¶é‡Œçš„æ•°æ®å°±æ˜¯k &#x3D; n &#x2F; mã€‚æ¯ä¸ªæ¡¶å†…æ’åºçš„æ—¶é—´å¤æ‚åº¦å°±ä¸ºO(k*logk)ã€‚mä¸ªæ¡¶å°±æ˜¯m * O(k * logk)&#x3D;m * O((n &#x2F; m)*log(n &#x2F; m))&#x3D;O(nlog(n &#x2F; m))ã€‚å½“æ¡¶çš„ä¸ªæ•°mæ¥è¿‘æ•°æ®ä¸ªæ•°næ—¶ï¼Œlogï¼ˆn&#x2F;mï¼‰å°±æ˜¯ä¸€ä¸ªè¾ƒå°çš„å¸¸æ•°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ¥è¿‘O(n)ã€‚</p><h2 id="åº”ç”¨åœºæ™¯ï¼š"><a href="#åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ï¼š"></a>åº”ç”¨åœºæ™¯ï¼š</h2><p>   çœ‹äº†ä¸Šé¢çš„åˆ†æï¼Œæ—¢ç„¶æ¡¶æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½æ›¿ä»£ä¾‹å¦‚å¿«æ’ã€å½’å¹¶è¿™ç§æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)çš„æ’åºç®—æ³•å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œæ¡¶æ’åºçš„åº”ç”¨åœºæ™¯ååˆ†ä¸¥è‹›ï¼Œé¦–å…ˆï¼Œ<strong>æ•°æ®åº”è¯¥åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€</strong>ã€‚è®²ä¸€ç§è¾ƒåçš„æƒ…å†µï¼Œå¦‚æœæ•°æ®å…¨éƒ¨éƒ½è¢«åˆ†åˆ°ä¸€ä¸ªæ¡¶é‡Œï¼Œé‚£ä¹ˆæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸æ˜¯å°±é€€åŒ–åˆ°O(nlogn)äº†å‘¢ï¼Ÿå…¶æ¬¡ï¼Œ<strong>è¦æ’åºçš„æ•°æ®åº”è¯¥å¾ˆå®¹æ˜“åˆ†æˆmä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶ä¹Ÿåº”è¯¥æœ‰å¤§å°é¡ºåº</strong>ã€‚</p><hr><h1 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h1><p>åŸºæ•°æ’åºæ˜¯ä¸€ç§éæ¯”è¾ƒå‹æ•´æ•°æ’åºç®—æ³•ï¼Œå…¶åŸç†æ˜¯å°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚ç”±äºæ•´æ•°ä¹Ÿå¯ä»¥è¡¨è¾¾å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—æˆ–æ—¥æœŸï¼‰å’Œç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥åŸºæ•°æ’åºä¹Ÿä¸æ˜¯åªèƒ½ä½¿ç”¨äºæ•´æ•°ã€‚</p><p><strong>æ­¥éª¤</strong>ï¼š</p><p>æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼›ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ã€‚æœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºã€‚æœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ã€‚</p><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/radixSort.gif" alt="img"></p><h2 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ±‚æœ€å¤§ä½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">maxBit</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> maxElem = *<span class="built_in">max_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (maxElem &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">        maxElem /= <span class="number">10</span>;</span><br><span class="line">        res++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">radixSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;arr)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = arr.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> k = <span class="built_in">maxBit</span>(arr);</span><br><span class="line">    <span class="type">int</span> curRadix = <span class="number">1</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">tmp</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k--) &#123;</span><br><span class="line">        <span class="type">int</span> bucket[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»Ÿè®¡æ¯ä¸ªæ¡¶çš„æ•°æ®ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            bucket[arr[i] / curRadix % <span class="number">10</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç´¯åŠ </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            bucket[i] += bucket[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘tmpæ•°ç»„å­˜å…¥æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            tmp[bucket[arr[i] / curRadix % <span class="number">10</span>] - <span class="number">1</span>] = arr[i];</span><br><span class="line">            bucket[arr[i] / curRadix % <span class="number">10</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†tmpåºåˆ—æ‹·è´åˆ°åŸæ•°ç»„ä¸­</span></span><br><span class="line">        <span class="built_in">copy</span>(tmp.<span class="built_in">begin</span>(), tmp.<span class="built_in">end</span>(), arr.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">        curRadix *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“ï¼š</strong><br>â˜‘ æ—¶é—´å¤æ‚åº¦ï¼š<strong>O(range * n)</strong><br>â˜‘ ç©ºé—´å¤æ‚åº¦ï¼š<strong>O(range+n)</strong><br>â˜‘ ç¨³å®šæ€§ï¼šç¨³å®šã€‚</p></blockquote><h2 id="åŸºæ•°æ’åº-vs-è®¡æ•°æ’åº-vs-æ¡¶æ’åº"><a href="#åŸºæ•°æ’åº-vs-è®¡æ•°æ’åº-vs-æ¡¶æ’åº" class="headerlink" title="åŸºæ•°æ’åº vs è®¡æ•°æ’åº vs æ¡¶æ’åº"></a>åŸºæ•°æ’åº vs è®¡æ•°æ’åº vs æ¡¶æ’åº</h2><p>è¿™ä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š</p><ul><li>åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ï¼›</li><li>è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼ï¼›</li><li>æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼ï¼›</li></ul><hr><h1 id="æ’åºç®—æ³•æ€»ç»“"><a href="#æ’åºç®—æ³•æ€»ç»“" class="headerlink" title="æ’åºç®—æ³•æ€»ç»“"></a>æ’åºç®—æ³•æ€»ç»“</h1><p><img src="/2022/05/23/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/image-20220522222700971.png" alt="image-20220522222700971"></p><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="swapæ“ä½œâ€“åˆ©ç”¨å¼‚æˆ–è¿ç®—"><a href="#swapæ“ä½œâ€“åˆ©ç”¨å¼‚æˆ–è¿ç®—" class="headerlink" title="swapæ“ä½œâ€“åˆ©ç”¨å¼‚æˆ–è¿ç®—"></a>swapæ“ä½œâ€“åˆ©ç”¨å¼‚æˆ–è¿ç®—</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span>&amp; a, <span class="type">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line">    a = a ^ b;</span><br><span class="line">    b = a ^ b;</span><br><span class="line">    a = a ^ b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼ša, bæ‰€å¤„çš„åœ°å€ä¸åŒæ‰å¯ä»¥ï¼Œå¦åˆ™ä¼šå˜æˆé›¶ï¼åŒé‡forå¾ªç¯æ“ä½œæ•°ç»„æ—¶ï¼Œiä¸jä¸èƒ½ç›¸ç­‰å¦åˆ™çŠ¯é”™ï¼</p><h2 id="å®é™…åº”ç”¨å¿«æ’ä¸å †æ’é€‰æ‹©"><a href="#å®é™…åº”ç”¨å¿«æ’ä¸å †æ’é€‰æ‹©" class="headerlink" title="å®é™…åº”ç”¨å¿«æ’ä¸å †æ’é€‰æ‹©"></a>å®é™…åº”ç”¨å¿«æ’ä¸å †æ’é€‰æ‹©</h2><p>ç›¸åŒçš„æ•°æ®è§„æ¨¡ï¼Œå¿«é€Ÿæ’åºæ¯”å †æ’åºçš„æ•ˆç‡é«˜å¾ˆå¤šï¼Œå¹¶ä¸”éšç€æ•°æ®è§„æ¨¡çš„æ‰©å¤§ï¼ŒäºŒè€…çš„å·®è·ä¸æ–­æ‰©å¤§ï¼Œå¿«é€Ÿæ’åºçš„ä¼˜åŠ¿è¶Šæ¥è¶Šæ˜æ˜¾ã€‚å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦è¿‘ä¼¼çº¿æ€§å¢é•¿ï¼Œå †æ’åºåˆ™è¦å¤§å¾ˆå¤šã€‚ç©¶å…¶åŸå› ï¼Œåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><p>åœ¨å †æ’åºï¼ˆå°æ ¹å †ï¼‰çš„æ—¶å€™ï¼Œæ¯æ¬¡æ€»æ˜¯å°†æœ€å°çš„å…ƒç´ ç§»é™¤ï¼Œç„¶åå°†æœ€åçš„å…ƒç´ æ”¾åˆ°å †é¡¶ï¼Œå†è®©å…¶è‡ªæˆ‘è°ƒæ•´ã€‚è¿™æ ·ä¸€æ¥ï¼Œæœ‰å¾ˆå¤šæ¯”è¾ƒå°†æ˜¯è¢«æµªè´¹çš„ï¼Œå› ä¸ºè¢«æ‹¿åˆ°å †é¡¶çš„é‚£ä¸ªå…ƒç´ å‡ ä¹è‚¯å®šæ˜¯å¾ˆå¤§çš„ï¼Œè€Œé è¿‘å †é¡¶çš„å…ƒç´ åˆå‡ ä¹è‚¯å®šæ˜¯å¾ˆå°çš„ï¼Œæœ€åä¸€ä¸ªå…ƒç´ èƒ½ç•™åœ¨å †é¡¶çš„å¯èƒ½æ€§å¾®ä¹å…¶å¾®ï¼Œæœ€åä¸€ä¸ªå…ƒç´ å¾ˆæœ‰å¯èƒ½æœ€ç»ˆå†è¢«ç§»åŠ¨åˆ°åº•éƒ¨ã€‚<strong>åœ¨å †æ’åºé‡Œé¢æœ‰å¤§é‡è¿™ç§è¿‘ä¹æ— æ•ˆçš„æ¯”è¾ƒ</strong>ã€‚éšç€æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œæ¯”è¾ƒçš„å¼€é”€æœ€å·®æƒ…å†µåº”è¯¥åœ¨ï¼ˆçº¿æ€§*å¯¹æ•°ï¼‰çº§åˆ«ï¼Œå¦‚æœæ•°æ®é‡æ˜¯åŸæ¥çš„10å€ï¼Œé‚£ä¹ˆç”¨äºæ¯”è¾ƒçš„æ—¶é—´å¼€é”€å¯èƒ½æ˜¯åŸæ¥çš„<code>10log10</code>å€ã€‚</p></li><li><p>å †æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œ<strong>éœ€è¦æœ‰æ•ˆçš„éšæœºå­˜å–</strong>ã€‚æ¯”è¾ƒçˆ¶èŠ‚ç‚¹å’Œå­—èŠ‚ç‚¹çš„å€¼å¤§å°çš„æ—¶å€™ï¼Œ<strong>è™½ç„¶è®¡ç®—ä¸‹æ ‡ä¼šå¾ˆå¿«å®Œæˆï¼Œä½†æ˜¯åœ¨å¤§è§„æ¨¡çš„æ•°æ®ä¸­å¯¹æ•°ç»„æŒ‡é’ˆå¯»å€ä¹Ÿéœ€è¦ä¸€å®šçš„æ—¶é—´</strong>ã€‚<strong>è€Œå¿«é€Ÿæ’åºåªéœ€è¦å°†æ•°ç»„æŒ‡é’ˆç§»åŠ¨åˆ°ç›¸é‚»çš„åŒºåŸŸå³å¯ã€‚åœ¨å †æ’åºä¸­ï¼Œä¼šå¤§é‡çš„éšæœºå­˜å–æ•°æ®</strong>ï¼›<strong>è€Œåœ¨å¿«é€Ÿæ’åºä¸­ï¼Œåªä¼šå¤§é‡çš„é¡ºåºå­˜å–æ•°æ®</strong>ã€‚éšç€æ•°æ®è§„æ¨¡çš„æ‰©å¤§ï¼Œè¿™æ–¹é¢çš„å·®è·ä¼šæ˜æ˜¾å¢å¤§ã€‚åœ¨è¿™æ–¹é¢çš„æ—¶é—´å¼€é”€æ¥è¯´ï¼Œå¿«é€Ÿæ’åºåªä¼šçº¿æ€§å¢é•¿ï¼Œè€Œå †æ’åºå¢åŠ å¹…åº¦å¾ˆå¤§ï¼Œä¼šè¿œè¿œå¤§äºçº¿æ€§ã€‚</p></li><li><p><strong>åœ¨å¿«é€Ÿæ’åºä¸­ï¼Œæ¯æ¬¡æ•°æ®ç§»åŠ¨éƒ½æ„å‘³ç€è¯¥æ•°æ®è·ç¦»å®ƒæ­£ç¡®çš„ä½ç½®è¶Šæ¥è¶Šè¿‘ï¼Œè€Œåœ¨å †æ’åºä¸­ï¼Œç±»ä¼¼å°†å †å°¾éƒ¨çš„æ•°æ®ç§»åˆ°å †é¡¶è¿™æ ·çš„æ“ä½œåªä¼šä½¿ç›¸åº”çš„æ•°æ®è¿œç¦»å®ƒæ­£ç¡®çš„ä½ç½®</strong>ï¼Œåç»­å¿…ç„¶æœ‰ä¸€äº›æ“ä½œå†å°†å…¶ç§»åŠ¨ï¼Œå³â€œåšäº†å¥½å¤šæ— ç”¨åŠŸâ€ã€‚</p></li></ul>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»å¸¸ç”¨ç»å…¸å†…éƒ¨æ’åºç®—æ³•ï¼ŒåŒ…æ‹¬ç›´æ¥æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å †æ’åºã€å†’æ³¡æ’åºã€å¿«æ’ã€å½’å¹¶æ’åºã€æ¡¶æ’åºã€åŸºæ•°æ’åºç­‰ã€‚å¹¶ä½¿ç”¨C++å®ç°ã€‚</summary>
    
    
    
    <category term="ç®—æ³•ä¸æ•°æ®ç»“æ„" scheme="https://shiwei-qi.github.io/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://shiwei-qi.github.io/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://shiwei-qi.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>C++å¼‚å¸¸å¤„ç†æœºåˆ¶</title>
    <link href="https://shiwei-qi.github.io/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/"/>
    <id>https://shiwei-qi.github.io/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/</id>
    <published>2022-05-22T03:41:13.000Z</published>
    <updated>2022-05-21T13:52:49.614Z</updated>
    
    <content type="html"><![CDATA[<img src="/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/wallhaven-rddgwm.png" alt="wallhaven-rddgwm"><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>å¼‚å¸¸å¤„ç†å°±æ˜¯å¤„ç†ç¨‹åºä¸­çš„é”™è¯¯ï¼Œç¨‹åºè¿è¡Œæ—¶å¸¸è§å¼‚å¸¸æƒ…å†µå¦‚ï¼š</p><ul><li>åšé™¤æ³•çš„æ—¶å€™é™¤æ•°ä¸º 0ï¼›</li><li>ç”¨æˆ·è¾“å…¥å¹´é¾„æ—¶è¾“å…¥äº†ä¸€ä¸ªè´Ÿæ•°ï¼›</li><li>ç”¨ <code>new</code> è¿ç®—ç¬¦åŠ¨æ€åˆ†é…ç©ºé—´æ—¶ï¼Œç©ºé—´ä¸å¤Ÿå¯¼è‡´æ— æ³•åˆ†é…ï¼›</li><li>è®¿é—®æ•°ç»„å…ƒç´ æ—¶ï¼Œä¸‹æ ‡è¶Šç•Œï¼›</li><li>æ‰“å¼€æ–‡ä»¶è¯»å–æ—¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨ã€‚</li></ul><p>å¦‚æœä¸èƒ½å‘ç°å¹¶åŠ ä»¥å¤„ç†ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p><h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><ol><li>å½“å‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºæ— æ³•æ²¿ç€æ­£å¸¸çš„é¡ºåºæ‰§è¡Œä¸‹å»çš„æ—¶å€™ï¼Œç«‹å³ç»“æŸç¨‹åºå¯èƒ½å¹¶ä¸å¦¥å½“ã€‚æˆ‘ä»¬éœ€è¦ç»™ç¨‹åºæä¾›å¦å¤–ä¸€æ¡å¯ä»¥å®‰å…¨é€€å‡ºçš„è·¯å¾„ï¼Œåœ¨ç»“æŸå‰åšä¸€äº›å¿…è¦çš„å·¥ä½œï¼Œå¦‚å°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶ã€å…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ç©ºé—´ç­‰ã€‚</li><li>å½“å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ï¼Œç¨‹åºé©¬ä¸Šå¤„ç†å¯èƒ½å¹¶ä¸å¦¥å½“ï¼ˆä¸€ä¸ªå¼‚å¸¸æœ‰å¤šç§å¤„ç†æ–¹æ³•ï¼Œæˆ–è€…è‡ªå·±æ— æ³•å¤„ç†å¼‚å¸¸ï¼‰ï¼Œéœ€è¦å°†è¿™ä¸ªå¼‚å¸¸æŠ›å‡ºç»™ä»–çš„ä¸Šçº§ï¼ˆç›´æ¥è°ƒç”¨è€…ï¼‰ï¼Œç”±ä¸Šçº§å†³å®šå¦‚ä½•å¤„ç†ã€‚æˆ–è€…æ˜¯è‡ªå·±ä¸å¤„ç†å†è½¬äº¤ç»™å®ƒçš„ä¸Šçº§å»å¤„ç†ï¼Œä¸€ç›´å¯ä»¥è½¬äº¤åˆ°æœ€å¤–å±‚çš„main()å‡½æ•°</li><li>å¦å¤–ï¼Œå¼‚å¸¸çš„åˆ†æ•£å¤„ç†ä¸åˆ©äºä»£ç çš„ç»´æŠ¤ï¼Œå°¤å…¶æ˜¯å¯¹äºåœ¨ä¸åŒåœ°æ–¹å‘ç”Ÿçš„åŒä¸€ç§å¼‚å¸¸ï¼Œéƒ½è¦ç¼–å†™ç›¸åŒçš„å¤„ç†ä»£ç ä¹Ÿæ˜¯ä¸€ç§ä¸å¿…è¦çš„é‡å¤å’Œå†—ä½™ã€‚å¦‚æœèƒ½åœ¨å‘ç”Ÿå„ç§å¼‚å¸¸æ—¶è®©ç¨‹åºéƒ½æ‰§è¡Œåˆ°åŒä¸€ä¸ªåœ°æ–¹ï¼Œè¿™ä¸ªåœ°æ–¹èƒ½å¤Ÿå¯¹å¼‚å¸¸è¿›è¡Œé›†ä¸­å¤„ç†ï¼Œåˆ™ç¨‹åºå°±ä¼šæ›´å®¹æ˜“ç¼–å†™ã€ç»´æŠ¤ã€‚</li></ol><p>åœ¨å¼•å…¥å¼‚å¸¸å¤„ç†æœºåˆ¶ä¹‹å‰ï¼Œå¼‚å¸¸çš„å¤„ç†æ–¹å¼æœ‰ä¸¤ç§æ–¹æ³•</p><ul><li>ä½¿ç”¨æ•´å‹çš„è¿”å›å€¼æ ‡è¯†é”™è¯¯ï¼›</li><li>ä½¿ç”¨<code>errno</code>å®ï¼ˆå¯ä»¥ç®€å•çš„ç†è§£ä¸ºä¸€ä¸ªå…¨å±€æ•´å‹å˜é‡ï¼‰å»è®°å½•é”™è¯¯ã€‚å½“ç„¶C++ä¸­ä»ç„¶æ˜¯å¯ä»¥ç”¨è¿™ä¸¤ç§æ–¹æ³•çš„ã€‚</li></ul><p>è¿™ä¸¤ç§æ–¹æ³•æœ€å¤§çš„ç¼ºé™·å°±æ˜¯ä¼šå‡ºç°<strong>ä¸ä¸€è‡´</strong>é—®é¢˜ã€‚ä¾‹å¦‚æœ‰äº›å‡½æ•°è¿”å›1è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›0è¡¨ç¤ºå‡ºé”™ï¼›è€Œæœ‰äº›å‡½æ•°è¿”å›0è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›é0è¡¨ç¤ºå‡ºé”™ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å‡½æ•°çš„è¿”å›å€¼åªæœ‰ä¸€ä¸ªï¼Œä½ é€šè¿‡å‡½æ•°çš„è¿”å›å€¼è¡¨ç¤ºé”™è¯¯ä»£ç ï¼Œé‚£ä¹ˆå‡½æ•°å°±ä¸èƒ½è¿”å›å…¶ä»–çš„å€¼ã€‚</p><p>é‰´äºä¸Šè¿°åŸå› ï¼ŒC++å¼•å…¥äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚</p><h1 id="å¼‚å¸¸å¤„ç†çš„åŸºæœ¬æ€æƒ³"><a href="#å¼‚å¸¸å¤„ç†çš„åŸºæœ¬æ€æƒ³" class="headerlink" title="å¼‚å¸¸å¤„ç†çš„åŸºæœ¬æ€æƒ³"></a><strong>å¼‚å¸¸å¤„ç†çš„åŸºæœ¬æ€æƒ³</strong></h1><blockquote><p>åœ¨é‡åˆ°å¼‚å¸¸æ—¶ï¼Œç³»ç»Ÿä¸æ˜¯é©¬ä¸Šç»ˆæ­¢è¿è¡Œï¼Œè€Œæ˜¯å…è®¸ç”¨æˆ·æ’é™¤é”™è¯¯ï¼Œç»§ç»­è¿è¡Œç¨‹åºï¼Œè‡³å°‘ç»™å‡ºå‡ºé”™çš„æç¤ºä¿¡æ¯ã€‚<br>åœ¨å¤§å‹å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå‡½æ•°ä¹‹é—´æœ‰æ˜æ˜¾çš„åˆ†å·¥å’Œå¤æ‚çš„è°ƒç”¨å…³ç³»ï¼Œå‘ç°é”™è¯¯çš„å‡½æ•°ä¸€èˆ¬ä¸å…·å¤‡å¤„ç†é”™è¯¯çš„èƒ½åŠ›ã€‚<br>è¿™æ—¶åªèƒ½å¯¼è‡´ä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœè°ƒç”¨è€…ä¹Ÿä¸èƒ½å¤„ç†å°±ä¼ é€’ç»™å®ƒçš„ä¸Šçº§è°ƒç”¨è€…ï¼Œè¿™æ ·ä¸€ç›´ä¸Šä¼ åˆ°èƒ½å¤„ç†ä¸ºæ­¢ã€‚<br>å¦‚æœå§‹ç»ˆæ²¡æœ‰å¤„ç†å°±ä¸Šäº¤åˆ°C++è¿è¡Œç³»ç»Ÿï¼Œè¿è¡Œç³»ç»Ÿè°ƒç”¨<code>abort</code>å‡½æ•°å¼ºè¡Œç»ˆæ­¢æ•´ä¸ªç¨‹åºã€‚</p></blockquote><p><img src="/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/image-20220521202700487.png" alt="image-20220521202700487"></p><p>åœ¨ <code>h()</code>å‡½æ•°ä¸­ä¸“æ³¨äºä¸šåŠ¡çš„å¤„ç†ï¼Œè€Œä¸ç”¨å»å¤„ç†å¼‚å¸¸ï¼Œè®© <code>f()</code>å‡½æ•°å®ç°ç»¼åˆçš„å¤„ç†.</p><ul><li><p>C++çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ä½¿å¾—å¼‚å¸¸çš„å¼•å‘å’Œå¼‚å¸¸çš„å¤„ç†ä¸å¿…åœ¨åŒä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™æ ·åº•å±‚çš„å‡½æ•°å¯ä»¥ç€é‡è§£å†³å…·ä½“é—®é¢˜ï¼Œè€Œä¸å¿…è¿‡å¤šçš„è€ƒè™‘å¼‚å¸¸çš„å¤„ç†ã€‚ä¸Šå±‚è°ƒç”¨è€…å¯ä»¥å†é€‚å½“çš„ä½ç½®è®¾è®¡å¯¹ä¸åŒç±»å‹å¼‚å¸¸çš„å¤„ç†ã€‚</p></li><li><p>å¼‚å¸¸æ˜¯ä¸“é—¨é’ˆå¯¹æŠ½è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç³»åˆ—é”™è¯¯å¤„ç†çš„ï¼ŒC++ä¸­ä¸èƒ½å€ŸåŠ©å‡½æ•°æœºåˆ¶ï¼Œå› ä¸ºæ ˆç»“æ„çš„æœ¬è´¨æ˜¯å…ˆè¿›åå‡ºï¼Œä¾æ¬¡è®¿é—®ï¼Œæ— æ³•è¿›è¡Œè·³è·ƒï¼Œä½†é”™è¯¯å¤„ç†çš„ç‰¹å¾å´æ˜¯é‡åˆ°é”™è¯¯ä¿¡æ¯å°±æƒ³è¦è½¬åˆ°è‹¥å¹²çº§ä¹‹ä¸Šè¿›è¡Œé‡æ–°å°è¯•ã€‚</p></li><li><p>å¼‚å¸¸è¶…è„±äºå‡½æ•°æœºåˆ¶ï¼Œå†³å®šäº†å…¶å¯¹å‡½æ•°çš„è·¨è¶Šå¼å›è·³ã€‚</p></li></ul><p><strong>é”™è¯¯å¤„ç†ç¤ºæ„</strong></p><img src="/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/image-20220521203303981.png" alt="image-20220521203303981"><h1 id="å¼‚å¸¸å¤„ç†æµç¨‹"><a href="#å¼‚å¸¸å¤„ç†æµç¨‹" class="headerlink" title="å¼‚å¸¸å¤„ç†æµç¨‹"></a><strong>å¼‚å¸¸å¤„ç†æµç¨‹</strong></h1><p>C++ å¼‚å¸¸å¤„ç†æ¶‰åŠåˆ°ä¸‰ä¸ªå…³é”®å­—ï¼š**<code>try</code>ã€<code>catch</code>ã€<code>throw</code>**ã€‚</p><p><strong>1ã€<code>throw</code>:</strong> å½“é—®é¢˜å‡ºç°æ—¶ï¼Œç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨ <strong><code>throw</code></strong> å…³é”®å­—æ¥å®Œæˆçš„ã€‚</p><p><strong>2ã€<code>try</code>:</strong> <strong><code>try</code></strong> å—ä¸­çš„ä»£ç æ ‡è¯†å°†è¢«æ¿€æ´»çš„ç‰¹å®šå¼‚å¸¸ã€‚å®ƒåé¢é€šå¸¸è·Ÿç€ä¸€ä¸ªæˆ–å¤šä¸ª <code>catch</code> å—ã€‚</p><p><strong>3ã€<code>catch</code>:</strong> åœ¨æ‚¨æƒ³è¦å¤„ç†é—®é¢˜çš„åœ°æ–¹ï¼Œé€šè¿‡å¼‚å¸¸å¤„ç†ç¨‹åºæ•è·å¼‚å¸¸ã€‚**<code>catch</code>** å…³é”®å­—ç”¨äºæ•è·å¼‚å¸¸ã€‚</p><p><strong>4ã€<code>finally</code>ï¼š</strong>å…³é”®å­—<code>finally</code>æ”¾åœ¨<code>catch</code>ä¹‹åï¼Œå¦‚æœå¼‚å¸¸æ²¡æœ‰è¢«<code>catch</code>æ•è·ï¼Œä¼šä½¿ç”¨å…³é”®å­—å»æ¸…ç†é‡Šæ”¾èµ„æº</p><p>ã€€ã€€å¦‚æœæœ‰ä¸€ä¸ªå—æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ•è·å¼‚å¸¸çš„æ–¹æ³•ä¼šä½¿ç”¨ <strong>try</strong> å’Œ <strong>catch</strong> å…³é”®å­—ã€‚try å—ä¸­æ”¾ç½®å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ï¼ˆåˆ¤æ–­å¼‚å¸¸çš„ç±»å‹ï¼‰ï¼Œtry å—ä¸­çš„ä»£ç è¢«ç§°ä¸ºä¿æŠ¤ä»£ç ã€‚catchåé¢å¯¹åº”æ¯ä¸ªå¼‚å¸¸çš„å¤„ç†æ–¹æ³•ã€‚</p><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p>throwåé¢å¯è·Ÿä»»ä½•è¡¨è¾¾å¼ï¼Œé™¤äº†æ•´æ•°å¤–ï¼ŒæŒ‡é’ˆã€å­—ç¬¦å¸¸é‡ç­‰ä¹Ÿå¯ä»¥ï¼Œå¦‚ï¼šthrow â€œæ–‡æ¡£æ‰“å¼€å¤±è´¥â€ã€‚</p></li><li><p>é€šè¿‡throwæ“ä½œåˆ›å»ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡å¹¶æŠ›æ·</p></li><li><p>åœ¨éœ€è¦æ•æ‰å¼‚å¸¸çš„åœ°æ–¹ï¼Œå°†å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ç¨‹åºæ®µåµŒåœ¨tryå—ä¹‹ä¸­</p></li><li><p>æŒ‰æ­£å¸¸çš„ç¨‹åºé¡ºåºæ‰§è¡Œåˆ°è¾¾tryè¯­å¥ï¼Œç„¶åæ‰§è¡Œtryå—{}å†…çš„ä¿æŠ¤æ®µ</p></li><li><p>å¦‚æœåœ¨ä¿æŠ¤æ®µæ‰§è¡ŒæœŸé—´æ²¡æœ‰å¼•èµ·å¼‚å¸¸ï¼Œé‚£ä¹ˆè·Ÿåœ¨tryå—åçš„catchå­å¥å°±ä¸æ‰§è¡Œï¼Œç¨‹åºä»tryå—åè·Ÿéšçš„æœ€åä¸€ä¸ªcatchå­å¥åé¢çš„è¯­å¥ç»§ç»­æ‰§è¡Œä¸‹å»</p></li><li><p>catchå­å¥æŒ‰å…¶åœ¨tryå—åå‡ºç°çš„é¡ºåºè¢«æ£€æŸ¥ï¼ŒåŒ¹é…çš„catchå­å¥å°†æ•è·å¹¶æŒ‰catchå­å¥ä¸­çš„ä»£ç å¤„ç†å¼‚å¸¸ï¼ˆæˆ–ç»§ç»­æŠ›æ·å¼‚å¸¸ï¼‰</p></li><li><p>å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåˆ™ç¼ºçœåŠŸèƒ½æ˜¯è°ƒç”¨abortç»ˆæ­¢ç¨‹åºã€‚</p></li></ol></blockquote><h1 id="å¼‚å¸¸å¤„ç†æœºåˆ¶è¯­æ³•"><a href="#å¼‚å¸¸å¤„ç†æœºåˆ¶è¯­æ³•" class="headerlink" title="å¼‚å¸¸å¤„ç†æœºåˆ¶è¯­æ³•"></a>å¼‚å¸¸å¤„ç†æœºåˆ¶è¯­æ³•</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">å¼‚å¸¸å‘ç”Ÿç¬¬ä¸€ç°åœºï¼ŒæŠ›å‡ºå¼‚å¸¸</span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">function</span><span class="params">( )</span></span>&#123;</span><br><span class="line">        <span class="comment">//... ...</span></span><br><span class="line">          <span class="keyword">throw</span> è¡¨è¾¾å¼;</span><br><span class="line">        <span class="comment">//... ...</span></span><br><span class="line">&#125;</span><br><span class="line">åœ¨éœ€è¦å…³æ³¨å¼‚å¸¸çš„åœ°æ–¹ï¼Œæ•æ‰å¼‚å¸¸</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="comment">//ç¨‹åº</span></span><br><span class="line">        <span class="built_in">function</span>();        æŠŠfunctionè‡³äº<span class="keyword">try</span>ä¸­</span><br><span class="line">        <span class="comment">//ç¨‹åº</span></span><br><span class="line">&#125;<span class="built_in">catch</span>(å¼‚å¸¸ç±»å‹å£°æ˜)&#123;        æ¯”å¦‚åªå†™ä¸€ä¸ª<span class="type">int</span></span><br><span class="line">        <span class="comment">//... å¼‚å¸¸å¤„ç†ä»£ç  ...</span></span><br><span class="line">&#125;<span class="built_in">catch</span>(å¼‚å¸¸ç±»å‹ å½¢å‚)&#123;       å½¢å‚å°†ä¼šå–å¾—æŠ›å‡ºçš„å€¼</span><br><span class="line">        <span class="comment">//... å¼‚å¸¸å¤„ç†ä»£ç  ...</span></span><br><span class="line">&#125;<span class="built_in">catch</span>(...)&#123;               æŠ›å‡ºçš„å…¶å®ƒå¼‚å¸¸ç±»å‹ï¼Œå¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line">å¦‚æœæ²¡æœ‰<span class="built_in">catch</span>(...)ï¼Œå¹¶ä¸”æ²¡æœ‰<span class="keyword">catch</span>å­å¥ä¸æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹åŒ¹é…ï¼Œç¨‹åºä¼šç›´æ¥ä¸­æ–­æŠ¥é”™ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ¡ˆä¾‹</strong>ï¼š</p><p>æ•è·é™¤æ•°ä¸º0çš„å¼‚å¸¸</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">division</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&quot;Division by zero condition!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (a / b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">50</span>;</span><br><span class="line">    <span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> z = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//try\catchçš„ä½¿ç”¨å’Œswitch\caseçš„ä½¿ç”¨ç±»ä¼¼</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        z = <span class="built_in">division</span>(x, y);</span><br><span class="line">        cout &lt;&lt; z &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> <span class="type">char</span>* msg) &#123;</span><br><span class="line">        cerr &lt;&lt; msg &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span>(...)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æœªçŸ¥å¼‚å¸¸&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//finally&#123;&#125;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Tipsï¼š</strong></p><p><strong>catch(â€¦)èƒ½å¤Ÿæ•è·å¤šç§æ•°æ®ç±»å‹çš„å¼‚å¸¸å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒæä¾›ç»™ç¨‹åºå‘˜ä¸€ç§å¯¹å¼‚å¸¸å¯¹è±¡æ›´å¥½çš„æ§åˆ¶æ‰‹æ®µï¼Œä½¿å¼€å‘çš„è½¯ä»¶ç³»ç»Ÿæœ‰å¾ˆå¥½çš„å¯é æ€§ã€‚å› æ­¤ä¸€ä¸ªæ¯”è¾ƒæœ‰ç»éªŒçš„ç¨‹åºå‘˜é€šå¸¸ä¼šè¿™æ ·ç»„ç»‡ç¼–å†™å®ƒçš„ä»£ç æ¨¡å—</strong>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">try</span></span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="comment">// è¿™é‡Œçš„ç¨‹åºä»£ç å®ŒæˆçœŸæ­£å¤æ‚çš„è®¡ç®—å·¥ä½œï¼Œè¿™äº›ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­</span></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="comment">// æœ‰å¯èƒ½æŠ›å‡ºDataType1ã€DataType2å’ŒDataType3ç±»å‹çš„å¼‚å¸¸å¯¹è±¡ã€‚</span></span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€<span class="built_in">catch</span>(DataType1&amp; d1)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€<span class="built_in">catch</span>(DataType2&amp; d2)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€<span class="built_in">catch</span>(DataType3&amp; d3)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€<span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">ã€€ã€€æ³¨æ„ä¸Šé¢try blockä¸­å¯èƒ½æŠ›å‡ºçš„DataType1ã€DataType2å’ŒDataType3ä¸‰</span></span><br><span class="line"><span class="comment">ã€€ã€€ç§ç±»å‹çš„å¼‚å¸¸å¯¹è±¡åœ¨å‰é¢éƒ½å·²ç»æœ‰å¯¹åº”çš„catch blockæ¥å¤„ç†ã€‚ä½†ä¸ºä»€ä¹ˆ</span></span><br><span class="line"><span class="comment">ã€€ã€€è¿˜è¦åœ¨æœ€åå†å®šä¹‰ä¸€ä¸ªcatch(â€¦) blockå‘¢ï¼Ÿè¿™å°±æ˜¯ä¸ºäº†æœ‰æ›´å¥½çš„å®‰å…¨æ€§å’Œ</span></span><br><span class="line"><span class="comment">ã€€ã€€å¯é æ€§ï¼Œé¿å…ä¸Šé¢çš„try blockæŠ›å‡ºäº†å…¶å®ƒæœªè€ƒè™‘åˆ°çš„å¼‚å¸¸å¯¹è±¡æ—¶å¯¼è‡´çš„ç¨‹</span></span><br><span class="line"><span class="comment">ã€€ã€€åºå‡ºç°æ„å¤–å´©æºƒçš„ä¸¥é‡åæœï¼Œè€Œä¸”è¿™åœ¨ç”¨VCå¼€å‘çš„ç³»ç»Ÿä¸Šæ›´ç‰¹åˆ«æœ‰æ•ˆï¼Œå› </span></span><br><span class="line"><span class="comment">ã€€ã€€ä¸ºcatch(â€¦)èƒ½æ•è·ç³»ç»Ÿå‡ºç°çš„å¼‚å¸¸ï¼Œè€Œç³»ç»Ÿå¼‚å¸¸å¾€å¾€ä»¤ç¨‹åºå‘˜å¤´ç—›äº†ï¼Œç°</span></span><br><span class="line"><span class="comment">ã€€ã€€åœ¨ç³»ç»Ÿä¸€èˆ¬éƒ½æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”ç”±å¾ˆå¤šäººå…±åŒå¼€å‘ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå¯¼è‡´ä¸€ä¸ª</span></span><br><span class="line"><span class="comment">ã€€ã€€æŒ‡é’ˆå˜é‡æŒ‡å‘äº†å…¶å®ƒéæ³•åŒºåŸŸï¼Œç»“æœæ„å¤–ç¾éš¾ä¸å¹¸å‘ç”Ÿäº†ã€‚catch(â€¦)ä¸ºè¿™ç§</span></span><br><span class="line"><span class="comment">ã€€ã€€æ½œåœ¨çš„éšæ‚£æä¾›äº†ä¸€ç§æœ‰æ•ˆçš„è¡¥æ•‘æªæ–½ã€‚</span></span><br><span class="line"><span class="comment">ã€€ã€€*********************************************************/</span></span><br><span class="line"> </span><br><span class="line">ã€€ã€€<span class="built_in">catch</span>(â€¦)</span><br><span class="line">ã€€ã€€&#123;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®šä¹‰æ–°çš„å¼‚å¸¸"><a href="#å®šä¹‰æ–°çš„å¼‚å¸¸" class="headerlink" title="å®šä¹‰æ–°çš„å¼‚å¸¸"></a>å®šä¹‰æ–°çš„å¼‚å¸¸</h1><p><code>exception</code> æ˜¯æ‰€æœ‰C++å¼‚å¸¸çš„åŸºç±».</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">exception</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="built_in">exception</span>() <span class="keyword">throw</span>();</span><br><span class="line">   <span class="built_in">exception</span>(<span class="type">const</span> exception&amp; rhs) <span class="keyword">throw</span>();</span><br><span class="line">   exception&amp; <span class="keyword">operator</span>=(<span class="type">const</span> exception&amp; rhs) <span class="built_in">throw</span>();</span><br><span class="line">   <span class="keyword">virtual</span> ~<span class="built_in">exception</span>() <span class="keyword">throw</span>();</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="type">const</span> <span class="type">char</span> *<span class="title">what</span><span class="params">()</span> <span class="type">const</span> <span class="title">throw</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥é€šè¿‡ç»§æ‰¿å’Œé‡è½½ <code>exception</code> ç±»æ¥å®šä¹‰æ–°çš„å¼‚å¸¸ã€‚ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>std::exception</code> ç±»æ¥å®ç°è‡ªå·±çš„å¼‚å¸¸ï¼š</p><p><strong><code>const throw()</code></strong> ä¸æ˜¯å‡½æ•°ï¼Œè¿™ä¸ªä¸œè¥¿å«å¼‚å¸¸è§„æ ¼è¯´æ˜ï¼Œè¡¨ç¤º <code>what</code> å‡½æ•°å¯ä»¥æŠ›å‡ºå¼‚å¸¸çš„ç±»å‹ï¼Œç±»å‹è¯´æ˜æ”¾åˆ° <strong><code>()</code></strong> é‡Œï¼Œè¿™é‡Œé¢æ²¡æœ‰ç±»å‹ï¼Œå°±æ˜¯å£°æ˜è¿™ä¸ªå‡½æ•°ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œé€šå¸¸å‡½æ•°ä¸å†™åé¢çš„å°±è¡¨ç¤ºå‡½æ•°å¯ä»¥æŠ›å‡ºä»»ä½•ç±»å‹çš„å¼‚å¸¸ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyException</span> : <span class="keyword">public</span> exception</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="type">const</span> <span class="type">char</span> * <span class="title">what</span> <span class="params">()</span> <span class="type">const</span> <span class="title">throw</span> <span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;C++ Exception&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">MyException</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span>(MyException&amp; e)</span><br><span class="line">  &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;MyException caught&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span>(std::exception&amp; e)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//å…¶ä»–çš„é”™è¯¯</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">MyException caught</span></span><br><span class="line"><span class="comment">C++ Exception</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h1 id="æ ‡å‡†ç¨‹åºåº“å¼‚å¸¸çš„ç”¨æ³•"><a href="#æ ‡å‡†ç¨‹åºåº“å¼‚å¸¸çš„ç”¨æ³•" class="headerlink" title="æ ‡å‡†ç¨‹åºåº“å¼‚å¸¸çš„ç”¨æ³•"></a>æ ‡å‡†ç¨‹åºåº“å¼‚å¸¸çš„ç”¨æ³•</h1><p><img src="/2022/05/22/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/20191103223242382.png" alt="20191103223242382"></p><p>eg:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">catch</span> (std::bad_alloc&amp; e) &#123;</span><br><span class="line">std::cerr &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¼‚å¸¸å¤„ç†ä¸­çš„æ„é€ ä¸ææ„"><a href="#å¼‚å¸¸å¤„ç†ä¸­çš„æ„é€ ä¸ææ„" class="headerlink" title="å¼‚å¸¸å¤„ç†ä¸­çš„æ„é€ ä¸ææ„"></a>å¼‚å¸¸å¤„ç†ä¸­çš„æ„é€ ä¸ææ„</h1><ol><li>å¼‚å¸¸æŠ›å‡ºä¹‹å‰æ„é€ å¼‚å¸¸å¯¹è±¡</li><li>catchå­—å¥æ•è·å¼‚å¸¸æ—¶ï¼Œå°†å¼‚å¸¸å¯¹è±¡ä¼ é€’ç»™catchå½¢å‚</li><li>catchå­—å¥æ‰§è¡Œå®Œæˆï¼Œè°ƒç”¨å¼‚å¸¸å¯¹è±¡çš„ææ„å‡½æ•°ï¼Œå¼‚å¸¸å¯¹è±¡è‡ªåŠ¨é”€æ¯ã€‚</li></ol><p><strong>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</strong></p><p><strong>1ã€æ ˆå±•å¼€</strong></p><p>æ ˆå±•å¼€æŒ‡çš„æ˜¯ï¼šå½“å¼‚å¸¸æŠ›å‡ºåï¼ŒåŒ¹é…catchçš„è¿‡ç¨‹ã€‚</p><p>â€‹    æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå°†æš‚åœå½“å‰å‡½æ•°çš„æ‰§è¡Œï¼Œå¼€å§‹æŸ¥æ‰¾åŒ¹é…çš„catchå­å¥ã€‚æ²¿ç€<strong>å‡½æ•°çš„åµŒå¥—è°ƒç”¨é“¾å‘ä¸ŠæŸ¥æ‰¾</strong>ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„catchå­å¥ï¼Œæˆ–è€…æ‰¾ä¸åˆ°åŒ¹é…çš„catchå­å¥ã€‚</p><p>æ ˆå±•å¼€çš„æ—¶å€™ï¼Œä¼šé€šè¿‡ææ„å‡½æ•°æˆ–è€…æ˜¯deleteé”€æ¯å±€éƒ¨å¯¹è±¡(ä»å¼€å§‹åŒ¹é…ä½ç½®åˆ°ç¡®è®¤åŒ¹é…è¿™ä¸€æ®µä¸­é—´ä½ç½®çš„èµ„æºä¼šè¢«é‡Šæ”¾)</p><p><strong>2ã€ææ„å‡½æ•°åº”è¯¥ä»ä¸æŠ›å‡ºå¼‚å¸¸ã€‚</strong></p><p>å¦‚æœææ„å‡½æ•°ä¸­å‡ºç°å¼‚å¸¸ï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨ææ„å‡½æ•°<strong>å†…éƒ¨</strong>å°†è¿™ä¸ªå¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè€Œä¸æ˜¯å°†å¼‚å¸¸æŠ›å‡ºå»ã€‚</p><ul><li>å¦‚æœææ„å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™å¼‚å¸¸ç‚¹ä¹‹åçš„ç¨‹åºä¸ä¼šæ‰§è¡Œï¼Œå¦‚æœææ„å‡½æ•°åœ¨å¼‚å¸¸ç‚¹ä¹‹åæ‰§è¡Œäº†æŸäº›å¿…è¦çš„åŠ¨ä½œæ¯”å¦‚é‡Šæ”¾æŸäº›èµ„æºï¼Œåˆ™è¿™äº›åŠ¨ä½œä¸ä¼šæ‰§è¡Œï¼Œä¼šé€ æˆè¯¸å¦‚èµ„æºæ³„æ¼çš„é—®é¢˜ã€‚</li><li>é€šå¸¸å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œc++çš„æœºåˆ¶ä¼šè°ƒç”¨å·²ç»æ„é€ å¯¹è±¡çš„ææ„å‡½æ•°æ¥é‡Šæ”¾èµ„æºï¼Œæ­¤æ—¶è‹¥ææ„å‡½æ•°æœ¬èº«ä¹ŸæŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™å‰ä¸€ä¸ªå¼‚å¸¸å°šæœªå¤„ç†ï¼Œåˆæœ‰æ–°çš„å¼‚å¸¸ï¼Œä¼šé€ æˆç¨‹åºå´©æºƒçš„é—®é¢˜ã€‚</li></ul><p><strong>3ã€æ„é€ å‡½æ•°å¯ä»¥æŠ›å‡ºå¼‚å¸¸</strong></p><p>ã€€ã€€å½“æ„é€ å‡½æ•°å†…å‡ºç°å¼‚å¸¸ï¼Œå¯ä»¥é€‰æ‹©å°†å¼‚å¸¸æŠ›å‡ºï¼Œåœ¨æ ˆå±•å¼€çš„è¿‡ç¨‹è°ƒç”¨ææ„å‡½æ•°é‡Šæ”¾å·²ç”³è¯·çš„å†…å­˜ï¼Œä¹Ÿå¯ä»¥åœ¨å†…éƒ¨å°†å¼‚å¸¸å¤„ç†ï¼Œæ‰‹åŠ¨è°ƒç”¨deleteé‡Šæ”¾</p><p><strong>4ã€catchæ•è·æ‰€æœ‰å¼‚å¸¸</strong></p><p>è¯­æ³•ï¼šåœ¨catchè¯­å¥ä¸­ï¼Œä½¿ç”¨<strong>ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰</strong>ã€‚å³å†™æˆï¼šcatch (â€¦)  è¿™é‡Œä¸‰ä¸ªç‚¹æ˜¯â€œé€šé…ç¬¦â€ï¼Œç±»ä¼¼ å¯å˜é•¿å½¢å¼å‚æ•°</p><p><strong>5ã€åœ¨ C++11 ä¸­ï¼Œå£°æ˜ä¸€ä¸ªå‡½æ•°ä¸å¯ä»¥æŠ›å‡ºä»»ä½•å¼‚å¸¸ä½¿ç”¨å…³é”®å­— <code>noexcept</code></strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mightThrow</span><span class="params">()</span></span>; <span class="comment">// could throw any exceptions.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doesNotThrow</span><span class="params">()</span> <span class="keyword">noexcept</span></span>; <span class="comment">// does not throw any exceptions.</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ç« å‘å¤§å®¶ä»‹ç»C++å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼ˆthrowã€tryã€catchã€finallyï¼‰ã€‚</summary>
    
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/categories/C/"/>
    
    <category term="è¯­æ³•" scheme="https://shiwei-qi.github.io/categories/C/%E8%AF%AD%E6%B3%95/"/>
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/tags/C/"/>
    
    <category term="è¯­æ³•" scheme="https://shiwei-qi.github.io/tags/%E8%AF%AD%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>GOå’ŒC++è¯­æ³•ä¸Šçš„ä¸»è¦å·®åˆ«</title>
    <link href="https://shiwei-qi.github.io/2022/05/22/GO%E5%92%8CC++%E8%AF%AD%E6%B3%95%E4%B8%8A%E7%9A%84%E4%B8%BB%E8%A6%81%E5%B7%AE%E5%88%AB/"/>
    <id>https://shiwei-qi.github.io/2022/05/22/GO%E5%92%8CC++%E8%AF%AD%E6%B3%95%E4%B8%8A%E7%9A%84%E4%B8%BB%E8%A6%81%E5%B7%AE%E5%88%AB/</id>
    <published>2022-05-21T20:56:56.000Z</published>
    <updated>2022-05-21T10:57:24.376Z</updated>
    
    <content type="html"><![CDATA[<img src="/2022/05/22/GO%E5%92%8CC++%E8%AF%AD%E6%B3%95%E4%B8%8A%E7%9A%84%E4%B8%BB%E8%A6%81%E5%B7%AE%E5%88%AB/1576218212309.png" alt="1576218212309" style="zoom:80%;"><h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p>GOè¯­è¨€æ˜¯ç”±Googleåœ¨2012å¹´æ­£å¼å‘å¸ƒçš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨è¯­æ³•å’Œç‰¹æ€§ä¸Šï¼ŒGOå’ŒC++æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šä¸åŒç‚¹ã€‚æœ¬æ–‡å°±GOè¯­è¨€åœ¨è¯­æ³•ä¸Šå’ŒC++çš„ä¸€äº›ä¸»è¦çš„å·®å¼‚ç‚¹è¿›è¡Œç®€å•çš„æè¿°ã€‚</p><p>Go æ˜¯ä¸€é—¨ç®€å•ã€ç´§å‡‘ä¸”é€šç”¨çš„è¯­è¨€ã€‚è€Œ C++ æ˜¯ä¸€é—¨å¿«é€Ÿä¸”å¤æ‚çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ã€‚Go å’Œ C++ éƒ½æ˜¯é™æ€ç±»å‹è¯­è¨€ä¸”éƒ½æœ‰å¼ºå¤§çš„ç¤¾åŒºã€‚C++ å¹¿æ³›ç”¨äºå„ç§åº”ç”¨ï¼Œè€Œ Go ä¸»è¦ç”¨äº Web åç«¯ã€‚</p><p>Go æ˜¯ä¸“ä¸ºç°ä»£å¤šæ ¸å¤„ç†å™¨è€Œè®¾è®¡çš„ã€‚Go è¯­è¨€æ”¯æŒå¹¶å‘ç¼–ç¨‹ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ä½¿ç”¨ä¸åŒçš„çº¿ç¨‹åŒæ—¶è¿è¡Œå¤šä¸ªå¤„ç†è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯åŒä¸€æ—¶åˆ»åªè¿è¡Œä¸€ä¸ªä»»åŠ¡ã€‚å®ƒè¿˜å…·æœ‰å»¶è¿Ÿåƒåœ¾å›æ”¶åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œå†…å­˜ç®¡ç†ä»¥é˜²æ­¢å†…å­˜æ³„æ¼ã€‚</p><ul><li>ç¼–è¯‘</li></ul><p>éƒ½å¯ä»¥é™æ€ç¼–è¯‘ï¼Œç›´æ¥ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ç›®å‰ï¼Œè®¸å¤šè¯­è¨€(æ¯”å¦‚Java,C#)éƒ½æ˜¯åŸºäºè¿è¡Œæ—¶ï¼Œèƒ½é™æ€ç¼–è¯‘è¯­è¨€çš„ä¸å¤šï¼ŒGoç®—ä¸€ä¸ªã€‚åŒæ—¶ï¼Œéƒ½å¯ä»¥è·¨å¹³å°ã€‚</p><ul><li>å†…å­˜ç®¡ç†</li></ul><p>åœ¨C++ä¸­ï¼Œéœ€è¦è‡ªå·±ä½¿ç”¨newå’Œdeleteç®¡ç†å†…å­˜ï¼Œå°½ç®¡C++å·²ç»æœ‰äº†æ™ºèƒ½æŒ‡é’ˆã€‚ä½†æ˜¯æœ‰ä¸€äº›å‘ï¼Œä¸æ˜¯é‚£ä¹ˆå¥½ç”¨ã€‚</p><p>Goè™½æ˜¯é™æ€è¯­è¨€ï¼Œä½†æ˜¯è‡ªå·±ç®¡ç†å†…å­˜ï¼Œå‡è½»äº†ç¨‹åºå‘˜çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚è¿™ä¸€ç‚¹ï¼Œéå¸¸é‡è¦ã€‚å› ä¸ºC++ç¨‹åºçš„å´©æºƒï¼Œå¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯å†…å­˜é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜æ³„æ¼ï¼Œéå¸¸éš¾ä»¥è§£å†³ã€‚</p><ul><li>æ ‡å‡†åº“</li></ul><p>ä¸€é—¨è¯­è¨€å¼€å‘æ•ˆç‡é«˜ä¸é«˜ï¼Œå®ƒçš„æ ‡å‡†åº“èµ·ç€å…³é”®çš„ä½œç”¨ã€‚Goçš„æ ‡å‡†åº“ååˆ†å¼ºå¤§ï¼Œå¸¸ç”¨çš„åº“å‡ ä¹éƒ½æœ‰ï¼Œå¼€ç®±å³ç”¨ï¼Œååˆ†é¡ºæ‰‹ã€‚C++çš„æ ‡å‡†åº“é‡Œé¢çš„å·¥å…·å¹¶ä¸å¤šï¼Œå¾ˆå¤šæ—¶å€™åªèƒ½ä¸‹è½½ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œboostæ˜¯ä¸€ä¸ªè‘—åçš„C++åº“ï¼ŒåŒ…å«äº†å¤§é‡çš„å¸¸ç”¨åº“ã€‚</p><ul><li>æ€§èƒ½</li></ul><p>Go ç›¸å½“å¿«ã€‚å…¶ç¼–è¯‘ã€é™æ€ç±»å‹ä»¥åŠé«˜æ•ˆçš„åƒåœ¾å›æ”¶ä½¿å…¶å˜å¾—æå…¶å¿«ã€‚Go ä¹Ÿæ“…é•¿å†…å­˜ç®¡ç†ï¼›å®ƒæœ‰æŒ‡é’ˆä½†æ²¡æœ‰å¼•ç”¨ã€‚åœ¨é€Ÿåº¦æ–¹é¢ï¼Œå’Œ C++ éå¸¸æ¥è¿‘ï¼ˆä»¥åŠ C è¯­è¨€ï¼‰ã€‚æ‰€æœ‰çš„æ—¶é—´éƒ½èŠ±åœ¨ç¼–ç å’Œç¼–è¯‘ä¸Šã€‚å› ä¸º C++ éš¾ç¼–ç ï¼Œä¸­çº§è¯­è¨€ï¼Œæ›´æ¥è¿‘äºæœºå™¨ç ï¼šå½“ç¼–è¯‘æ—¶ï¼Œä»–æ›´é€‚åˆäºæœºå™¨ç çš„åµŒå¥—ã€‚</p><p>C++ ä¹Ÿç¼ºå°‘é‚£äº›è®©ç¼–ç æ›´å®¹æ˜“ä½†ä¼šç»™ç”Ÿæˆçš„ç¨‹åºå¢åŠ é˜»åŠ›çš„ç‰¹æ€§ã€‚å½“æåŠè¿è¡Œæ—¶ï¼ŒC++ è½»é‡ï¼Œç²¾ç®€ä¸”å¿«é€Ÿã€‚</p><p>Go é…å¤‡äº†æ‰€æœ‰çš„èƒ½è®©ä½ åœ¨ç¼–ç è¿‡ç¨‹ä¸­ä½¿ç”Ÿæ´»æ›´å®¹æ˜“çš„é›¶ä»¶å’Œéƒ¨ä»¶ï¼Œå› æ­¤ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæ…¢ä¸€äº›ã€‚å…¶ä¸­æœ€å¤§çš„ä¸€å—æ˜¯ä»–çš„è™½ç„¶å¾ˆå¥½ä½†å¾ˆæ…¢çš„åƒåœ¾æ”¶é›†å™¨ã€‚</p><ul><li><strong>å¹¶å‘ç¼–ç¨‹</strong></li></ul><p>å¹¶å‘ç¼–ç¨‹æ˜¯Goè¯­è¨€çš„ä¸€å¤§ç‰¹è‰²ï¼Œå¯ä»¥è½»æ¾å®ç°é«˜å¹¶å‘ï¼Œåœ¨è¯­è¨€å±‚é¢å°±æ”¯æŒã€‚C++åªèƒ½è°ƒåŠ¨ç³»ç»ŸAPIå¼€å¯çº¿ç¨‹å®ç°å¹¶å‘ï¼Œè¯­è¨€å±‚é¢å¹¶ä¸æ”¯æŒã€‚</p><ul><li>å¼€å‘å’Œè°ƒè¯•éš¾åº¦</li></ul><p>C++çš„å†…å­˜é—®é¢˜ï¼Œå¾ˆéš¾æ’æŸ¥å’Œè°ƒè¯•ï¼Œæ¯”å¦‚å†…å­˜è¶Šç•Œï¼Œä»ç¨‹åºå´©æºƒçš„æ ˆä¿¡æ¯ä¸Šå¯èƒ½å°±çœ‹ä¸å‡ºæ¥æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå®šä½é—®é¢˜å¾ˆéš¾ã€‚Goè¿›ç¨‹ä¸­ä¼šå¯åŠ¨Goè‡ªå·±çš„è¿è¡Œæ—¶ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ä¼šæŒ‡æ˜é”™è¯¯ä¿¡æ¯ï¼Œå¾ˆå®¹æ˜“èƒ½æ’æŸ¥å‡ºé—®é¢˜ã€‚</p><h1 id="ä»£ç æ ¼å¼"><a href="#ä»£ç æ ¼å¼" class="headerlink" title="ä»£ç æ ¼å¼"></a><strong>ä»£ç æ ¼å¼</strong></h1><p>GOè¯­è¨€è¦æ±‚ä»£ç çš„èŠ±æ‹¬å·<code>&#123;&#125;</code>å¿…é¡»é‡‡ç”¨ç»Ÿä¸€çš„é£æ ¼ï¼Œå³å·¦èŠ±æ‹¬å·<code>&#123;</code>å¿…é¡»æ”¾åœ¨<strong>è¡Œå°¾</strong>è€Œä¸èƒ½å¦èµ·ä¸€è¡Œã€‚</p><p>GOä¸éœ€è¦åœ¨è¯­å¥çš„æœ€åå¢åŠ åˆ†å·<code>;</code>ä»¥è¡¨ç¤ºè¯­å¥ç»“æŸã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> a == b &#123;      <span class="comment">//èŠ±æ‹¬å·&#123;å¿…é¡»æ”¾åœ¨ä¸Šä¸€è¡Œçš„æœ€åé¢</span></span><br><span class="line">    a += <span class="number">1</span>       <span class="comment">//è¯­å¥åé¢ä¸éœ€è¦å¢åŠ ;å·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¸¸é‡å’Œå˜é‡"><a href="#å¸¸é‡å’Œå˜é‡" class="headerlink" title="å¸¸é‡å’Œå˜é‡"></a><strong>å¸¸é‡å’Œå˜é‡</strong></h1><h2 id="å¸¸é‡-amp-å˜é‡å£°æ˜ä¸èµ‹å€¼"><a href="#å¸¸é‡-amp-å˜é‡å£°æ˜ä¸èµ‹å€¼" class="headerlink" title="å¸¸é‡&amp;å˜é‡å£°æ˜ä¸èµ‹å€¼"></a><strong>å¸¸é‡&amp;å˜é‡å£°æ˜ä¸èµ‹å€¼</strong></h2><p>GOåœ¨è¿›è¡Œå˜é‡å£°æ˜æ—¶ï¼Œéœ€è¦åœ¨å˜é‡å‰åŠ <code>var</code>å…³é”®å­—ï¼›ä½†GOä¸­çš„å˜é‡å¯ä»¥ä¸å®šä¹‰ç›´æ¥èµ‹å€¼ï¼Œæ­¤æ—¶GOä¼šè‡ªå·±æ ¹æ®<code>:=</code>å³ä¾§çš„è¡¨è¾¾å¼è®¡ç®—å‡ºå˜é‡çš„ç±»å‹ã€‚</p><p>åŒæ—¶ï¼ŒGOè¿˜æ”¯æŒå¤šé‡èµ‹å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">i = <span class="number">10</span></span><br><span class="line">str := <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line">i1, str1 := <span class="number">10</span>, <span class="string">&quot;Hello World!&quot;</span>  <span class="comment">//å¤šé‡èµ‹å€¼</span></span><br></pre></td></tr></table></figure><p>åœ¨å®šä¹‰å¸¸é‡å¸¸é‡æ—¶ï¼Œå’ŒC++ä¸€æ ·åªéœ€è¦åœ¨å‰é¢å¢åŠ <code>const</code>å…³é”®å­—ï¼Œå¹¶åŒæ—¶ç»™å¸¸é‡èµ‹ä»¥ç¼–è¯‘æœŸå¯ç¡®å®šçš„å€¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> i <span class="type">int</span> = <span class="number">2</span> &lt;&lt; <span class="number">5</span>  <span class="comment">//=å·å³ä¾§çš„è¡¨è¾¾å¼å¿…é¡»å¯ä»¥åœ¨ç¼–è¯‘æœŸç¡®å®š</span></span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    i1 <span class="type">int</span> = <span class="number">15</span></span><br><span class="line">    str = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GOè¯­è¨€ä¸­æœ‰ä¸‰ä¸ªé¢„å®šä¹‰çš„å¸¸é‡ï¼š<code>true</code>ã€<code>false</code>ã€<code>itoa</code>ã€‚<code>true</code>&#x2F;<code>false</code>å¾ˆå¥½ç†è§£ï¼Œ<code>itoa</code>æ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šå’Œå¸¸é‡ï¼Œå®ƒåœ¨ä¸€ä¸ª<code>const</code>ä½œç”¨èŒƒå›´ä¸­ï¼Œç¬¬ä¸€æ¬¡å‡ºç°æ—¶ä¸º0ï¼Œåç»­æ¯æ¬¡å‡ºç°éƒ½æ¯”ä¸Šæ¬¡çš„å€¼å¤§1ï¼Œåœ¨GOä¸­é€šå¸¸ç”¨äºâ€œæšä¸¾â€ï¼ˆGOä¸æ”¯æŒæšä¸¾ï¼‰å®šä¹‰ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    Monday = itoa       <span class="comment">//Monday = 0</span></span><br><span class="line">    Tuesday = itoa      <span class="comment">//Tuesday = 1</span></span><br><span class="line">    Wednesday = itoa    <span class="comment">//Wedesday = 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x = itoa      <span class="comment">//ä¸‹ä¸€ä¸ªconstä½œç”¨åŸŸï¼Œx = 0</span></span><br></pre></td></tr></table></figure><h2 id="å¯è§æ€§"><a href="#å¯è§æ€§" class="headerlink" title="å¯è§æ€§"></a><strong>å¯è§æ€§</strong></h2><p>GOè¯­è¨€ä¸­æ²¡æœ‰<code>private</code>&#x2F;<code>protected</code>&#x2F;<code>public</code>&#x2F;<code>friend</code>å…³é”®å­—ï¼Œå¯è§æ€§æ˜¯é€šè¿‡æˆå‘˜çš„<strong>é¦–å­—æ¯æ˜¯å¦å¤§å†™</strong>å†³å®šçš„ï¼Œå¹¶ä¸”ä»…æ”¯æŒåŒ…é—´çš„å¯è§æ€§å®šä¹‰ï¼Œä¸æ”¯æŒç±»çš„å¯è§æ€§ã€‚</p><p>åŒ…ä¸­æ‰€æœ‰<strong>é¦–å­—æ¯å¤§å†™</strong>å¼€å¤´çš„æˆå‘˜ï¼ˆå¯¹è±¡ã€å‡½æ•°ï¼‰ï¼Œè¡¨ç¤º<strong>åŒ…é—´å¯è§</strong>ï¼Œå¯ä»¥è¢«å…¶å®ƒåŒ…ä¸­çš„ä»£ç è®¿é—®ã€‚ä½†å¯¹äº<strong>é¦–å­—æ¯å°å†™</strong>å¼€å¤´çš„æˆå‘˜ï¼Œåˆ™ä»…èƒ½è¢«æœ¬åŒ…ä¸­çš„æˆå‘˜æ‰€è®¿é—®ï¼ˆè¿™ç›¸å½“äºåŒ…å†…çš„æ‰€æœ‰æˆå‘˜é—´éƒ½åŠ äº†friendå£°æ˜ï¼‰</p><h1 id="æ¡ä»¶ã€é€‰æ‹©å’Œå¾ªç¯"><a href="#æ¡ä»¶ã€é€‰æ‹©å’Œå¾ªç¯" class="headerlink" title="æ¡ä»¶ã€é€‰æ‹©å’Œå¾ªç¯"></a><strong>æ¡ä»¶ã€é€‰æ‹©å’Œå¾ªç¯</strong></h1><h2 id="æ¡ä»¶è¯­å¥"><a href="#æ¡ä»¶è¯­å¥" class="headerlink" title="æ¡ä»¶è¯­å¥"></a><strong>æ¡ä»¶è¯­å¥</strong></h2><p>GOè¯­è¨€çš„æ¡ä»¶è¯­å¥ä¸­ï¼Œæ¡ä»¶ä¸éœ€è¦åŠ æ‹¬å·<code>()</code>ï¼Œå¹¶ä¸”æ”¯æŒåˆå§‹åŒ–è¯­å¥ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> a := b; a == <span class="number">1</span> &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©è¯­å¥"><a href="#é€‰æ‹©è¯­å¥" class="headerlink" title="é€‰æ‹©è¯­å¥"></a><strong>é€‰æ‹©è¯­å¥</strong></h2><p>GOçš„é€‰æ‹©è¯­å¥ä¸­ï¼Œä¸æ”¯æŒ<code>break</code>å…³é”®å­—ï¼Œå› ä¸ºGOçš„é€‰æ‹©è¯­å¥ä¸­ï¼Œé‡åˆ°ç¬¦åˆæ¡ä»¶çš„åˆ†æ”¯ä¼š<strong>è‡ªåŠ¨è·³å‡º</strong>ï¼›å¦‚æœæƒ³è¦ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œéœ€è¦åœ¨<code>case</code>åˆ†æ”¯ä¸­å¢åŠ <code>fallthrough</code>å…³é”®å­—ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> i &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>, <span class="number">1</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;0&quot;</span>)    <span class="comment">//iç­‰äº0æˆ–1æ—¶ï¼Œæ‰§è¡Œå®Œæ­¤æ‰“å°è¯­å¥åä¼šé€€å‡º</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">fallthrough</span>        <span class="comment">//iç­‰äº2æ—¶ï¼Œä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>åœ¨GOçš„switchåé¢å¯ä»¥ä¸å¸¦è¡¨è¾¾å¼ï¼Œæ­¤æ—¶åœ¨caseä¸­éœ€è¦å¢åŠ æ¡ä»¶ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> i == <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a><strong>å¾ªç¯è¯­å¥</strong></h2><p>GOä¸æ”¯æŒ<code>while</code>å’Œ<code>do...while</code>å½¢å¼çš„å¾ªç¯ï¼Œä»…æ”¯æŒ<code>for</code>å¾ªç¯ã€‚åœ¨GOçš„<code>for</code>å¾ªç¯ä¸­å¯ä»¥é€šè¿‡å¤šé‡èµ‹å€¼æ–¹å¼ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ã€‚å¯¹äºå¤šé‡å¾ªç¯ï¼Œå¯ä»¥åœ¨æœ€å¤–å±‚å®šä¹‰å¾ªç¯æ ‡ç­¾ï¼Œå¹¶åœ¨å†…å±‚å¾ªç¯ä¸­é€šè¿‡<code>break</code>å…³é”®å­—ç›´æ¥æŒ‡å®šæ ‡ç­¾åï¼Œç›´æ¥è·³å‡ºå¤–å±‚å¾ªç¯ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OutLoop:    <span class="comment">//å®šä¹‰å¾ªç¯æ ‡ç­¾</span></span><br><span class="line">    <span class="comment">//æ­»å¾ªç¯</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„ï¼Œåœ¨forå¾ªç¯ä¸­åªèƒ½ä½¿ç”¨å¤šé‡èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">for</span> a, b := <span class="number">1</span>, <span class="number">5</span>; a &lt; b; a, b = a + <span class="number">2</span>, b + <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> a == <span class="number">2</span> &#123;</span><br><span class="line">                <span class="keyword">break</span> OutLoop    <span class="comment">//ç›´æ¥è·³å‡ºå¾ªç¯æ ‡ç­¾æ‰€å®šä¹‰çš„å¤–å±‚å¾ªç¯</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a><strong>å‡½æ•°</strong></h1><p>åœ¨Golangè¯­è¨€ä¸­ä¸æ”¯æŒå‡½æ•°çš„é‡è½½</p><p><strong>Golangä¸å…è®¸åŒä¸€ä¸ªæ–‡ä»¶é‡Œå‡½æ•°åä¸åŒ</strong></p><p><strong>åœ¨Goä¸­,å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹,å¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡,è¯¥å˜é‡å°±æ˜¯å‡½æ•°ç±»å‹çš„å˜é‡,é€šè¿‡è¯¥å˜é‡å®ç°å¯¹å‡½æ•°ç±»å‹çš„è°ƒç”¨</strong></p><h2 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h2><p>Go è¯­è¨€å‡½æ•°å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">( [parameter list] )</span></span> [return_types] &#123;</span><br><span class="line">   å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>funcï¼šå‡½æ•°ç”± func å¼€å§‹å£°æ˜</li><li>function_nameï¼šå‡½æ•°åç§°ï¼Œå‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹æ„æˆäº†å‡½æ•°ç­¾åã€‚</li><li>parameter listï¼šå‚æ•°åˆ—è¡¨ï¼Œå‚æ•°å°±åƒä¸€ä¸ªå ä½ç¬¦ï¼Œå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä½ å¯ä»¥å°†å€¼ä¼ é€’ç»™å‚æ•°ï¼Œè¿™ä¸ªå€¼è¢«ç§°ä¸ºå®é™…å‚æ•°ã€‚å‚æ•°åˆ—è¡¨æŒ‡å®šçš„æ˜¯å‚æ•°ç±»å‹ã€é¡ºåºã€åŠå‚æ•°ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°ä¹Ÿå¯ä»¥ä¸åŒ…å«å‚æ•°ã€‚</li><li>return_typesï¼šè¿”å›ç±»å‹ï¼Œå‡½æ•°è¿”å›ä¸€åˆ—å€¼ã€‚return_types æ˜¯è¯¥åˆ—å€¼çš„æ•°æ®ç±»å‹ã€‚æœ‰äº›åŠŸèƒ½ä¸éœ€è¦è¿”å›å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ return_types ä¸æ˜¯å¿…é¡»çš„ã€‚<strong>å¯ä»¥æœ‰è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰</strong></li><li>å‡½æ•°ä½“ï¼šå‡½æ•°å®šä¹‰çš„ä»£ç é›†åˆã€‚</li></ul><h3 id="returnè¯­å¥"><a href="#returnè¯­å¥" class="headerlink" title="returnè¯­å¥"></a>returnè¯­å¥</h3><ol><li>Go å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œå’Œpythonç›¸ä¼¼</li><li>å¦‚æœè¿”å›å¤šä¸ªå€¼æ—¶ï¼Œåœ¨æ¥å—æ—¶ï¼Œå¸Œæœ›å¿½ç•¥æŸä¸ªè¿”å›å€¼ï¼Œåˆ™ä½¿ç”¨<code>_</code>è¡¨ç¤ºå¿½ç•¥</li><li>å¦‚æœè¿”å›å€¼åªæœ‰ä¸€ä¸ªï¼Œè¿”å›å€¼ç±»å‹åˆ—è¡¨å¯ä»¥ä¸å†™<code>()</code></li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="type">string</span>)</span></span> (<span class="type">string</span>, <span class="type">string</span>) &#123;   <span class="comment">//ä¸¤ä¸ªè¿”å›å€¼ï¼Œæ­¤æ—¶ä¸€å®šè¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¥</span></span><br><span class="line">   <span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a, b := swap(<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>)</span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥å¿½ç•¥è¿”å›å€¼</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">func swap(x, y string) (string, string) &#123;   //ä¸¤ä¸ªè¿”å›å€¼ï¼Œæ­¤æ—¶ä¸€å®šè¦ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¥</span></span><br><span class="line"><span class="comment">   return y, x</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">func main() &#123;</span></span><br><span class="line"><span class="comment">   _, b := swap(&quot;Google&quot;, &quot;Runoob&quot;)    //æ³¨æ„çœ‹ç»†èŠ‚</span></span><br><span class="line"><span class="comment">   fmt.Println(a, b)</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="æ™®é€šå‡½æ•°"><a href="#æ™®é€šå‡½æ•°" class="headerlink" title="æ™®é€šå‡½æ•°"></a><strong>æ™®é€šå‡½æ•°</strong></h2><p>åœ¨å®šä¹‰GOå‡½æ•°æ—¶ï¼Œéœ€è¦åœ¨å‰é¢å¢åŠ <code>func</code>å…³é”®å­—ï¼Œ<code>func</code>åé¢ç´§éšå‡½æ•°åï¼Œç„¶åå®šä¹‰å‚æ•°åˆ—è¡¨ï¼›GOè¯­è¨€æ˜¯<strong>æ”¯æŒå¤šè¿”å›å€¼</strong>çš„ï¼Œå› æ­¤æœ€åéœ€è¦å®šä¹‰è¿”å›å€¼åˆ—è¡¨ã€‚ä¸‹é¢æ˜¯ä¸¤ä¸ªintç±»å‹çš„é™¤æ³•å‡½æ•°ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‚æ•°æˆ–è¿”å›å€¼åˆ—è¡¨ä¸­ï¼Œå¤šä¸ªç›¸åŒç±»å‹çš„å¯ä»¥é€šè¿‡é€—å·åˆå¹¶å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> (ret <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">//è¿”å›å€¼ä¼šè‡ªåŠ¨å®šä¹‰ï¼Œåœ¨å‡½æ•°ä½“å†…å¯ç›´æ¥èµ‹å€¼</span></span><br><span class="line">    err = errors.New(<span class="string">&quot;Cannot divide zero!&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>    <span class="comment">//åœ¨ä¸æŒ‡å®šæ—¶è¿”å›å€¼æ—¶ï¼Œå°†è¿”å›è‡ªåŠ¨å®šä¹‰çš„å¯¹è±¡ï¼ˆret, errï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ret = a / b</span><br><span class="line">    <span class="keyword">return</span> ret, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a><strong>å¯å˜å‚æ•°</strong></h2><p>GOå’ŒC++ä¸€æ ·ä¹Ÿæ”¯æŒå¯å˜å‚æ•°ï¼ŒåŒæ ·éœ€è¦å°†å¯å˜å‚æ•°æ”¾åœ¨æ‰€æœ‰å‚æ•°çš„æœ€åã€‚GOçš„å¯å˜å‚æ•°å¯ä»¥æŒ‡å®šç±»å‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>interface&#123;&#125;</code>æ”¯æŒä»»æ„ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">varFunc1</span><span class="params">(argv ...<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">&#125;    <span class="comment">//åªå¯ä»¥æ¥å—intç±»å‹çš„0åˆ°å¤šä¸ªå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="type">int</span>, args...<span class="type">int</span>)</span></span> sum <span class="type">int</span>&#123;</span><br><span class="line">&#125;<span class="comment">//å¯ä»¥æ¥å—intç±»å‹çš„1åˆ°å¤šä¸ªå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">varFunc1</span><span class="params">(argv ...<span class="keyword">interface</span>&#123;&#125;)</span></span>&#123;   </span><br><span class="line">&#125;  <span class="comment">//å¯æ¥å—ä»»æ„ç±»å‹çš„å¯å˜å‚æ•°</span></span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜:</strong></p><ol><li><p>argsæ˜¯sliceåˆ‡ç‰‡,é€šè¿‡args[index]å¯ä»¥è®¿é—®åˆ°å„ä¸ªå€¼</p></li><li><p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªåŠ¨æ€çš„æ•°ç»„</p></li><li><p>å¦‚æœä¸€ä¸ªå‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­æœ‰å¯å˜å‚æ•°,é‚£ä¹ˆæŠŠå¯å˜å‚æ•°æ”¾åœ¨æœ€å</p></li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(n1 <span class="type">int</span>, args ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">sum := n1</span><br><span class="line"><span class="comment">//éå†args</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(args); i++ &#123;</span><br><span class="line">sum += args[i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := sum(<span class="number">10</span>, <span class="number">234</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">34543</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">45</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">56</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;a = &quot;</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a><strong>åŒ¿åå‡½æ•°</strong></h2><p>Go è¯­è¨€æ”¯æŒåŒ¿åå‡½æ•°ï¼Œå¯ä½œä¸ºé—­åŒ…ã€‚åŒ¿åå‡½æ•°æ˜¯ä¸€ä¸ªâ€å†…è”â€è¯­å¥æˆ–è¡¨è¾¾å¼ã€‚åŒ¿åå‡½æ•°çš„ä¼˜è¶Šæ€§åœ¨äºå¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°å†…çš„å˜é‡ï¼Œä¸å¿…ç”³æ˜ã€‚</p><p>GOè¯­è¨€æ”¯æŒåŒ¿åå‡½æ•°ï¼Œè¿™ä¸€ç‚¹æ˜¯C++æ‰€ä¸å…·å¤‡çš„ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSequence</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">i := <span class="number">0</span></span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">i += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">/* nextNumber ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•° i ä¸º 0 */</span></span><br><span class="line">nextNumber := getSequence()</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è°ƒç”¨ nextNumber å‡½æ•°ï¼Œi å˜é‡è‡ªå¢ 1 å¹¶è¿”å› */</span></span><br><span class="line">fmt.Println(nextNumber())</span><br><span class="line">fmt.Println(nextNumber())</span><br><span class="line">fmt.Println(nextNumber())</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºæ–°çš„å‡½æ•° nextNumber1ï¼Œå¹¶æŸ¥çœ‹ç»“æœ */</span></span><br><span class="line">nextNumber1 := getSequence()</span><br><span class="line">fmt.Println(nextNumber1())</span><br><span class="line">fmt.Println(nextNumber1())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p>Go è¯­è¨€æä¾›äº†å¦å¤–ä¸€ç§æ•°æ®ç±»å‹å³æ¥å£ï¼Œ<strong>å®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚æŠŠæ‰€æœ‰æ–¹æ³•å…¨éƒ¨å®ç°äº†ï¼Œå«åšå®ç°äº†æ¥å£</strong></p><p>æ¥å£ç±»å‹å¯ä»¥å®šä¹‰ä¸€ç»„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›ä¸éœ€è¦å®ç°ï¼Œè€Œä¸”Interface<strong>ä¸èƒ½åŒ…å«ä»»ä½•çš„å˜é‡</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å®šä¹‰æ¥å£ */</span></span><br><span class="line"><span class="keyword">type</span> interface_name <span class="keyword">interface</span> &#123;</span><br><span class="line">method_name1 [return_type]</span><br><span class="line">method_name2 [return_type]</span><br><span class="line">method_name3 [return_type]</span><br><span class="line">...</span><br><span class="line">method_namen [return_type]</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/* å®šä¹‰ç»“æ„ä½“ */</span></span><br><span class="line"> <span class="keyword">type</span> struct_name <span class="keyword">struct</span> &#123;</span><br><span class="line"><span class="comment">/* variables */</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/* å®ç°æ¥å£æ–¹æ³• */</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span></span> method_name1() [return_type] &#123;</span><br><span class="line"><span class="comment">/* æ–¹æ³•å®ç° */</span></span><br><span class="line"> &#125;</span><br><span class="line"> ...</span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span></span> method_namen() [return_type] &#123;</span><br><span class="line"><span class="comment">/* æ–¹æ³•å®ç°*/</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">interface</span> &#123;</span><br><span class="line">call()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span></span> call() &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;I am Nokia, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span></span> call() &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;I am iPhone, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> phone Phone</span><br><span class="line"></span><br><span class="line">phone = <span class="built_in">new</span>(NokiaPhone)</span><br><span class="line">phone.call()</span><br><span class="line"></span><br><span class="line">phone = <span class="built_in">new</span>(IPhone)</span><br><span class="line">phone.call()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">I am Nokia, I can call you!</span></span><br><span class="line"><span class="comment">I am iPhone, I can call you!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><hr><h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a><strong>é”™è¯¯å¤„ç†</strong></h1><p>GOè¯­è¨€é€šè¿‡errorç±»å‹ä»¥åŠ<code>defer</code>ã€<code>panic</code>ã€<code>recover</code>ä¸‰ä¸ªå…³é”®å­—ï¼Œç›¸å¯¹C++æä¾›äº†æ›´æ–¹ä¾¿çš„é”™è¯¯å¤„ç†ã€‚</p><ul><li><strong>error</strong>ï¼š</li></ul><p>GOçš„errorå®é™…æ˜¯ä¸€ä¸ªå®šä¹‰äº†<code>func Error() string</code>å‡½æ•°çš„æ¥å£ã€‚æ‰€æœ‰çš„errorç±»å‹éƒ½å¿…é¡»å®ç°<code>Error()</code>å‡½æ•°ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">error</span> <span class="keyword">interface</span> &#123;</span><br><span class="line">    Error() <span class="type">string</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>å› ä¸ºGOæ”¯æŒå¤šä¸ªè¿”å›å€¼ï¼Œå› æ­¤å¯ä»¥é€šè¿‡åœ¨è¿”å›å€¼ä¸­å¢åŠ errorç±»å‹ï¼Œæ›´æ–¹ä¾¿å¼€å‘äººå‘˜åˆ¤æ–­è°ƒç”¨æ˜¯å¦æˆåŠŸï¼Œæ¯”å¦‚å‰é¢å®šä¹‰çš„Devideå‡½æ•°çš„è°ƒç”¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å†™ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ret, err := Devide(a, b)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(err.Error())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œåœ¨C++ä¸­è¦å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œåˆ™éœ€è¦å‡½æ•°æŠ›å‡ºä¸€ä¸ªDevideZeroå¼‚å¸¸ï¼Œå¹¶åœ¨è°ƒç”¨å¤„æ•è·å¼‚å¸¸å†å¤„ç†ï¼›æˆ–æ˜¯å®šä¹‰ä¸€ä¸ªè¿”å›å€¼å¹¶é€šè¿‡è¾“å‡ºå‚æ•°è¿”å›ç»“æœã€‚è€Œé€šè¿‡errorè¿›è¡Œå¤„ç†åˆ™ç®€å•å¾ˆå¤šã€‚</p><ul><li><strong>defer</strong></li></ul><p>ä½¿ç”¨C++çš„å¼€å‘äººå‘˜å¯¹C++ä¸­çš„å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰èµ„æºçš„é‡Šæ”¾çš„å¤„ç†ä¸€å®šæœ‰å¾ˆæ·±çš„æ˜ åƒã€‚<strong>åœ¨ä½¿ç”¨C++å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯åœ¨å‡½æ•°é€€å‡ºæˆ–å¯¹è±¡ææ„æ—¶è¿›è¡Œæ­£ç¡®çš„èµ„æºé‡Šæ”¾åŠ¨ä½œ</strong>ï¼Œè€Œè¿™åœ¨å¤æ‚çš„ä»£ç é€»è¾‘ä¸­å¾€å¾€æ˜¯éå¸¸å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ã€‚</p><p>GOè¯­è¨€é€šè¿‡<strong>defer</strong>å…³é”®å­—è§£å†³äº†å¼€å‘äººå‘˜çš„è¿™ä¸ªéš¾é¢˜ã€‚å¼€å‘äººå‘˜åªéœ€è¦åœ¨ç”³è¯·äº†èµ„æºåç«‹å³é€šè¿‡deferå…³é”®å­—ç¼–å†™èµ„æºé‡Šæ”¾çš„ä»£ç ï¼ŒGOä¼šä¿è¯åœ¨æ­£ç¡®çš„æ—¶æœºé‡Šæ”¾èµ„æºï¼ˆæœ‰ç‚¹ç±»ä¼¼C++çš„finallyï¼‰ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒGOä¼šä¿è¯åœ¨TestResourceå‡½æ•°åœ¨é€€å‡ºå‰ï¼Œè°ƒç”¨åˆ°deferåé¢çš„ä»£ç ä»¥ä¿è¯æ–‡ä»¶è¢«å…³é—­ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestResource</span><span class="params">()</span></span> &#123;</span><br><span class="line">    file, err := os.Open(fn)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªä½œç”¨åŸŸå†…æœ‰å¤šä¸ªdeferï¼Œåˆ™åœ¨é€€å‡ºæ—¶ä¼šæŒ‰å…ˆè¿›åå‡ºçš„æ–¹å¼è¿›è¡Œè°ƒç”¨ã€‚å› æ­¤åœ¨ä½¿ç”¨æ—¶åº”è¯¥å°½é‡é¿å…ä¸€ä¸ªä½œç”¨åŸŸå†…å¤šä¸ªdeferä¸­çš„ä»£ç å­˜åœ¨é¡ºåºè¦æ±‚ï¼Œä»¥é¿å…å‡ºé”™ã€‚</p></blockquote><ul><li><strong>panic&amp;recover</strong></li></ul><p>panicå’Œrecoverçš„å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">panic</span><span class="params">(<span class="keyword">interface</span>&#123;&#125;)</span></span> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recover</span><span class="params">()</span></span> <span class="keyword">interface</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>æœ‰ç‚¹ç±»ä¼¼äºC++ä¸­çš„æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœpanicè¢«è°ƒç”¨åˆ°åˆ™å½“å‰å‡½æ•°æ‰§è¡Œä¸­æ­¢ï¼Œæ­¤æ—¶å°†è°ƒç”¨å‡½æ•°ä¸­èµ°åˆ°è¿‡çš„deferä»£ç ï¼Œç„¶åå†ä¾æ¬¡å‘ä¸Šçº§å‡½æ•°è¿”å›å¹¶è°ƒç”¨è¿™äº›å‡½æ•°çš„panicå‡½æ•°ï¼Œç›´è‡³å½“å‰goroutineä¸­æ‰€æœ‰å‡½æ•°ä¸­æ­¢ã€‚</p><p>è€Œrecoverå‡½æ•°é€šå¸¸ç”¨äºåœ¨deferä¸­ç”¨äºåˆ¤æ–­å‡½æ•°æ˜¯å¦æ˜¯panicå¯¼è‡´çš„é€€å‡ºï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="comment">//è¯´æ˜æ˜¯panicçš„æƒ…å†µï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><hr><h1 id="æ›´ä¸°å¯Œçš„å†…å»ºç±»å‹"><a href="#æ›´ä¸°å¯Œçš„å†…å»ºç±»å‹" class="headerlink" title="æ›´ä¸°å¯Œçš„å†…å»ºç±»å‹"></a><strong>æ›´ä¸°å¯Œçš„å†…å»ºç±»å‹</strong></h1><p>C++ä»…æ”¯æŒå¸ƒå°”ã€å­—ç¬¦ã€æ•°å€¼å†…å»ºç±»å‹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å­—å…¸ï¼Œå¿…é¡»å¼•å…¥<strong>stl</strong>æˆ–å…¶å®ƒåº“ã€‚</p><p>GOåˆ™å°†å­—ç¬¦ä¸²ã€åˆ‡ç‰‡ï¼ˆsliceï¼‰ã€å­—å…¸ã€å¤æ•°ä½œä¸ºäº†åŸå­ç±»å‹æ”¯æŒã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ç¤ºä¾‹çœ‹ä¸€ä¸‹GOå¯¹å„ç§ç±»å‹çš„æ”¯æŒï¼š</p><p>golangçš„æ•°ç»„å¯ä»¥åƒpythonä¸€æ ·ä½¿ç”¨<code>range</code>éå†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index,value := <span class="keyword">range</span> array&#123;</span><br><span class="line">....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>index : æ•°ç»„ä¸‹æ ‡</li><li>value ä¸‹æ ‡å¯¹åº”ä½ç½®</li><li>arrayï¼šæ•°ç»„å</li><li><strong>éƒ½æ˜¯ä»…åœ¨forå¾ªç¯å†…éƒ¨å¯è§çš„å±€éƒ¨å˜é‡</strong></li><li><strong>éå†æ•°ç»„æ—¶ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨indexï¼Œå¯ä»¥ä½¿ç”¨<code>_</code>ä»£æ›¿</strong></li></ol><h2 id="å­—ç¬¦ä¸²ï¼ˆstringï¼‰"><a href="#å­—ç¬¦ä¸²ï¼ˆstringï¼‰" class="headerlink" title="å­—ç¬¦ä¸²ï¼ˆstringï¼‰"></a><strong>å­—ç¬¦ä¸²ï¼ˆstringï¼‰</strong></h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s <span class="type">string</span></span><br><span class="line">str := <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line">s = str</span><br></pre></td></tr></table></figure><h2 id="åˆ‡ç‰‡ï¼ˆsliceï¼‰"><a href="#åˆ‡ç‰‡ï¼ˆsliceï¼‰" class="headerlink" title="åˆ‡ç‰‡ï¼ˆsliceï¼‰"></a><strong>åˆ‡ç‰‡ï¼ˆsliceï¼‰</strong></h2><p>GOè¯­è¨€ä¸­çš„åˆ‡ç‰‡ç±»ä¼¼äºstlä¸­çš„vectorï¼Œå®ƒå®é™…åŒ…æ‹¬äº†ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œæ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œä»¥åŠå¯¹åº”çš„å†…å­˜å­˜å‚¨ç©ºé—´ã€‚</p><ol><li><p>åˆ‡ç‰‡æ˜¯æ•°ç»„çš„ä¸€ä¸ªå¼•ç”¨ï¼Œé‚£ä¹ˆåˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œè¿™å’Œæ•°ç»„æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‡½æ•°ä¸­æ”¹å˜çš„ä¼šæ”¹å˜å…¶å€¼</p></li><li><p>åˆ‡ç‰‡çš„é•¿åº¦æ˜¯å¯ä»¥å˜åŒ–çš„</p></li><li><p>åˆ‡ç‰‡çš„ä½¿ç”¨ç±»ä¼¼äºæ•°ç»„ï¼Œéå†å’Œè®¿é—®éƒ½æ˜¯å’Œæ•°ç»„ä¸€æ ·çš„</p></li><li><p>åˆ‡ç‰‡çš„å®šä¹‰åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slicename [] <span class="keyword">type</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">slicenameï¼šåˆ‡ç‰‡å</span></span><br><span class="line"><span class="comment">type ï¼šç±»å‹</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ol><p>ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ä¸€ä¸ªæ•°ç»„åˆ›å»ºsliceã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myArray := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">mySlice := myArray[:<span class="number">3</span>]</span><br><span class="line"><span class="comment">//é€šè¿‡lenå’Œcapå‡½æ•°ï¼Œå¯ä»¥è·å–sliceçš„é•¿åº¦å’Œå®¹é‡</span></span><br><span class="line">l, c := <span class="built_in">len</span>(mySlice), <span class="built_in">cap</span>(mySlice)</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> intArr [<span class="number">5</span>]<span class="type">int</span> = [...]<span class="type">int</span>&#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>&#125; <span class="comment">//æ•°ç»„</span></span><br><span class="line">slice := intArr[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">fmt.Println(<span class="string">&quot;intarr=&quot;</span>, intArr)</span><br><span class="line">fmt.Println(<span class="string">&quot;intarrçš„å®¹é‡æ˜¯ &quot;</span>, <span class="built_in">len</span>(intArr))</span><br><span class="line">fmt.Println(<span class="string">&quot;slice çš„å…ƒç´ æ˜¯ &quot;</span>, slice)</span><br><span class="line">fmt.Println(<span class="string">&quot;slice çš„å®¹é‡æ˜¯&quot;</span>, <span class="built_in">cap</span>(slice))</span><br><span class="line">fmt.Println(<span class="string">&quot;slice çš„å…ƒç´ ä¸ªæ•°ä¸º&quot;</span>, <span class="built_in">len</span>(slice))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">intarr= [11 22 33 44 55]</span></span><br><span class="line"><span class="comment">intarrçš„å®¹é‡æ˜¯  5</span></span><br><span class="line"><span class="comment">slice çš„å…ƒç´ æ˜¯  [22 33]</span></span><br><span class="line"><span class="comment">slice çš„å®¹é‡æ˜¯ 4</span></span><br><span class="line"><span class="comment">slice çš„å…ƒç´ ä¸ªæ•°ä¸º 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>make</code>å‡½æ•°åˆ›å»ºæŒ‡å®šç±»å‹ã€é•¿åº¦å’Œå®¹é‡çš„sliceï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªintç±»å‹çš„sliceï¼Œåˆå§‹é•¿åº¦ä¸º3ï¼Œä½†å®¹é‡ä¸º5</span></span><br><span class="line">myArray := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ol><li>slice æ˜¯åˆ‡ç‰‡åç§°</li><li>intArr[1:3] è¡¨ç¤ºsliceå¼•ç”¨æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ åˆ°ä¸‹æ ‡</li><li><strong>å¼•ç”¨intArræ•°ç»„çš„èµ·å§‹ä¸‹æ ‡ä¸º1ï¼Œç»ˆæ­¢ä¸‹æ ‡ä¸º3ï¼Œä½†æ˜¯ä¸åŒ…å«3</strong></li><li>åˆ‡ç‰‡çš„å®¹é‡capæ˜¯å¯å˜çš„ï¼Œè¿™æ ·å¯ä»¥èŠ‚çº¦ç©ºé—´</li><li><strong>æ­¤æ—¶æ”¹å˜æ•°ç»„çš„å€¼ï¼Œslice çš„å€¼ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼ˆå¼•ç”¨ï¼‰</strong></li></ol><p><strong>åˆ‡ç‰‡åœ¨å†…å­˜ä¸­å½¢å¼</strong></p><p><strong>åœ¨å†…å­˜é‡Œï¼Œå¯ä»¥ç†è§£ä¸ºslicæ˜¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆçš„</strong></p><ol><li>ç¬¬ä¸€ä¸ªä½ç½®è®°å½•çš„æ˜¯æ•°ç»„çš„åœ°å€ï¼Œæ˜¯å¼•ç”¨ç±»å‹</li><li>ç¬¬äºŒä¸ªè®°å½•äº†slicæœ¬èº«çš„é•¿åº¦</li><li>ç¬¬ä¸‰ä¸ªè®°å½•çš„æ˜¯slicå®¹é‡çš„å¤§å°</li></ol><p>å¯ä»¥ç†è§£ä¸ºslicæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼ˆæœ¬èº«ä¹Ÿæ˜¯æœ‰ä¸ªåœ°å€ï¼‰slicä»åº•å±‚æ¥è¯´å…¶å®å°±æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ˜¯structç»“æ„ä½“</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> slice <span class="keyword">struct</span>&#123;</span><br><span class="line">ptr *[<span class="number">2</span>]<span class="type">int</span></span><br><span class="line"><span class="built_in">len</span> <span class="type">int</span></span><br><span class="line"><span class="built_in">cap</span> <span class="type">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>append() å’Œ copy() å‡½æ•°</strong></p><ul><li>appendåŠ¨æ€è¿½åŠ </li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice []<span class="type">int</span> = []<span class="type">int</span>&#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>&#125;</span><br><span class="line">slice3 = <span class="built_in">append</span>(slice, <span class="number">400</span>, <span class="number">500</span>)</span><br><span class="line"><span class="comment">/*slice4åˆ™æ˜¯ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œslice3è¢«å›æ”¶ï¼Œå¦‚æœæ˜¯slice3ï¼Œåˆ™åœ¨åŸæ¥çš„ç©ºé—´æ‰©å®¹*/</span></span><br><span class="line">fmt.Println(<span class="string">&quot;slice&quot;</span>, slice)</span><br></pre></td></tr></table></figure><ol><li><strong>å¦‚æœæƒ³å¢åŠ åˆ‡ç‰‡çš„å®¹é‡ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„æ›´å¤§çš„åˆ‡ç‰‡å¹¶æŠŠåŸåˆ†ç‰‡çš„å†…å®¹éƒ½æ‹·è´è¿‡æ¥ã€‚</strong></li><li><strong>ä½¿ç”¨appendæ—¶Goåº•å±‚åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„newArrå®‰è£…æ‰©å®¹åå¤§å°</strong></li><li><strong>å°†sliceåŸæ¥åŒ…å«çš„å…ƒç´ æ‹·è´åˆ°æ–°çš„æ•°ç»„ï¼ŒnewArræ˜¯åœ¨åº•å±‚ç»´æŠ¤çš„ï¼Œç¨‹åºå‘˜ä¸å¯è§</strong></li></ol><ul><li>copyå†…ç½®å‡½æ•°æ‹·è´</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice4 []<span class="type">int</span> = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">var</span> slice5 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">copy</span>(slice5, slice4) <span class="comment">//å°†åˆ‡ç‰‡slice4æ‹·è´ä¸ºslice5</span></span><br><span class="line"></span><br><span class="line">fmt.Println(slice4) <span class="comment">//1,2,3,4,5</span></span><br><span class="line">fmt.Println(slice5) <span class="comment">//1,2,3,4,5,0,0,0,0,0</span></span><br></pre></td></tr></table></figure><ol><li>å¦‚æœä¿®æ”¹slice5çš„å€¼ï¼Œslice4ä¸å˜ï¼Œä»–ä»¬ä¹‹é—´çš„æ•°æ®ç©ºé—´æ˜¯ç‹¬ç«‹çš„</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨makeåï¼Œå¤šä½™çš„ç©ºé—´é»˜è®¤ä¸º0</li></ol><p><strong>å½“ä½¿ç”¨æ‹·è´çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰åˆ‡ç‰‡å®¹é‡ä¸å¤Ÿæ€ä¹ˆåŠï¼Œä¼šæŠ¥é”™å—ï¼Ÿ</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">slice := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">1</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;a=&quot;</span>, a)</span><br><span class="line">fmt.Println(slice) <span class="comment">//0</span></span><br><span class="line"><span class="built_in">copy</span>(slice, a)</span><br><span class="line">fmt.Println(slice) <span class="comment">//ä¸ä¼šæŠ¥é”™ï¼Œè€Œä¸”èµ‹äºˆçš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">a= [1 2 3 4 5]</span></span><br><span class="line"><span class="comment">[0]</span></span><br><span class="line"><span class="comment">[1]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="å­—å…¸ï¼ˆmapï¼‰"><a href="#å­—å…¸ï¼ˆmapï¼‰" class="headerlink" title="å­—å…¸ï¼ˆmapï¼‰"></a><strong>å­—å…¸ï¼ˆmapï¼‰</strong></h2><p>åœ¨Goä¸­å®šä¹‰å­—å…¸ç±»å‹ä»¥<code>map[KeyType]ValueType</code>çš„å½¢å¼å®šä¹‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dict <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">dict := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>, <span class="number">100</span>) <span class="comment">//æ„é€ äº†ä¸‹string:intç±»å‹çš„mapï¼Œå®¹é‡ä¸º100</span></span><br><span class="line">dict[<span class="string">&quot;int_1&quot;</span>] = <span class="number">1</span></span><br><span class="line">v, ok := dict[<span class="string">&quot;int_1&quot;</span>] <span class="comment">//é€šè¿‡åˆ¤æ–­ç¬¬2ä¸ªè¿”å›å€¼æ˜¯å¦ä¸ºtrueï¼Œå¯ä»¥åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨</span></span><br></pre></td></tr></table></figure><h2 id="å¤æ•°ï¼ˆcomplex64-x2F-complex128ï¼‰"><a href="#å¤æ•°ï¼ˆcomplex64-x2F-complex128ï¼‰" class="headerlink" title="å¤æ•°ï¼ˆcomplex64&#x2F;complex128ï¼‰"></a><strong>å¤æ•°ï¼ˆcomplex64&#x2F;complex128ï¼‰</strong></h2><p>é™¤äº†ä»¥ä¸Šå¸¸è§çš„æ•°æ®ç±»å‹ï¼ŒGoè¿˜æ”¯æŒå¤æ•°ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> z <span class="type">complex64</span></span><br><span class="line">z = <span class="number">10</span> + <span class="number">20i</span>        <span class="comment">//å³10 + 20i</span></span><br><span class="line">a = <span class="built_in">real</span>(z)         <span class="comment">//realè·å–å¤æ•°çš„å®éƒ¨</span></span><br><span class="line">b = <span class="built_in">imag</span>(z)         <span class="comment">//imagè·å–å¤æ•°çš„è™šéƒ¨ </span></span><br></pre></td></tr></table></figure><p>é™¤äº†ä»¥ä¸Šç±»å‹ï¼ŒGOè¿˜æ”¯æŒç®¡é“channelã€unicodeå­—ç¬¦runeã€é”™è¯¯ç±»å‹errorã€æŒ‡é’ˆpointerã€‚</p><hr><h1 id="ç±»å‹ç³»ç»Ÿ"><a href="#ç±»å‹ç³»ç»Ÿ" class="headerlink" title="ç±»å‹ç³»ç»Ÿ"></a><strong>ç±»å‹ç³»ç»Ÿ</strong></h1><p>é™¤äº†å†…å»ºç±»å‹ä¹‹åï¼ŒGOä¹Ÿæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œæ¯”å¦‚structã€interfaceï¼Œä½†åœ¨è¯­æ³•ä¸Šæœ‰ä¸€äº›å·®å¼‚ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹æ˜¯GOçš„structå’Œinterfaceçš„å®šä¹‰ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Rect <span class="keyword">struct</span> &#123;</span><br><span class="line">    X, Y <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TestItf <span class="keyword">interface</span> &#123;</span><br><span class="line">    f()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†GOçš„structå’Œinterfaceä¸C++å­˜åœ¨å‡ ç‚¹æ˜¾è‘—çš„ä¸åŒï¼š</p><ol><li>ä¸æ”¯æŒç»§æ‰¿ï¼Œåªèƒ½é€šè¿‡ç»„åˆå®ç°ç»§æ‰¿</li><li>å¯ä»¥ç»™ä»»æ„ç±»å‹å¢åŠ æ–¹æ³•</li><li>ç±»ä¸éœ€è¦æ˜¾å¼æŒ‡å®šå®ç°interface</li><li>å¯¹è±¡å¯ä»¥åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒæ¥å£çš„interfaceé—´è½¬æ¢</li></ol><p>é€šè¿‡ä»¥ä¸‹çš„ç¤ºä¾‹å¯ä»¥æ›´å¥½çš„ç†è§£ä»¥ä¸Šå‡ ç‚¹å·®å¼‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†å†…å»ºç±»å‹intå®šä¹‰Integer</span></span><br><span class="line"><span class="keyword">type</span> Integer <span class="type">int</span>           </span><br><span class="line"><span class="comment">//ä¸ºIntegerå¢åŠ Addæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a Integer)</span></span>Add(b Integer) Integer&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IReader <span class="keyword">interface</span> &#123;</span><br><span class="line">    Read() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Father <span class="keyword">struct</span> &#123;</span><br><span class="line">    I Integer</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Fatherå¹¶æ²¡æœ‰æ˜¾å¼å®ç°IReaderæ¥å£ï¼Œä½†é€šè¿‡å®ç°äº†Readå‡½æ•°å°±ç›¸å½“äºæ˜¯IReaderçš„å®ä¾‹äº†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Father)</span></span>Read() <span class="type">string</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Father::I = &quot;</span>, f.I)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Father&#x27;s Read&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Child <span class="keyword">struct</span> &#123;</span><br><span class="line">    Father    <span class="comment">//é€šè¿‡åŒ¿åç»„åˆäº†Fatherï¼ŒChildè‡ªåŠ¨â€œç»§æ‰¿â€äº†Iæˆå‘˜å’ŒFuncæ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IStream <span class="keyword">interface</span> &#123;</span><br><span class="line">    Read() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj IReader</span><br><span class="line"><span class="keyword">var</span> is IStream</span><br><span class="line">c := &amp;Child&#123;&#125;</span><br><span class="line">obj = c        <span class="comment">//Childæ˜¯IReaderçš„å®ä¾‹ï¼Œå› ä¸ºcé€šè¿‡ç»„åˆç»§æ‰¿äº†Fatherå®ç°çš„Readæ–¹æ³•</span></span><br><span class="line">is = obj       <span class="comment">//IReaderå› ä¸ºå’ŒIStreamæœ‰ç›¸åŒçš„æ¥å£å®šä¹‰ï¼Œå› æ­¤å¯ä»¥äº’ç›¸è½¬æ¢</span></span><br></pre></td></tr></table></figure><h1 id="Goå¹¶å‘"><a href="#Goå¹¶å‘" class="headerlink" title="Goå¹¶å‘"></a>Goå¹¶å‘</h1><p>Go è¯­è¨€æ”¯æŒå¹¶å‘ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ <code>go</code> å…³é”®å­—æ¥å¼€å¯ goroutine å³å¯ã€‚</p><p>goroutine æ˜¯<strong>è½»é‡çº§çº¿ç¨‹</strong>ï¼Œgoroutine çš„è°ƒåº¦æ˜¯ç”± Golang è¿è¡Œæ—¶è¿›è¡Œç®¡ç†çš„ã€‚</p><p>goroutine è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> å‡½æ•°å( å‚æ•°åˆ—è¡¨ )</span><br></pre></td></tr></table></figure><p>Go å…è®¸ä½¿ç”¨ go è¯­å¥å¼€å¯ä¸€ä¸ªæ–°çš„è¿è¡ŒæœŸçº¿ç¨‹ï¼Œ å³ goroutineï¼Œä»¥ä¸€ä¸ªä¸åŒçš„ã€æ–°åˆ›å»ºçš„ goroutine æ¥æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚ <strong>åŒä¸€ä¸ªç¨‹åºä¸­çš„æ‰€æœ‰ goroutine å…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´</strong>ã€‚</p><p><strong>æ¡ˆä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(s <span class="type">string</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">time.Sleep(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">go</span> say(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">say(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œä½ ä¼šçœ‹åˆ°è¾“å‡ºçš„ hello å’Œ world æ˜¯æ²¡æœ‰å›ºå®šå…ˆåé¡ºåºã€‚å› ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ª goroutine åœ¨æ‰§è¡Œã€‚</p><hr><h1 id="é€šé“"><a href="#é€šé“" class="headerlink" title="é€šé“"></a>é€šé“</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>é€šé“ï¼ˆchannelï¼‰æ˜¯ç”¨æ¥ä¼ é€’æ•°æ®çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</p><p>é€šé“å¯ç”¨äºä¸¤ä¸ª goroutine ä¹‹é—´é€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼æ¥åŒæ­¥è¿è¡Œå’Œé€šè®¯ã€‚æ“ä½œç¬¦ <code>&lt;-</code> ç”¨äºæŒ‡å®šé€šé“çš„æ–¹å‘ï¼Œå‘é€æˆ–æ¥æ”¶ã€‚å¦‚æœæœªæŒ‡å®šæ–¹å‘ï¼Œåˆ™ä¸ºåŒå‘é€šé“ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ch &lt;- v    <span class="comment">// æŠŠ v å‘é€åˆ°é€šé“ ch</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// ä» ch æ¥æ”¶æ•°æ®</span></span><br><span class="line">           <span class="comment">// å¹¶æŠŠå€¼èµ‹ç»™ v</span></span><br></pre></td></tr></table></figure><p>å£°æ˜ä¸€ä¸ªé€šé“å¾ˆç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>chan</code>å…³é”®å­—å³å¯ï¼Œé€šé“åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆåˆ›å»ºï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œé€šé“æ˜¯ä¸å¸¦ç¼“å†²åŒºçš„ã€‚å‘é€ç«¯å‘é€æ•°æ®ï¼ŒåŒæ—¶å¿…é¡»æœ‰æ¥æ”¶ç«¯ç›¸åº”çš„æ¥æ”¶æ•°æ®ã€‚</p><p>ä»¥ä¸‹å®ä¾‹é€šè¿‡ä¸¤ä¸ª goroutine æ¥è®¡ç®—æ•°å­—ä¹‹å’Œï¼Œåœ¨ goroutine å®Œæˆè®¡ç®—åï¼Œå®ƒä¼šè®¡ç®—ä¸¤ä¸ªç»“æœçš„å’Œï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(s []<span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> s &#123;</span><br><span class="line">sum += v</span><br><span class="line">&#125;</span><br><span class="line">c &lt;- sum <span class="comment">// æŠŠ sum å‘é€åˆ°é€šé“ c</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">s := []<span class="type">int</span>&#123;<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">-9</span>, <span class="number">4</span>, <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="keyword">go</span> sum(s[:<span class="built_in">len</span>(s)/<span class="number">2</span>], c)</span><br><span class="line"><span class="keyword">go</span> sum(s[<span class="built_in">len</span>(s)/<span class="number">2</span>:], c)</span><br><span class="line">x, y := &lt;-c, &lt;-c <span class="comment">// ä»é€šé“ c ä¸­æ¥æ”¶</span></span><br><span class="line"></span><br><span class="line">fmt.Println(x, y, x+y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">-5 17 12</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="é€šé“ç¼“å†²åŒº"><a href="#é€šé“ç¼“å†²åŒº" class="headerlink" title="é€šé“ç¼“å†²åŒº"></a>é€šé“ç¼“å†²åŒº</h2><p>é€šé“å¯ä»¥è®¾ç½®ç¼“å†²åŒºï¼Œé€šè¿‡ make çš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šç¼“å†²åŒºå¤§å°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><p>å¸¦ç¼“å†²åŒºçš„é€šé“å…è®¸å‘é€ç«¯çš„æ•°æ®å‘é€å’Œæ¥æ”¶ç«¯çš„æ•°æ®è·å–å¤„äº<strong>å¼‚æ­¥çŠ¶æ€</strong>ï¼Œå°±æ˜¯è¯´å‘é€ç«¯å‘é€çš„æ•°æ®å¯ä»¥æ”¾åœ¨ç¼“å†²åŒºé‡Œé¢ï¼Œå¯ä»¥ç­‰å¾…æ¥æ”¶ç«¯å»è·å–æ•°æ®ï¼Œè€Œä¸æ˜¯ç«‹åˆ»éœ€è¦æ¥æ”¶ç«¯å»è·å–æ•°æ®ã€‚</p><p>ä¸è¿‡ç”±äºç¼“å†²åŒºçš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å¿…é¡»æœ‰æ¥æ”¶ç«¯æ¥æ¥æ”¶æ•°æ®çš„ï¼Œå¦åˆ™ç¼“å†²åŒºä¸€æ»¡ï¼Œæ•°æ®å‘é€ç«¯å°±æ— æ³•å†å‘é€æ•°æ®äº†ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœé€šé“ä¸å¸¦ç¼“å†²ï¼Œå‘é€æ–¹ä¼šé˜»å¡ç›´åˆ°æ¥æ”¶æ–¹ä»é€šé“ä¸­æ¥æ”¶äº†å€¼ã€‚å¦‚æœé€šé“å¸¦ç¼“å†²ï¼Œå‘é€æ–¹åˆ™ä¼šé˜»å¡ç›´åˆ°å‘é€çš„å€¼è¢«æ‹·è´åˆ°ç¼“å†²åŒºå†…ï¼›å¦‚æœç¼“å†²åŒºå·²æ»¡ï¼Œåˆ™æ„å‘³ç€éœ€è¦ç­‰å¾…ç›´åˆ°æŸä¸ªæ¥æ”¶æ–¹è·å–åˆ°ä¸€ä¸ªå€¼ã€‚æ¥æ”¶æ–¹åœ¨æœ‰å€¼å¯ä»¥æ¥æ”¶ä¹‹å‰ä¼šä¸€ç›´é˜»å¡ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥å­˜å‚¨æ•´æ•°ç±»å‹çš„å¸¦ç¼“å†²é€šé“</span></span><br><span class="line"><span class="comment">// ç¼“å†²åŒºå¤§å°ä¸º2</span></span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸º ch æ˜¯å¸¦ç¼“å†²çš„é€šé“ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶å‘é€ä¸¤ä¸ªæ•°æ®</span></span><br><span class="line"><span class="comment">// è€Œä¸ç”¨ç«‹åˆ»éœ€è¦å»åŒæ­¥è¯»å–æ•°æ®</span></span><br><span class="line">ch &lt;- <span class="number">1</span></span><br><span class="line">ch &lt;- <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–è¿™ä¸¤ä¸ªæ•°æ®</span></span><br><span class="line">fmt.Println(&lt;-ch)</span><br><span class="line">fmt.Println(&lt;-ch)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="Go-éå†é€šé“ä¸å…³é—­é€šé“"><a href="#Go-éå†é€šé“ä¸å…³é—­é€šé“" class="headerlink" title="Go éå†é€šé“ä¸å…³é—­é€šé“"></a>Go éå†é€šé“ä¸å…³é—­é€šé“</h2><p>Go é€šè¿‡ <code>range</code> å…³é”®å­—æ¥å®ç°éå†è¯»å–åˆ°çš„æ•°æ®ï¼Œç±»ä¼¼äºä¸æ•°ç»„æˆ–åˆ‡ç‰‡ã€‚æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v, ok := &lt;-ch</span><br></pre></td></tr></table></figure><p>å¦‚æœé€šé“æ¥æ”¶ä¸åˆ°æ•°æ®å ok å°±ä¸º falseï¼Œè¿™æ—¶é€šé“å°±å¯ä»¥ä½¿ç”¨ <code>close()</code> å‡½æ•°æ¥å…³é—­ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">(n <span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">x, y := <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">c &lt;- x</span><br><span class="line">x, y = y, x+y</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">close</span>(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">go</span> fibonacci(<span class="built_in">cap</span>(c), c)</span><br><span class="line"><span class="comment">// range å‡½æ•°éå†æ¯ä¸ªä»é€šé“æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œå› ä¸º c åœ¨å‘é€å®Œ 10 ä¸ª</span></span><br><span class="line"><span class="comment">// æ•°æ®ä¹‹åå°±å…³é—­äº†é€šé“ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ range å‡½æ•°åœ¨æ¥æ”¶åˆ° 10 ä¸ªæ•°æ®</span></span><br><span class="line"><span class="comment">// ä¹‹åå°±ç»“æŸäº†ã€‚å¦‚æœä¸Šé¢çš„ c é€šé“ä¸å…³é—­ï¼Œé‚£ä¹ˆ range å‡½æ•°å°±ä¸</span></span><br><span class="line"><span class="comment">// ä¼šç»“æŸï¼Œä»è€Œåœ¨æ¥æ”¶ç¬¬ 11 ä¸ªæ•°æ®çš„æ—¶å€™å°±é˜»å¡äº†ã€‚</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> c &#123;</span><br><span class="line">fmt.Println(i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">13</span></span><br><span class="line"><span class="comment">21</span></span><br><span class="line"><span class="comment">34</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="è¦ç‚¹"><a href="#è¦ç‚¹" class="headerlink" title="è¦ç‚¹"></a>è¦ç‚¹</h2><ol><li><p>goroutine æ˜¯ golang ä¸­åœ¨è¯­è¨€çº§åˆ«å®ç°çš„è½»é‡çº§çº¿ç¨‹ï¼Œä»…ä»…åˆ©ç”¨ go å°±èƒ½ç«‹åˆ»èµ·ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚å¤šçº¿ç¨‹ä¼šå¼•å…¥çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥é—®é¢˜ï¼Œåœ¨ golang ä¸­å¯ä»¥ä½¿ç”¨ channel ä½œä¸ºåŒæ­¥çš„å·¥å…·ã€‚</p><p>é€šè¿‡ channel å¯ä»¥å®ç°ä¸¤ä¸ª goroutine ä¹‹é—´çš„é€šä¿¡ã€‚</p><p>å‘ channel ä¼ å…¥æ•°æ®ï¼Œ <code>CHAN &lt;- DATA</code> ï¼Œ CHAN æŒ‡çš„æ˜¯ç›®çš„ channel å³æ”¶é›†æ•°æ®çš„ä¸€æ–¹ï¼Œ DATA åˆ™æ˜¯è¦ä¼ çš„æ•°æ®ã€‚</p><p>ä» channel è¯»å–æ•°æ®ï¼Œ <code>DATA := &lt;-CHAN</code> ï¼Œå’Œå‘ channel ä¼ å…¥æ•°æ®ç›¸åï¼Œåœ¨æ•°æ®è¾“é€ç®­å¤´çš„å³ä¾§çš„æ˜¯ channelï¼Œå½¢è±¡åœ°å±•ç°äº†æ•°æ®ä»éš§é“æµå‡ºåˆ°å˜é‡é‡Œã€‚</p></li><li><p>Channel æ˜¯å¯ä»¥æ§åˆ¶è¯»å†™æƒé™çš„ å…·ä½“å¦‚ä¸‹:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰åªè¯»çš„channel</span></span><br><span class="line">read_only := <span class="built_in">make</span> (&lt;-<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰åªå†™çš„channel</span></span><br><span class="line">write_only := <span class="built_in">make</span> (<span class="keyword">chan</span>&lt;- <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯åŒæ—¶è¯»å†™</span></span><br><span class="line">read_write := <span class="built_in">make</span> (<span class="keyword">chan</span> <span class="type">int</span>)</span><br></pre></td></tr></table></figure><p>å®šä¹‰åªè¯»å’Œåªå†™çš„channelæ„ä¹‰ä¸å¤§ï¼Œä¸€èˆ¬ç”¨äºåœ¨å‚æ•°ä¼ é€’ä¸­</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="keyword">go</span> send(c)</span><br><span class="line"><span class="keyword">go</span> recv(c)</span><br><span class="line">time.Sleep(<span class="number">3</span> * time.Second)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åªèƒ½å‘chané‡Œå†™æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">send</span><span class="params">(c <span class="keyword">chan</span>&lt;- <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">c &lt;- i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åªèƒ½å–channelä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recv</span><span class="params">(c &lt;-<span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> c &#123;</span><br><span class="line">fmt.Println(i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ç›®çš„æ˜¯åˆ—å‡ºGOå’ŒC++è¯­æ³•ä¸Šçš„çš„ä¸€äº›ä¸»è¦å·®å¼‚ï¼Œå› æ­¤ä¸ä¼šå¯¹GOçš„è¯­æ³•ã€å†…å»ºå‡½æ•°å’Œåº“ç­‰çš„ä½¿ç”¨è¿›è¡Œè¯¦ç»†çš„è¯´æ˜ã€‚</summary>
    
    
    
    <category term="GO" scheme="https://shiwei-qi.github.io/categories/GO/"/>
    
    <category term="è¯­æ³•" scheme="https://shiwei-qi.github.io/categories/GO/%E8%AF%AD%E6%B3%95/"/>
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/tags/C/"/>
    
    <category term="GO" scheme="https://shiwei-qi.github.io/tags/GO/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼ç®€è§£</title>
    <link href="https://shiwei-qi.github.io/2022/05/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AE%80%E8%A7%A3/"/>
    <id>https://shiwei-qi.github.io/2022/05/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AE%80%E8%A7%A3/</id>
    <published>2022-05-20T20:57:09.000Z</published>
    <updated>2022-05-21T10:58:18.760Z</updated>
    
    
    <summary type="html">è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚æ€»å…±æœ‰ 23 ç§è®¾è®¡æ¨¡å¼ã€‚è¿™äº›æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰ã€ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰ã€è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰ã€‚</summary>
    
    
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://shiwei-qi.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://shiwei-qi.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>STLå‰–æ</title>
    <link href="https://shiwei-qi.github.io/2022/05/18/STL%E5%89%96%E6%9E%90/"/>
    <id>https://shiwei-qi.github.io/2022/05/18/STL%E5%89%96%E6%9E%90/</id>
    <published>2022-05-18T03:27:15.000Z</published>
    <updated>2022-05-21T10:56:04.755Z</updated>
    
    <content type="html"><![CDATA[<img src="/2022/05/18/STL%E5%89%96%E6%9E%90/34653464.png" alt="34653464" style="zoom:67%;"><h1 id="STLå®ç°åŸç†åŠå®ç°"><a href="#STLå®ç°åŸç†åŠå®ç°" class="headerlink" title="STLå®ç°åŸç†åŠå®ç°"></a>STLå®ç°åŸç†åŠå®ç°</h1><p>STLæä¾›äº†å…­å¤§ç»„ä»¶ï¼Œå½¼æ­¤ä¹‹é—´å¯ä»¥ç»„åˆå¥—ç”¨ï¼Œè¿™å…­å¤§ç»„ä»¶åˆ†åˆ«æ˜¯ï¼šå®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ã€ä»¿å‡½æ•°ã€é€‚é…å™¨ï¼ˆé…å™¨ï¼‰ã€ç©ºé—´é…ç½®å™¨ã€‚</p><p>STLå…­å¤§ç»„ä»¶çš„äº¤äº’å…³ç³»ï¼š</p><ol><li>å®¹å™¨é€šè¿‡ç©ºé—´é…ç½®å™¨å–å¾—æ•°æ®å­˜å‚¨ç©ºé—´</li><li>ç®—æ³•é€šè¿‡è¿­ä»£å™¨å­˜å‚¨å®¹å™¨ä¸­çš„å†…å®¹</li><li>ä»¿å‡½æ•°å¯ä»¥ååŠ©ç®—æ³•å®Œæˆä¸åŒçš„ç­–ç•¥çš„å˜åŒ–</li><li>é€‚é…å™¨å¯ä»¥ä¿®é¥°ä»¿å‡½æ•°ã€‚</li></ol><p><strong>å®¹å™¨</strong><br>å„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorã€Iistã€dequeã€setã€mapç­‰ï¼Œç”¨æ¥å­˜æ”¾æ•°æ®ï¼Œä»å®ç°è§’åº¦æ¥çœ‹ï¼ŒSTLå®¹å™¨æ˜¯ä¸€ç§class templateã€‚</p><p><strong>ç®—æ³•</strong><br>å„ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå¦‚sortã€findã€copyã€for_eachã€‚ä»å®ç°çš„è§’åº¦æ¥çœ‹ï¼ŒSTLç®—æ³•æ˜¯ä¸€ç§function tempalte.</p><p><strong>è¿­ä»£å™¨</strong><br>æ‰®æ¼”äº†å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ï¼Œå…±æœ‰äº”ç§ç±»å‹ï¼Œä»å®ç°è§’åº¦æ¥çœ‹ï¼Œè¿­ä»£å™¨æ˜¯ä¸€ç§å°†<code>operator*</code>, <code>operator-&gt;</code>, <code>operator++</code>, <code>operator--</code> ç­‰æŒ‡é’ˆç›¸å…³æ“ä½œäºˆä»¥é‡è½½çš„class templateã€‚</p><p>æ‰€æœ‰STLå®¹å™¨éƒ½é™„å¸¦æœ‰è‡ªå·±ä¸“å±çš„è¿­ä»£å™¨ï¼Œåªæœ‰å®¹å™¨çš„è®¾è®¡è€…æ‰çŸ¥é“å¦‚ä½•éå†è‡ªå·±çš„å…ƒç´ ã€‚<br>åŸç”ŸæŒ‡é’ˆ(native pointer)ä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚</p><p><strong>ä»¿å‡½æ•°</strong><br>è¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ã€‚ä»å®ç°è§’åº¦æ¥çœ‹ï¼Œä»¿å‡½æ•°æ˜¯ä¸€ç§é‡è½½äº†<code>operator()</code>çš„classæˆ–è€…class templateã€‚</p><p><strong>é€‚é…å™¨</strong><br>ä¸€ç§ç”¨æ¥ä¿®é¥°å®¹å™¨æˆ–è€…ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚</p><p>STLæä¾›çš„queueå’Œstack,è™½ç„¶çœ‹ä¼¼å®¹å™¨ï¼Œä½†å…¶å®åªèƒ½ç®—æ˜¯ä¸€ç§å®¹å™¨é…æ¥å™¨ï¼Œå› ä¸ºå®ƒä»¬çš„åº•éƒ¨å®Œå…¨å€ŸåŠ©deque, æ‰€æœ‰æ“ä½œéƒ½ç”±åº•å±‚çš„dequeä¾›åº”ã€‚</p><p><strong>ç©ºé—´é…ç½®å™¨</strong><br>è´Ÿè´£ç©ºé—´çš„é…ç½®ä¸ç®¡ç†ã€‚ä»å®ç°è§’åº¦çœ‹ï¼Œé…ç½®å™¨æ˜¯ä¸€ä¸ªå®ç°äº†åŠ¨æ€ç©ºé—´é…ç½®ã€ç©ºé—´ç®¡ç†ã€ç©ºé—´é‡Šæ”¾çš„class templateã€‚<br>ä¸€èˆ¬çš„åˆ†é…å™¨çš„<code>std::alloctor</code>éƒ½å«æœ‰ä¸¤ä¸ªå‡½æ•°<code>allocate</code>ä¸<code>deallocte</code>,è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«è°ƒç”¨<code>operator new()</code>ä¸<code>delete()</code>,è¿™ä¸¤ä¸ªå‡½æ•°çš„åº•å±‚åˆåˆ†åˆ«æ˜¯<code>malloc()</code> å’Œ <code>free()</code>; ä½†æ˜¯æ¯æ¬¡mallocä¼šå¸¦æ¥æ ¼å¤–å¼€é”€ï¼ˆå› ä¸ºæ¯æ¬¡mallocä¸€ä¸ªå…ƒç´ éƒ½è¦å¸¦æœ‰é™„åŠ ä¿¡æ¯ï¼‰</p><hr><h1 id="ç©ºé—´é…ç½®å™¨ï¼ˆallocate-ï¼‰"><a href="#ç©ºé—´é…ç½®å™¨ï¼ˆallocate-ï¼‰" class="headerlink" title="ç©ºé—´é…ç½®å™¨ï¼ˆallocate()ï¼‰"></a>ç©ºé—´é…ç½®å™¨ï¼ˆ<code>allocate()</code>ï¼‰</h1><blockquote><p>SGI STL ä¸ºäº†é¿å…å°å‹åŒºå—çš„å†…å­˜ç¢ç‰‡ï¼ˆfragmentï¼‰é—®é¢˜, SGIè®¾è®¡äº†ä¸¤çº§é…ç½®å™¨</p></blockquote><p>å½“é…ç½®åŒºå—å¤§äº128å­—èŠ‚æ—¶ï¼Œè°ƒç”¨ç¬¬ä¸€çº§é…ç½®å™¨ã€‚å°äº128å­—èŠ‚æ—¶è°ƒç”¨ç¬¬äºŒçº§é…ç½®å™¨ã€‚</p><p><strong>ä¸ºä»€ä¹ˆéœ€è¦äºŒçº§ç©ºé—´é…ç½®å™¨ï¼Ÿ</strong></p><p>æˆ‘ä»¬çŸ¥é“åŠ¨æ€å¼€è¾Ÿå†…å­˜æ—¶ï¼Œè¦åœ¨å †ä¸Šç”³è¯·ï¼Œä½†è‹¥æ˜¯æˆ‘ä»¬éœ€è¦é¢‘ç¹çš„åœ¨å †å¼€è¾Ÿé‡Šæ”¾å†…å­˜ï¼Œåˆ™å°±ä¼šåœ¨å †ä¸Šé€ æˆå¾ˆå¤šå¤–éƒ¨ç¢ç‰‡ï¼Œæµªè´¹äº†å†…å­˜ç©ºé—´ï¼›</p><p>æ¯æ¬¡éƒ½è¦è¿›è¡Œè°ƒç”¨mallocã€freeå‡½æ•°ç­‰æ“ä½œï¼Œä½¿ç©ºé—´å°±ä¼šå¢åŠ ä¸€äº›é™„åŠ ä¿¡æ¯ï¼Œé™ä½äº†ç©ºé—´åˆ©ç”¨ç‡ï¼›</p><p>éšç€å¤–éƒ¨ç¢ç‰‡å¢å¤šï¼Œå†…å­˜åˆ†é…å™¨åœ¨æ‰¾ä¸åˆ°åˆé€‚å†…å­˜æƒ…å†µä¸‹éœ€è¦åˆå¹¶ç©ºé—²å—ï¼Œæµªè´¹äº†æ—¶é—´ï¼Œå¤§å¤§é™ä½äº†æ•ˆç‡ã€‚</p><p>äºæ˜¯å°±è®¾ç½®äº†äºŒçº§ç©ºé—´é…ç½®å™¨ï¼Œå½“å¼€è¾Ÿå†…å­˜&lt;&#x3D;128bytesæ—¶ï¼Œå³è§†ä¸ºå¼€è¾Ÿå°å—å†…å­˜ï¼Œåˆ™è°ƒç”¨äºŒçº§ç©ºé—´é…ç½®å™¨ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¿™æ ·åŒºåˆ†æˆä¸¤çº§ï¼Ÿ</strong></p><p>â€‹    å› ä¸ºSTLå®¹å™¨ï¼Œä¸€èˆ¬ç”³è¯·çš„éƒ½ä¼šæ˜¯å°å—çš„å†…å­˜ã€‚ äºŒçº§ç©ºé—´é…ç½®å™¨ï¼Œä¸»è¦æ˜¯ç®¡ç†å®¹å™¨ç”³è¯·ç©ºé—´å’Œé‡Šæ”¾çš„ç©ºé—´ã€‚å¦‚æœç”¨æˆ·ç”³è¯·çš„ç©ºé—´ç›´æ¥å¤§äºçš„<strong>128</strong>å­—èŠ‚ç›´æ¥æ‰¾çš„æ˜¯ä¸€çº§ç©ºé—´é…ç½®å™¨ç”³è¯·ç©ºé—´ã€‚</p><blockquote><p>ä¸€çº§ç©ºé—´é…ç½®å™¨</p></blockquote><p>ç¬¬ä¸€çº§é…ç½®å™¨<strong>ï¼ˆallocï¼‰</strong>çš„<code>allocate()</code>å’Œ<code>deallocate()</code>å‡½æ•°åªæ˜¯ç®€å•è°ƒç”¨<code>malloc()</code>ã€<code>free()</code>å’Œ<code>relloc()</code>å‡½æ•°ï¼›</p><p>ä¸€çº§ç©ºé—´é…ç½®å™¨åŸç†å¾ˆç®€å•ï¼Œç›´æ¥æ˜¯å¯¹mallocå’Œfreeè¿›è¡Œäº†å°è£…ï¼Œå¹¶ä¸”å¢åŠ äº†C++ä¸­çš„set_new_handleæ€æƒ³ï¼Œå³ç”³è¯·ç©ºé—´å¤±è´¥æŠ›å¼‚å¸¸æœºåˆ¶ã€‚</p><blockquote><p>äºŒçº§ç©ºé—´é…ç½®å™¨</p></blockquote><p>ç¬¬äºŒçº§é…ç½®å™¨ä¸ºäº†é™ä½é¢å¤–å¼€é”€ï¼ˆoverheadï¼‰ï¼Œé‡‡ç”¨<strong>å†…å­˜æ± </strong>(memory pool)ç®¡ç†å†…å­˜åˆ†é…ï¼›å…·ä½“ä½¿ç”¨çš„å†…å­˜å—ä»free-list(è‡ªç”±é“¾è¡¨)ä¸­æå–å‡ºã€‚</p><p>ç¬¬äºŒçº§é…ç½®å™¨ä¸»åŠ¨å°†ä»»ä½•å°é¢åŒºå—çš„å†…å­˜éœ€æ±‚é‡ä¸Šè°ƒè‡³8çš„å€æ•°ï¼Œå¹¶ç»´æŠ¤16ä¸ªfree-listï¼Œå„è‡ªç®¡ç†å¤§å°ä¸º8~128bytesçš„å°é¢åŒºå—ï¼›</p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/3453.png" alt="3453" style="zoom: 67%;"><p><strong>å…·ä½“æµç¨‹ä¸ºï¼š</strong></p><ul><li><p>ç©ºé—´é…ç½®å‡½æ•°<code>allocate()</code>ï¼Œé¦–å…ˆåˆ¤æ–­åŒºå—å¤§å°ï¼Œå¤§äº128å°±ç›´æ¥è°ƒç”¨ç¬¬ä¸€çº§é…ç½®å™¨ï¼Œå°äº128æ—¶å°±æ£€æŸ¥å¯¹åº”çš„free-listã€‚å¦‚æœfree-listä¹‹å†…æœ‰å¯ç”¨åŒºå—ï¼Œå°±ç›´æ¥æ‹¿æ¥ç”¨ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨åŒºå—ï¼Œå°±å°†åŒºå—å¤§å°è°ƒæ•´è‡³8çš„å€æ•°ï¼Œç„¶åè°ƒç”¨refill()ï¼Œä¸ºfree-listé‡æ–°åˆ†é…ç©ºé—´ï¼›</p></li><li><p>ç©ºé—´é‡Šæ”¾å‡½æ•°<code>deallocate()</code>ï¼Œè¯¥å‡½æ•°é¦–å…ˆåˆ¤æ–­åŒºå—å¤§å°ï¼Œå¤§äº128bytesæ—¶ï¼Œç›´æ¥è°ƒç”¨ä¸€çº§é…ç½®å™¨ï¼Œå°äº128byteså°±æ‰¾åˆ°å¯¹åº”çš„free-listç„¶åé‡Šæ”¾å†…å­˜ã€‚</p></li></ul><p>1.å½“éœ€è¦ç”³è¯·çš„å†…å­˜å¤§å°N å¤§äº128bytesæ—¶ï¼Œç›´æ¥ä½¿ç”¨ç¬¬ä¸€çº§é…ç½®å™¨ï¼Œä½¿ç”¨mallocåˆ†é…</p><p>2.å°äºç­‰äº128bytesæ—¶ï¼Œä½¿ç”¨å†…å­˜æ± ç®¡ç†ã€‚å†…å­˜æ± ç®¡ç†æ­¥éª¤ä¸ºï¼š</p><p>â€‹a. é¦–å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰å¯ç”¨çš„free-listï¼Œå¦‚æœæœ‰å°±ç›´æ¥ä½¿ç”¨ã€‚æ²¡æœ‰çš„è¯ï¼Œå°†æ‰€éœ€åŒºå—å¤§å°ä¸Šè°ƒè‡³8çš„å€æ•°ï¼Œè°ƒç”¨  refill()ä¸ºfree listé‡æ–°åˆ†é…ç©ºé—´ã€‚</p><p>â€‹b. æ–°çš„ç©ºé—´å°†å–è‡ªå†…å­˜æ± ï¼ˆç»ç”±chunk_alloc()å®Œæˆï¼‰ï¼Œå¦‚æœå†…å­˜æ± ä¸å¤Ÿç”¨ï¼Œä»å †ç©ºé—´ï¼ˆmallocé…ç½®ç©ºé—´ï¼‰  æ‹¿æ¥è¡¥å……å†…å­˜æ± ã€‚å¦‚æœå †ç©ºé—´ä¹Ÿä¸å¤Ÿäº†ï¼Œå°±è°ƒç”¨ç¬¬ä¸€çº§é…ç½®å™¨æ¥è¡¥å……å†…å­˜æ± ã€‚å› ä¸ºç¬¬ä¸€çº§é…ç½®å™¨æœ‰out-of- memoryå¤„ç†æœºåˆ¶ï¼Œçœ‹çœ‹å®ƒèƒ½ä¸èƒ½é‡Šæ”¾å…¶å®ƒå†…å­˜ç„¶åæ‹¿æ¥æ­¤å¤„ä½¿ç”¨ï¼ˆå¦‚æœå¯ä»¥å°±æˆåŠŸï¼Œå¦åˆ™bad_allocå¼‚å¸¸ï¼‰ã€‚</p><p><strong>è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œæœ€åˆå†…å­˜æ± å’Œfree listéƒ½ä¸ºç©ºã€‚</strong></p><hr><h1 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>STLçš„ä¸­å¿ƒæ€æƒ³ï¼šå°†æ•°æ®å®¹å™¨(containers)å’Œç®—æ³•(algorithms)åˆ†å¼€ï¼Œå½¼æ­¤ç‹¬ç«‹è®¾è®¡ï¼Œæœ€åå†ä»¥èƒ¶ç€å‰‚å°†å®ƒä»¬æ’®åˆåœ¨ä¸€èµ·ã€‚é‚£ä¹ˆä¹‹é—´çš„<strong>èƒ¶ç€å‰‚å°±æ˜¯è¿­ä»£å™¨(iterator)</strong></p><p>è¿­ä»£å™¨ iteratoræ˜¯ä¸€ç§<strong>æ™ºèƒ½æŒ‡é’ˆ</strong>(smart pointer)</p><p>è¿­ä»£å™¨æ˜¯ä¸€ç§è¡Œä¸ºç±»ä¼¼æŒ‡é’ˆçš„å¯¹è±¡(æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡)ï¼Œå…¶è¡Œä¸ºåŒ…æ‹¬å†…å®¹æé¢†(deference)å’Œæˆå‘˜è®¿é—®(member access)ï¼Œæ‰€ä»¥è¿­ä»£å™¨è¦å¯¹<code>operator&amp;()</code>å’Œ<code>operator*()</code>è¿›è¡Œé‡è½½ï¼ŒåŒæ—¶è¦å…¼é¡¾è‡ªèº«çš„æœ‰æ•ˆæ€§(ææ„)çš„é—®é¢˜ã€‚</p><blockquote><p>åœ¨å®é™…çš„ç®—æ³•ä¸­ï¼Œåœ¨è¿ç”¨è¿­ä»£å™¨æ—¶ï¼Œä¼šç”¨åˆ°è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡ä¸­çš„ç›¸åº”ç±»å‹(associate type)ã€‚</p></blockquote><p>é‚£ä¹ˆç®—æ³•å®ç°ä¸­è¯¥å¦‚ä½•æ»¡è¶³ <strong>å£°æ˜ä¸€ä¸ªä»¥â€œè¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡(ä¸­)çš„ç±»å‹â€ä¸ºç±»å‹çš„æˆå‘˜&#x2F;å‚æ•°ï¼Œæˆ–è¿”å›å€¼æ˜¯â€œè¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡(ä¸­)çš„ç±»å‹â€çš„ç±»å‹</strong> çš„éœ€æ±‚å‘¢ï¼Ÿ</p><p>å¯åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p><p>â€‹â‘  è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡æ˜¯c++å†…ç½®ç±»å‹ï¼›<br>â€‹â‘¡ è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡æ˜¯è‡ªå®šä¹‰ç±»å‹(class type)æƒ…å½¢;<br>â€‹â‘¢ è¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡æ˜¯åŸç”ŸæŒ‡é’ˆ(naive pointer)æƒ…å½¢;</p><p>å¯¹åº”çš„è¿ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹æ³•è§£å†³ï¼š</p><p>â€‹â‘  function templateçš„å‚æ•°æ¨å¯¼(augument deducation)æœºåˆ¶ ï¼›<br>â€‹â‘¡ å£°æ˜å†…åµŒç±»å‹ ï¼›<br>â€‹â‘¢ åˆ©ç”¨æ³›åŒ–ä¸­åç‰¹åŒ–(partial secification)(ä¸‹é¢æœ‰è§£é‡Š) ï¼›<br>â€‹envolve to ï¼šèƒå–æœº iterator_traits æœºåˆ¶</p><p><strong>è¿™ä¸‰ç§æ–¹æ³•æ˜¯é€æ­¥æ•´åˆä¸ºæœ€ç»ˆçš„å®ç°çš„æ–¹æ¡ˆå°±æ˜¯ *iterator_traitsèƒå–æœº* æœºåˆ¶ï¼Œå®ƒåŒ…å«äº†å‡½æ•°æ¨¡æ¿çš„å‚æ•°æ¨å¯¼ï¼Œå£°æ˜å†…åµŒç±»å‹å’Œåç‰¹åŒ–æ‰€æœ‰å†…å®¹ï¼Œä¹ŸåŒæ—¶è§£å†³äº†ä»¥ä¸Šçš„ä¸‰ä¸ªåœºæ™¯çš„å®ç°éœ€æ±‚ã€‚</strong></p><p>ç»“åˆä»¥ä¸Šä¸‰ç§æƒ…å†µå’Œä¸‰ç§è§£å†³æ–¹æ³•ï¼Œæœ€ç»ˆè®¾è®¡å‡ºäº†<strong>è¿­ä»£å™¨èƒå–æœºè¿™ä¸€ä¸­é—´å±‚ï¼Œå…¶ä½œç”¨æ˜¯èƒå–å‡ºè¿­ä»£å™¨çš„ç›¸å…³ç‰¹æ€§ï¼ˆä¹Ÿå³æ˜¯ç›¸åº”ç±»å‹çš„å–ç”¨ï¼‰ï¼Œä»¥å±è”½è¿­ä»£å™¨å®ç°å¯¹ç®—æ³•å®ç°çš„å½±å“</strong></p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/20210305145003405.png" alt="img" style="zoom:80%;"><h2 id="traitsæŠ€æ³•"><a href="#traitsæŠ€æ³•" class="headerlink" title="traitsæŠ€æ³•"></a>traitsæŠ€æ³•</h2><p>traitsæŠ€æ³•åˆ©ç”¨â€œå†…åµŒå‹åˆ«â€œçš„ç¼–ç¨‹æŠ€å·§ä¸ç¼–è¯‘å™¨çš„templateå‚æ•°æ¨å¯¼åŠŸèƒ½ï¼Œå¢å¼ºC++æœªèƒ½æä¾›çš„å…³äºå‹åˆ«è®¤è¯æ–¹é¢çš„èƒ½åŠ›ã€‚å¸¸ç”¨çš„æœ‰iterator_traitså’Œtype_traitsã€‚</p><ol><li><p>iterator_traits</p><p>è¢«ç§°ä¸ºç‰¹æ€§èƒå–æœºï¼Œèƒ½å¤Ÿæ–¹é¢çš„è®©å¤–ç•Œè·å–ä»¥ä¸‹5ä¸­å‹åˆ«ï¼š</p><ul><li>value_typeï¼šè¿­ä»£å™¨æ‰€æŒ‡å¯¹è±¡çš„å‹åˆ«</li><li>difference_typeï¼šä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„è·ç¦»</li><li>pointerï¼šè¿­ä»£å™¨æ‰€æŒ‡å‘çš„å‹åˆ«</li><li>referenceï¼šè¿­ä»£å™¨æ‰€å¼•ç”¨çš„å‹åˆ«</li><li>iterator_categoryï¼šä¸‰ä¸¤å¥è¯´ä¸æ¸…æ¥šï¼Œå»ºè®®çœ‹ä¹¦</li></ul></li><li><p>type_traits</p><p>å…³æ³¨çš„æ˜¯å‹åˆ«çš„ç‰¹æ€§ï¼Œä¾‹å¦‚è¿™ä¸ªå‹åˆ«æ˜¯å¦å…·å¤‡non-trivial defalt ctorï¼ˆé»˜è®¤æ„é€ å‡½æ•°ï¼‰ã€non-trivial copy ctorï¼ˆæ‹·è´æ„é€ å‡½æ•°ï¼‰ã€non-trivial assignment operatorï¼ˆèµ‹å€¼è¿ç®—ç¬¦ï¼‰ å’Œnon-trivial dtorï¼ˆææ„å‡½æ•°ï¼‰ï¼Œå¦‚æœç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå¯ä»¥é‡‡å–ç›´æ¥æ“ä½œå†…å­˜çš„æ–¹å¼æé«˜æ•ˆç‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œtype_traitsæ”¯æŒä»¥ä¸‹5ä¸­ç±»å‹çš„åˆ¤æ–­ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__type_traits&lt;T&gt;::has_trivial_default_constructor</span><br><span class="line">__type_traits&lt;T&gt;::has_trivial_copy_constructor</span><br><span class="line">__type_traits&lt;T&gt;::has_trivial_assignment_operator</span><br><span class="line">__type_traits&lt;T&gt;::has_trivial_destructor</span><br><span class="line">__type_traits&lt;T&gt;::is_POD_typ</span><br></pre></td></tr></table></figure><p>ç”±äºç¼–è¯‘å™¨åªé’ˆå¯¹class objectå½¢å¼çš„å‚æ•°è¿›è¡Œå‚æ•°æ¨åˆ°ï¼Œå› æ­¤ä¸Šå¼çš„è¿”å›ç»“æœä¸åº”è¯¥æ˜¯ä¸ªboolå€¼ï¼Œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯ä¸€ç§ç©ºçš„ç»“æ„ä½“ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">__true_type</span>&#123;&#125;;<span class="keyword">struct</span> <span class="title class_">__false_type</span>&#123;&#125;;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªç»“æ„ä½“æ²¡æœ‰ä»»ä½•æˆå‘˜ï¼Œä¸ä¼šå¸¦æ¥å…¶ä»–çš„è´Ÿæ‹…ï¼Œåˆèƒ½æ»¡è¶³éœ€æ±‚ï¼Œå¯è°“ä¸€ä¸¾ä¸¤å¾—</p><p>å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬è‡ªè¡Œå®šä¹‰äº†ä¸€ä¸ªShapeç±»å‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹è¿™ä¸ªShapeè®¾è®¡type_traitsçš„ç‰¹åŒ–ç‰ˆæœ¬</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct</span> <span class="title class_">__type_traits</span>&lt;Shape&gt;&#123;</span><br><span class="line">    <span class="keyword">typedef</span> __true_type has_trivial_default_constructor;</span><br><span class="line">    <span class="keyword">typedef</span> __false_type has_trivial_copy_constructor;</span><br><span class="line">    <span class="keyword">typedef</span> __false_type has_trivial_assignment_operator;</span><br><span class="line">    <span class="keyword">typedef</span> __false_type has_trivial_destructor;</span><br><span class="line">    <span class="keyword">typedef</span> __false_type is_POD_type;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><hr><h1 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h1><p>å¦‚ä½•é€‰æ‹©å®¹å™¨é€‚é…å™¨ï¼š</p><p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/645624.png" alt="645624"></p><h2 id="åºåˆ—å¼å®¹å™¨"><a href="#åºåˆ—å¼å®¹å™¨" class="headerlink" title="åºåˆ—å¼å®¹å™¨"></a>åºåˆ—å¼å®¹å™¨</h2><h3 id="vector-å‘é‡"><a href="#vector-å‘é‡" class="headerlink" title="vector - å‘é‡"></a>vector - å‘é‡</h3><p>vectoré‡‡ç”¨çš„æ•°æ®ç»“æ„éå¸¸ç®€å•ï¼Œçº¿æ€§è¿ç»­ç©ºé—´ï¼Œå®ƒä»¥ä¸¤ä¸ªè¿­ä»£å™¨<code>_Myfirst</code>å’Œ<code>_Mylast</code>åˆ†åˆ«æŒ‡å‘é…ç½®å¾—æ¥çš„è¿ç»­ç©ºé—´ä¸­å·²è¢«ä½¿ç”¨çš„èŒƒå›´ï¼Œå¹¶ä»¥è¿­ä»£å™¨<code>Myend</code>æŒ‡å‘æ•´å—è¿ç»­å†…å­˜ç©ºé—´çš„å°¾ç«¯ã€‚</p><p>ä¸ºäº†é™ä½ç©ºé—´é…ç½®æ—¶çš„æˆæœ¬ï¼Œvectorå®é™…é…ç½®çš„å¤§å°å¯èƒ½æ¯”ç”¨æˆ·ç«¯éœ€æ±‚å¤§ä¸€äº›ï¼Œä»¥å¤‡å°†æ¥å¯èƒ½çš„æ‰©å……ï¼Œè¿™ä¾¿æ˜¯<strong>å®¹é‡</strong>çš„æ¦‚å¿µ</p><blockquote><p>æ‰€è°“åŠ¨æ€å¢åŠ å¤§å°ï¼Œå¹¶ä¸æ˜¯åœ¨åŸç©ºé—´ä¹‹åç»­æ¥æ–°ç©ºé—´ï¼ˆå› ä¸ºæ— æ³•ä¿è¯åŸç©ºé—´ä¹‹åå°šæœ‰å¯é…ç½®çš„ç©ºé—´ï¼‰ï¼Œè€Œæ˜¯ä¸€å—æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œç„¶åå°†åŸæ•°æ®æ‹·è´æ–°ç©ºé—´ï¼Œå¹¶é‡Šæ”¾åŸç©ºé—´ã€‚</p><p>å› æ­¤ï¼Œ<strong>å¯¹vectorçš„ä»»ä½•æ“ä½œï¼Œä¸€æ—¦å¼•èµ·ç©ºé—´çš„é‡æ–°é…ç½®ï¼ŒæŒ‡å‘åŸvectorçš„æ‰€æœ‰è¿­ä»£å™¨å°±éƒ½å¤±æ•ˆäº†</strong>ã€‚</p></blockquote><h4 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h4><p>vectorçš„åº•å±‚å…¶å®ä»ç„¶æ˜¯å®šé•¿æ•°ç»„ï¼Œå®ƒèƒ½å¤Ÿå®ç°åŠ¨æ€æ‰©å®¹çš„åŸå› æ˜¯å¢åŠ äº†é¿å…æ•°é‡è°¥å‡ºçš„æ“ä½œã€‚<br>é¦–å…ˆéœ€è¦æŒ‡æ˜çš„æ˜¯vectorä¸­å…ƒç´ çš„æ•°é‡ï¼ˆé•¿åº¦ï¼‰nä¸å®ƒå·²åˆ†é…å†…å­˜æœ€å¤šèƒ½åŒ…å«å…ƒç´ çš„æ•°é‡ï¼ˆå®¹é‡ï¼‰Næ˜¯ä¸ä¸€è‡´çš„ï¼Œvectorä¼šåˆ†å¼€å­˜å‚¨è¿™ä¸¤ä¸ªé‡ã€‚å½“å‘vectorä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œå¦‚å‘ç°n&gt;Nï¼Œé‚£ä¹ˆå®¹å™¨ä¼šåˆ†é…ä¸€ä¸ªå°ºå¯¸ä¸º<strong>2</strong>Nçš„æ•°ç»„ï¼Œç„¶åå°†æ—§æ•°æ®ä»åŸæœ¬çš„ä½ç½®æ‹·è´åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œå†å°†åŸæ¥çš„å†…å­˜é‡Šæ”¾ã€‚å°½ç®¡è¿™ä¸ªæ“ä½œçš„æ¸è¿›å¤æ‚åº¦æ˜¯O(n), ä½†æ˜¯å¯ä»¥è¯æ˜å…¶å‡æ‘Šå¤æ‚åº¦ä¸ºO(1)ã€‚è€Œåœ¨æœ«å°¾åˆ é™¤å…ƒç´ å’Œè®¿é—®å…ƒç´ åˆ™éƒ½ä»ç„¶æ˜¯O(1)çš„å¼€é”€ã€‚å› æ­¤ï¼Œåªè¦å¯¹vectorçš„å°ºå¯¸ä¼°<br>è®¡å¾—å½“å¹¶å–„ç”¨<code>resize()</code>å’Œ<code>reserve()</code>,å°±èƒ½ä½¿å¾—vectorçš„æ•ˆç‡ä¸å®šé•¿æ•°ç»„ä¸ä¼šæœ‰å¤ªå¤§å·®è·ã€‚</p><h4 id="é•¿åº¦å’Œå®¹é‡"><a href="#é•¿åº¦å’Œå®¹é‡" class="headerlink" title="é•¿åº¦å’Œå®¹é‡"></a>é•¿åº¦å’Œå®¹é‡</h4><blockquote><p>vectoræœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯sizeï¼Œè¡¨ç¤ºå½“å‰vectorå®¹å™¨å†…å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ï¼Œä¸€ä¸ªæ˜¯capacityï¼Œè¡¨ç¤ºå½“å‰vectoråœ¨å†…å­˜ä¸­ç”³è¯·çš„è¿™ç‰‡åŒºåŸŸæ‰€èƒ½å®¹çº³çš„å…ƒç´ ä¸ªæ•°</p></blockquote><p>vector çš„reserveå¢åŠ äº†vectorçš„capacityï¼Œä½†æ˜¯å®ƒçš„sizeæ²¡æœ‰æ”¹å˜ï¼è€Œresizeæ”¹å˜äº†vectorçš„capacityåŒæ—¶ä¹Ÿå¢åŠ äº†å®ƒçš„sizeï¼</p><p>åŸå› å¦‚ä¸‹ï¼š</p><ul><li><code>reserve</code>æ˜¯å®¹å™¨é¢„ç•™ç©ºé—´ï¼Œä½†åœ¨ç©ºé—´å†…ä¸çœŸæ­£åˆ›å»ºå…ƒç´ å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ·»åŠ æ–°çš„å¯¹è±¡ä¹‹å‰ï¼Œä¸èƒ½å¼•ç”¨å®¹å™¨å†…çš„å…ƒç´ ã€‚åŠ å…¥æ–°çš„å…ƒç´ æ—¶ï¼Œè¦è°ƒç”¨ <strong>push_back()</strong> &#x2F; <strong>insert()</strong> å‡½æ•°ã€‚</li><li><code>resize</code>æ˜¯æ”¹å˜å®¹å™¨çš„å¤§å°ï¼Œä¸”åœ¨åˆ›å»ºå¯¹è±¡ï¼Œå› æ­¤ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹åï¼Œå°±å¯ä»¥å¼•ç”¨å®¹å™¨å†…çš„å¯¹è±¡äº†ï¼Œå› æ­¤å½“åŠ å…¥æ–°çš„å…ƒç´ æ—¶ï¼Œç”¨**operator[]**æ“ä½œç¬¦ï¼Œæˆ–è€…ç”¨è¿­ä»£å™¨æ¥å¼•ç”¨å…ƒç´ å¯¹è±¡ã€‚æ­¤æ—¶å†è°ƒç”¨ <strong>push_back()</strong>     å‡½æ•°ï¼Œæ˜¯åŠ åœ¨è¿™ä¸ªæ–°çš„ç©ºé—´åé¢çš„ã€‚</li></ul><p> ä¸¤ä¸ªå‡½æ•°çš„å‚æ•°å½¢å¼ä¹Ÿæœ‰åŒºåˆ«çš„ï¼Œreserveå‡½æ•°ä¹‹åä¸€ä¸ªå‚æ•°ï¼Œå³éœ€è¦é¢„ç•™çš„å®¹å™¨çš„ç©ºé—´ï¼›resizeå‡½æ•°å¯ä»¥æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®¹å™¨æ–°çš„å¤§å°ï¼Œ ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦åŠ å…¥å®¹å™¨ä¸­çš„æ–°å…ƒç´ ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°è¢«çœç•¥ï¼Œé‚£ä¹ˆå°±è°ƒç”¨å…ƒç´ å¯¹è±¡çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vect;</span><br><span class="line">  </span><br><span class="line">    vect.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    vect.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    vect.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    vect.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    vect.<span class="built_in">reserve</span>(<span class="number">10</span>);</span><br><span class="line">    cout&lt;&lt;vect.<span class="built_in">size</span>()&lt;&lt;endl;  <span class="comment">//sizeä¸º4ï¼Œä½†æ˜¯capacityä¸º10</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>reserve()</code> ä½¿å¾—vector é¢„ç•™ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜æ‹·è´ã€‚</li><li><code>capacity()</code> è¿”å›å®¹å™¨çš„å®¹é‡ï¼Œå³ä¸å‘ç”Ÿæ‹·è´çš„æƒ…å†µä¸‹å®¹å™¨çš„é•¿åº¦ä¸Šé™ã€‚</li><li><code>shrink_to_fit()</code> ä½¿å¾—vectorçš„å®¹é‡ä¸é•¿åº¦ä¸€è‡´ï¼Œå¤šé€€ä½†ä¸ä¼šå°‘ã€‚</li></ul><h4 id="vectorçš„assign-å‡½æ•°ç”¨æ³•"><a href="#vectorçš„assign-å‡½æ•°ç”¨æ³•" class="headerlink" title="vectorçš„assign()å‡½æ•°ç”¨æ³•"></a>vectorçš„assign()å‡½æ•°ç”¨æ³•</h4><p>å‡½æ•°åŸå‹æ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">assign</span><span class="params">(const_iterator first,const_iterator last)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">assign</span><span class="params">(size_type n,<span class="type">const</span> T&amp; x = T())</span></span>;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªç›¸å½“äºä¸ªæ‹·è´å‡½æ•°ï¼ŒæŠŠfirståˆ°lastçš„å€¼èµ‹å€¼ç»™è°ƒç”¨è€…ï¼›ï¼ˆæ³¨æ„åŒºé—´çš„é—­åˆï¼‰</p><p>ç¬¬äºŒä¸ªæŠŠnä¸ªxèµ‹å€¼ç»™è°ƒç”¨è€…ï¼›</p><p>eg:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line">ls1.<span class="built_in">assign</span>(ls.<span class="built_in">begin</span>(),ls.<span class="built_in">begin</span>()+<span class="number">9</span>);</span><br><span class="line"><span class="comment">//æ‰“å°ä¸ºï¼š0 1 2 3 4 5 6 7 8</span></span><br><span class="line">ls2.<span class="built_in">assign</span>(<span class="number">10</span>, <span class="number">7</span>);</span><br><span class="line"><span class="comment">//æ‰“å°ä¸ºï¼š7777777777</span></span><br></pre></td></tr></table></figure><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><ul><li>é»˜è®¤å‡åºæ’åº</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure><ul><li>é™åºæ’åº</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;()); </span><br></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰æ’åºè§„åˆ™</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨lambdaå‡½æ•°</span></span><br><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(),[](<span class="type">const</span> <span class="type">int</span>&amp; a, <span class="type">const</span> <span class="type">int</span>&amp; b) &#123;</span><br><span class="line">            <span class="keyword">return</span> a &gt; b;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="comment">//æˆ–è€…  </span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">cmp</span> <span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; a, <span class="type">const</span> <span class="type">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a * a &lt; b * b;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(),cmp);</span><br></pre></td></tr></table></figure><h4 id="æœ€å¤§å…ƒç´ ï¼ˆmax-elementï¼‰"><a href="#æœ€å¤§å…ƒç´ ï¼ˆmax-elementï¼‰" class="headerlink" title="æœ€å¤§å…ƒç´ ï¼ˆmax_elementï¼‰"></a>æœ€å¤§å…ƒç´ ï¼ˆmax_elementï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–æœ€å¤§å…ƒç´ æ‰€åœ¨è¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">auto</span> maxVal =  <span class="built_in">max_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æœ€å¤§å…ƒç´ æ‰€åœ¨ä½ç½®</span></span><br><span class="line"><span class="type">int</span> maxIndex =  <span class="built_in">max_element</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>()) - arr,<span class="built_in">begin</span>();</span><br></pre></td></tr></table></figure><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><ul><li><p>vectorå’Œlistç”±äºæŸ¥æ‰¾æŸä¸ªå…ƒç´ æ˜¯O(n)å¤æ‚åº¦çš„ï¼Œæ‰€ä»¥ä¸æä¾›<code>find()</code>ã€‚è€Œsetå’Œmapæ˜¯ç”±å…³é”®å­—æ’åºï¼Œåº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œè¿›è¡ŒæŸ¥æ‰¾çš„è¯æ—¶é—´å¤æ‚åº¦æ˜¯O(logn)æ‰€ä»¥æä¾›<code>find()</code></p></li><li><p>vectorå¯ä»¥ä½¿ç”¨æ³›å‹find</p><p>  <code>find(vec.begin(), vec.end(), val) == vec.end();</code>  </p><p>å¦‚æœvecä¸­å­˜å‚¨çš„æ˜¯pair ç±»å‹ï¼Œvalæœ€å¥½å…ˆç”¨<code>make_pair</code>å®šä¹‰å¥½å†å»æ‰¾</p></li><li><p>vectorçš„æ’å…¥æ“ä½œå¯èƒ½é€ æˆè®°å¿†ä½“é‡æ–°é…ç½®ï¼Œå¯¼è‡´åŸæœ‰çš„è¿­ä»£å™¨å…¨éƒ¨å¤±æ•ˆã€‚</p><p>list çš„æ’å…¥æ“ä½œï¼ˆinsertï¼‰å’Œæ¥åˆæ“ä½œï¼ˆspliceï¼‰éƒ½ä¸ä¼šé€ æˆåŸæœ‰listè¿­ä»£å™¨å¤±æ•ˆã€‚ç”šè‡³listçš„å…ƒç´ åˆ é™¤æ“ä½œï¼ˆeraseï¼‰ä¹Ÿåªæœ‰â€œæŒ‡å‘è¢«åˆ é™¤å…ƒç´ â€çš„é‚£ä¸ªè¿­ä»£å™¨å¤±æ•ˆï¼Œå…¶ä»–è¿­ä»£å™¨ä¸å—ä»»ä½•å½±å“</p></li></ul><hr><h3 id="string-å­—ç¬¦ä¸²"><a href="#string-å­—ç¬¦ä¸²" class="headerlink" title="string - å­—ç¬¦ä¸²"></a>string - å­—ç¬¦ä¸²</h3><p>å¤´æ–‡ä»¶<code>&lt;string&gt;</code></p><blockquote><p>string å’Œ Cé£æ ¼å­—ç¬¦ä¸²å¯¹æ¯”</p></blockquote><ul><li><p><code>char*</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ<code>string</code>æ˜¯ä¸€ä¸ªç±»</p><p><code>string</code>å°è£…äº†<code>char*</code>ï¼Œç®¡ç†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ª<code>char*</code>å‹çš„å®¹å™¨ã€‚</p></li><li><p><code>string</code> å°è£…äº†å¾ˆå¤šå®ç”¨çš„æˆå‘˜æ–¹æ³•</p><p>æŸ¥æ‰¾<code>find</code>ï¼Œæ‹·è´<code>copy</code>ï¼Œåˆ é™¤<code>erase</code>ï¼Œæ›¿æ¢<code>replace</code>ï¼Œæ’å…¥<code>insert</code>ç­‰</p></li><li><p>ä¸ç”¨è€ƒè™‘å†…å­˜é‡Šæ”¾å’Œè¶Šç•Œ</p><p><code>string</code>ç®¡ç†<code>char*</code>æ‰€åˆ†é…çš„å†…å­˜ï¼Œæ¯ä¸€æ¬¡<code>string</code>çš„å¤åˆ¶&#x2F;èµ‹å€¼ï¼Œå–å€¼éƒ½ç”±<code>string</code>ç±»è´Ÿè´£ç»´æŠ¤ï¼Œä¸ç”¨æ‹…å¿ƒå¤åˆ¶è¶Šç•Œå’Œå–å€¼è¶Šç•Œç­‰ã€‚</p><p><code>string</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŠ¨æ€çš„charæ•°ç»„ã€‚</p></li></ul><h4 id="è½¬charæ•°ç»„"><a href="#è½¬charæ•°ç»„" class="headerlink" title="è½¬charæ•°ç»„"></a><strong>è½¬charæ•°ç»„</strong></h4><p>åœ¨Cè¯­è¨€é‡Œï¼Œä¹Ÿæœ‰å¾ˆå¤šå­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œä½†æ˜¯å®ƒä»¬çš„å‚æ•°éƒ½æ˜¯charæŒ‡é’ˆç±»å‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œstringæœ‰ä¸¤ä¸ªæˆå‘˜å‡½æ•°èƒ½å¤Ÿå°†è‡ªå·±è½¬æ¢ä¸ºcharæŒ‡é’ˆâ€“ <code>data()</code>&#x2F;<code>c_str()</code>(å®ƒä»¬å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œä½†æœ€å¥½ä½¿ç”¨<code>c_str()</code>,å› ä¸º<code>c_str()</code>ä¿è¯æœ«å°¾æœ‰ç©ºå­—ç¬¦ï¼Œè€Œ<code>data()</code>åˆ™ä¸ä¿è¯ï¼‰ï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, s); <span class="comment">//ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, s.<span class="built_in">data</span>()); <span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯undefined behavior</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, s.<span class="built_in">c_str</span>()); <span class="comment">//ä¸€å®šèƒ½å¤Ÿæ­£ç¡®è¾“å‡º</span></span><br></pre></td></tr></table></figure><h4 id="è·å–é•¿åº¦"><a href="#è·å–é•¿åº¦" class="headerlink" title="è·å–é•¿åº¦"></a><strong>è·å–é•¿åº¦</strong></h4><p>è®¸å¤šå‡½æ•°å¯ä»¥è¿”å›stringçš„é•¿åº¦ï¼š<code>s.size()</code>  <code>s.length()</code>  <code>strlen(s.c_str())</code></p><blockquote><p>è¿™äº›å‡½æ•°çš„å¤æ‚åº¦</p><p>strlen(s.c_str()) çš„å¤æ‚åº¦æ˜¯ä¸å­—ç¬¦ä¸²é•¿åº¦çº¿æ€§ç›¸å…³çš„</p><p>size() å’Œ length() å¤æ‚åº¦åœ¨C++11ä¸­è¢«æŒ‡å®šä¸ºå¸¸æ•°å¤æ‚åº¦</p></blockquote><h4 id="å¯»æ‰¾æŸå­—ç¬¦ï¼ˆä¸²ï¼‰ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®"><a href="#å¯»æ‰¾æŸå­—ç¬¦ï¼ˆä¸²ï¼‰ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®" class="headerlink" title="å¯»æ‰¾æŸå­—ç¬¦ï¼ˆä¸²ï¼‰ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®"></a><strong>å¯»æ‰¾æŸå­—ç¬¦ï¼ˆä¸²ï¼‰ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</strong></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="built_in">find</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">//æŸ¥æ‰¾å­—ç¬¦aç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span></span><br><span class="line">s.<span class="built_in">find</span>(t) <span class="comment">//æŸ¥æ‰¾å­—ç¬¦ä¸²tç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span></span><br><span class="line">s.<span class="built_in">find</span>(t, pos) <span class="comment">//æŸ¥æ‰¾sä¸­è‡ªposä½ç½®èµ·å­—ç¬¦ä¸²tç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span></span><br></pre></td></tr></table></figure><p>æœªæ‰¾åˆ°è¿”å›-1</p><h4 id="æˆªå–å­ä¸²"><a href="#æˆªå–å­ä¸²" class="headerlink" title="æˆªå–å­ä¸²"></a><strong>æˆªå–å­ä¸²</strong></h4><p><code>substr(pos, len)</code>, è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯ä»posä½ç½®å¼€å§‹æˆªå–æœ€å¤šlenä¸ªå­—ç¬¦ï¼ˆå¦‚æœä»poså¼€å§‹çš„åç¼€é•¿åº¦ä¸è¶³lenåˆ™æˆªå–è¿™ä¸ªåç¼€ï¼‰</p><h4 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h4><p><code>erase(pos)</code>å’Œ<code>erase(pos, len)</code>åˆ é™¤å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸ºposå¼€å§‹çš„æŒ‡å®šé•¿åº¦çš„å…ƒç´ </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;123456789&quot;</span></span><br><span class="line">s.<span class="built_in">erase</span>(<span class="number">3</span>);</span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"><span class="comment">//è¾“å‡ºä¸º 123</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;123456789&quot;</span></span><br><span class="line">s.<span class="built_in">erase</span>(<span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"><span class="comment">//è¾“å‡ºä¸º 12356789</span></span><br></pre></td></tr></table></figure><h4 id="string-å’ŒC-style-å­—ç¬¦ä¸²çš„è½¬æ¢"><a href="#string-å’ŒC-style-å­—ç¬¦ä¸²çš„è½¬æ¢" class="headerlink" title="string å’ŒC-style å­—ç¬¦ä¸²çš„è½¬æ¢"></a><strong>string å’ŒC-style å­—ç¬¦ä¸²çš„è½¬æ¢</strong></h4><ul><li>string è½¬ const char*</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* cstr = str.<span class="built_in">c_str</span>();</span><br></pre></td></tr></table></figure><ul><li>const char* è½¬ string</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>* cstr = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="function">string <span class="title">str</span><span class="params">(cstr)</span></span>; <span class="comment">//æœ¬è´¨ä¸Šå…¶å®æ˜¯ä¸€ä¸ªæœ‰å‚æ„é€ </span></span><br></pre></td></tr></table></figure><h4 id="string-replaceè¯¦è§£"><a href="#string-replaceè¯¦è§£" class="headerlink" title="string replaceè¯¦è§£"></a>string replaceè¯¦è§£</h4><blockquote><p><strong>replaceç®—æ³•ï¼š</strong></p><p>â€‹        replaceå‡½æ•°åŒ…å«äºå¤´æ–‡ä»¶#include<string>ä¸­ã€‚</string></p><p>â€‹        æ³›å‹ç®—æ³•replaceæŠŠé˜Ÿåˆ—ä¸­ä¸ç»™å®šå€¼ç›¸ç­‰çš„æ‰€æœ‰å€¼æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå€¼ï¼Œæ•´ä¸ªé˜Ÿåˆ—éƒ½è¢«æ‰«æï¼Œå³æ­¤ç®—æ³•çš„å„ä¸ªç‰ˆæœ¬éƒ½åœ¨çº¿æ€§æ—¶é—´å†…æ‰§è¡Œâ€”â€”å…¶å¤æ‚åº¦ä¸ºO(n)ã€‚</p><p>â€‹        å³replaceçš„æ‰§è¡Œè¦éå†ç”±åŒºé—´[fristï¼Œlast)é™å®šçš„æ•´ä¸ªé˜Ÿåˆ—ï¼Œä»¥æŠŠold_valueæ›¿æ¢æˆnew_valueã€‚</p></blockquote><p>ä¸‹é¢è¯´ä¸‹replace()çš„ä¹ç§ç”¨æ³•ï¼š</p><ol><li><p><strong>ç”¨æ³•ä¸€ï¼šç”¨stræ›¿æ¢æŒ‡å®šå­—ç¬¦ä¸²ä»èµ·å§‹ä½ç½®poså¼€å§‹é•¿åº¦ä¸ºlençš„å­—ç¬¦</strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> string&amp; str)</span></span>; </span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•äºŒï¼š ç”¨stræ›¿æ¢ è¿­ä»£å™¨èµ·å§‹ä½ç½® å’Œ ç»“æŸä½ç½® çš„å­—ç¬¦</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> string&amp; str)</span></span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•ä¸‰ï¼š ç”¨substrçš„æŒ‡å®šå­ä¸²ï¼ˆç»™å®šèµ·å§‹ä½ç½®å’Œé•¿åº¦ï¼‰æ›¿æ¢ä»æŒ‡å®šä½ç½®ä¸Šçš„å­—ç¬¦ä¸²</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> string&amp; str, <span class="type">size_t</span> subpos, <span class="type">size_t</span> sublen)</span></span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•å››ï¼š ç”¨stræ›¿æ¢ä»æŒ‡å®šä½ç½®0å¼€å§‹é•¿åº¦ä¸º5çš„å­—ç¬¦ä¸²</strong> ï¼ˆstringè½¬char*æ—¶ç¼–è¯‘å™¨å¯èƒ½ä¼šæŠ¥å‡ºè­¦å‘Šï¼Œä¸å»ºè®®è¿™æ ·åšï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span><span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•äº”ï¼šç”¨stræ›¿æ¢ä»æŒ‡å®šè¿­ä»£å™¨ä½ç½®çš„å­—ç¬¦ä¸²</strong> ï¼ˆstringè½¬char*æ—¶ç¼–è¯‘å™¨å¯èƒ½ä¼šæŠ¥å‡ºè­¦å‘Šï¼Œä¸å»ºè®®è¿™æ ·åšï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> <span class="type">char</span>* s)</span></span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•å…­ï¼šç”¨sçš„å‰nä¸ªå­—ç¬¦æ›¿æ¢ä»å¼€å§‹ä½ç½®posé•¿åº¦ä¸ºlençš„å­—ç¬¦ä¸²</strong> ï¼ˆstringè½¬char*æ—¶ç¼–è¯‘å™¨å¯èƒ½ä¼šæŠ¥å‡ºè­¦å‘Šï¼Œä¸å»ºè®®è¿™æ ·åšï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span><span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•ä¸ƒï¼šç”¨sçš„å‰nä¸ªå­—ç¬¦æ›¿æ¢æŒ‡å®šè¿­ä»£å™¨ä½ç½®(ä»i1åˆ°i2)çš„å­—ç¬¦ä¸²</strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">const</span> <span class="type">char</span>* s, <span class="type">size_t</span> n)</span></span>; </span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•å…«ï¼šç”¨é‡å¤næ¬¡çš„cå­—ç¬¦æ›¿æ¢ä»æŒ‡å®šä½ç½®posé•¿åº¦ä¸ºlençš„å†…å®¹</strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">size_t</span> len, <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>; </span><br></pre></td></tr></table></figure></li><li><p><strong>ç”¨æ³•ä¹ï¼š ç”¨é‡å¤næ¬¡çš„cå­—ç¬¦æ›¿æ¢ä»æŒ‡å®šè¿­ä»£å™¨ä½ç½®ï¼ˆä»i1å¼€å§‹åˆ°ç»“æŸï¼‰çš„å†…å®¹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">replace</span> <span class="params">(const_iterator i1, const_iterator i2, <span class="type">size_t</span> n, <span class="type">char</span> c)</span></span>;</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="list-é“¾è¡¨"><a href="#list-é“¾è¡¨" class="headerlink" title="list - é“¾è¡¨"></a>list - é“¾è¡¨</h3><p>é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ã€ç»­éé¡ºåºçš„å‚¨å­˜ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ã€‚</p><p>list å®¹å™¨æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œä¸”æ˜¯<strong>å¾ªç¯çš„åŒå‘é“¾è¡¨</strong></p><p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/235346457.png" alt="235346457"></p><p>ç›¸è¾ƒäºvectorçš„è¿ç»­çº¿æ€§ç©ºé—´ï¼Œlistå°±æ˜¾å¾—å¤æ‚è®¸å¤šã€‚</p><ul><li>å®ƒçš„å¥½å¤„æ˜¯æ¯æ¬¡æ’å…¥æˆ–è€…åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯é…ç½®æˆ–è€…é‡Šæ”¾ä¸€ä¸ªå…ƒç´ çš„ç©ºé—´</li><li>å› æ­¤ï¼Œlistå¯¹äºç©ºé—´çš„è¿ç”¨æœ‰ç»å¯¹çš„ç²¾å‡†ï¼Œä¸€ç‚¹ä¹Ÿä¸æµªè´¹</li><li>è€Œä¸”ï¼Œlistå¯¹äºä»»ä½•ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ éƒ½æ˜¯å¸¸æ•°é¡¹æ—¶é—´</li></ul><blockquote><p>list æœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½ä¸ä¼šé€ æˆåŸæœ‰listè¿­ä»£å™¨çš„å¤±æ•ˆ</p><ul><li>è¿™åœ¨vectoræ˜¯ä¸æˆç«‹çš„ï¼Œå› ä¸ºvectorçš„æ’å…¥æ“ä½œå¯èƒ½ä¼šé€ æˆå†…å­˜çš„é‡æ–°é…ç½®ï¼Œå¯¼è‡´åŸæœ‰çš„è¿­ä»£å™¨å…¨éƒ¨å¤±æ•ˆ</li><li>è€Œlistå…ƒç´ çš„åˆ é™¤åªä¼šä½¿å¾—è¢«åˆ é™¤å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆ</li></ul></blockquote><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><ul><li>é¡ºåºéå†</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(list&lt;T&gt;::iterator it = lst.<span class="built_in">begin</span>(); it != lst.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€†åºéå†</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(list&lt;T&gt;::reverse_iterator it = lst.<span class="built_in">rbegin</span>(); it != lst.<span class="built_in">rend</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list&lt;T&gt; lstT; <span class="comment">// é»˜è®¤æ„é€ å½¢å¼ï¼Œlisté‡‡ç”¨æ¨¡ç‰ˆç±»å®ç°</span></span><br><span class="line"><span class="built_in">list</span>(beg, end); <span class="comment">// æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´å†…çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">list</span>(<span class="type">int</span> n, T elem); <span class="comment">// æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">list</span>(<span class="type">const</span> list&amp; lst); <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ æ’å…¥å’Œåˆ é™¤æ“ä½œ"><a href="#å…ƒç´ æ’å…¥å’Œåˆ é™¤æ“ä½œ" class="headerlink" title="å…ƒç´ æ’å…¥å’Œåˆ é™¤æ“ä½œ"></a>å…ƒç´ æ’å…¥å’Œåˆ é™¤æ“ä½œ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(T elem)</span></span>; <span class="comment">// åœ¨å®¹å™¨å°¾éƒ¨åŠ å…¥ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop_back</span><span class="params">()</span></span>; <span class="comment">// åˆ é™¤å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_front</span><span class="params">(T elem)</span></span>; <span class="comment">// åœ¨å®¹å™¨å¼€å¤´æ’å…¥ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop_front</span><span class="params">()</span></span>; <span class="comment">// ä»å®¹å™¨å¼€å¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">insert</span>(iterator pos, elem); <span class="comment">// åœ¨posä½ç½®æ’å…¥elemå…ƒç´ çš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®</span></span><br><span class="line"><span class="built_in">insert</span>(iterator pos, n, elem); <span class="comment">// åœ¨posä½ç½®æ’å…¥nä¸ªelemå…ƒç´ çš„æ‹·è´ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line"><span class="built_in">insert</span>(iterator pos, beg, end); <span class="comment">// åœ¨posä½ç½®æ’å…¥[beg, end)åŒºé—´å†…çš„æ•°æ®ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>; <span class="comment">// ç§»é™¤å®¹å™¨çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">erase</span>(beg, end); <span class="comment">// åˆ é™¤[beg, end)åŒºé—´å†…çš„æ‰€æœ‰æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®</span></span><br><span class="line"><span class="built_in">erase</span>(pos); <span class="comment">// åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">remove</span>(elem); <span class="comment">// åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰ä¸elemåŒ¹é…çš„å…ƒç´ </span></span><br></pre></td></tr></table></figure><h4 id="èµ‹å€¼æ“ä½œ"><a href="#èµ‹å€¼æ“ä½œ" class="headerlink" title="èµ‹å€¼æ“ä½œ"></a>èµ‹å€¼æ“ä½œ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">assign</span>(beg, end); <span class="comment">// å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">assign</span>(n, elem); <span class="comment">// å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«</span></span><br><span class="line"></span><br><span class="line">list&amp; <span class="keyword">operator</span>=(<span class="type">const</span> list&amp; lst); <span class="comment">// é‡è½½ç­‰å·æ“ä½œç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">swap</span>(lst); <span class="comment">// å°†lstä¸æœ¬èº«çš„å…ƒç´ äº’æ¢</span></span><br></pre></td></tr></table></figure><h4 id="åè½¬åŠæ’åº"><a href="#åè½¬åŠæ’åº" class="headerlink" title="åè½¬åŠæ’åº"></a>åè½¬åŠæ’åº</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">()</span></span>; <span class="comment">// åè½¬é“¾è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">()</span></span>; <span class="comment">// é»˜è®¤listæ’åºï¼Œè§„åˆ™ä¸ºä»å°åˆ°å¤§</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(<span class="type">bool</span> (*cmp)(T item1, T item2))</span></span>; <span class="comment">// æŒ‡å®šæ’åºè§„åˆ™çš„listæ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºæ‰€æœ‰ç³»ç»Ÿæä¾›çš„æŸäº›ç®—æ³•ï¼ˆæ¯”å¦‚æ’åºï¼‰ï¼Œå…¶è¿­ä»£å™¨å¿…é¡»æ”¯æŒéšæœºè®¿é—®</span></span><br><span class="line"><span class="comment">// ä¸æ”¯æŒéšæœºè®¿é—®çš„è¿­ä»£å™¨çš„å®¹å™¨ï¼Œå®¹å™¨æœ¬èº«ä¼šå¯¹åº”æä¾›ç›¸åº”çš„ç®—æ³•çš„æ¥å£</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸èƒ½ç”¨sort(lst.begin(), lst.end())</span></span><br><span class="line"><span class="comment">//åº”è¯¥ä½¿ç”¨ä¸‹åˆ—å½¢å¼</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">myCompare</span><span class="params">(T&amp; p1, T&amp; p2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> p1.val &lt; p2.val;</span><br><span class="line">&#125;</span><br><span class="line">ls.<span class="built_in">sort</span>(myCompare);</span><br></pre></td></tr></table></figure><hr><h3 id="array-å®šé•¿æ•°ç»„"><a href="#array-å®šé•¿æ•°ç»„" class="headerlink" title="array - å®šé•¿æ•°ç»„"></a>array - å®šé•¿æ•°ç»„</h3><p><code>std::array</code>æ˜¯STLæä¾›çš„å†…å­˜è¿ç»­çš„ã€å›ºå®šé•¿åº¦çš„æ•°ç»„æ•°æ®ç»“æ„ï¼Œå…¶æœ¬è´¨æ˜¯å¯¹åŸç”Ÿæ•°ç»„çš„ç›´æ¥å°è£…ã€‚</p><h4 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>arrayå®é™…ä¸Šæ˜¯STLå¯¹æ•°ç»„çš„å°è£…ã€‚å®ƒç›¸æ¯”vectorç‰ºç‰²äº†åŠ¨æ€æ‰©å®¹çš„ç‰¹æ€§ï¼Œä½†æ˜¯æ¢æ¥äº†ä¸åŸç”Ÿæ•°ç»„å‡ ä¹ä¸€è‡´çš„æ€§èƒ½ï¼ˆåœ¨å¼€æ»¡ä¼˜åŒ–çš„å‰æä¸‹ï¼‰ã€‚å› æ­¤å¦‚æœèƒ½ä½¿ç”¨C++11ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä½¿ç”¨åŸç”Ÿæ•°ç»„çš„åœ°æ–¹å‡ ä¹éƒ½å¯ä»¥ç›´æ¥æŠŠå®šé•¿æ•°ç»„éƒ½æ¢æˆarrayï¼Œ è€ŒåŠ¨æ€åˆ†é…çš„æ•°ç»„å¯ä»¥æ›¿æ¢ä¸ºvectorã€‚å’Œå…¶å®ƒå®¹å™¨ä¸åŒï¼Œarray å®¹å™¨çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ— æ³•åŠ¨æ€çš„æ‰©å±•æˆ–æ”¶ç¼©ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œåœ¨ä½¿ç”¨è¯¥å®¹å™¨çš„è¿‡ç¨‹æ— æ³•å€Ÿç”±å¢åŠ æˆ–ç§»é™¤å…ƒç´ è€Œæ”¹å˜å…¶å¤§å°ï¼Œå®ƒåªå…è®¸è®¿é—®æˆ–è€…æ›¿æ¢å­˜å‚¨çš„å…ƒç´ ã€‚</p><h4 id="åˆå§‹åŒ–æ–¹å¼"><a href="#åˆå§‹åŒ–æ–¹å¼" class="headerlink" title="åˆå§‹åŒ–æ–¹å¼"></a>åˆå§‹åŒ–æ–¹å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">std::array&lt;<span class="type">double</span>, 10&gt; values;</span><br><span class="line"> </span><br><span class="line">std::array&lt;<span class="type">double</span>, 10&gt; values &#123;&#125;; <span class="comment">//æ‰€æœ‰çš„å…ƒç´ åˆå§‹åŒ–ä¸º 0 æˆ–è€…å’Œé»˜è®¤å…ƒç´ </span></span><br><span class="line"> </span><br><span class="line">std::array&lt;<span class="type">double</span>, 10&gt; values &#123;<span class="number">0.5</span>,<span class="number">1.0</span>,<span class="number">1.5</span>,,<span class="number">2.0</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜å‡½æ•°"><a href="#æˆå‘˜å‡½æ•°" class="headerlink" title="æˆå‘˜å‡½æ•°"></a>æˆå‘˜å‡½æ•°</h4><table><thead><tr><th>æˆå‘˜å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>begin()</td><td>è¿”å›æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</td></tr><tr><td>end()</td><td>è¿”å›æŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åä¸€ä¸ªä½ç½®çš„éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œé€šå¸¸å’Œ begin() ç»“åˆä½¿ç”¨ã€‚</td></tr><tr><td>rbegin()</td><td>è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</td></tr><tr><td>rend()</td><td>è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ä¸€ä¸ªä½ç½®çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</td></tr><tr><td>cbegin()</td><td>å’Œ begin() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</td></tr><tr><td>cend()</td><td>å’Œ end() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</td></tr><tr><td>crbegin()</td><td>å’Œ rbegin() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</td></tr><tr><td>crend()</td><td>å’Œ rend() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</td></tr><tr><td>size()</td><td>è¿”å›å®¹å™¨ä¸­å½“å‰å…ƒç´ çš„æ•°é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•° Nã€‚</td></tr><tr><td>max_size()</td><td>è¿”å›å®¹å™¨å¯å®¹çº³å…ƒç´ çš„æœ€å¤§æ•°é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•° Nã€‚</td></tr><tr><td>empty()</td><td>åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©ºï¼Œå’Œé€šè¿‡ size()&#x3D;&#x3D;0 çš„åˆ¤æ–­æ¡ä»¶åŠŸèƒ½ç›¸åŒï¼Œä½†å…¶æ•ˆç‡å¯èƒ½æ›´å¿«ã€‚</td></tr><tr><td>at(n)</td><td>è¿”å›å®¹å™¨ä¸­ n ä½ç½®å¤„å…ƒç´ çš„å¼•ç”¨ï¼Œè¯¥å‡½æ•°è‡ªåŠ¨æ£€æŸ¥ n æ˜¯å¦åœ¨æœ‰æ•ˆçš„èŒƒå›´å†…ï¼Œå¦‚æœä¸æ˜¯åˆ™æŠ›å‡º out_of_range å¼‚å¸¸ã€‚</td></tr><tr><td>front()</td><td>è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç›´æ¥å¼•ç”¨ï¼Œè¯¥å‡½æ•°ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨ã€‚</td></tr><tr><td>back()</td><td>è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ç›´æ¥åº”ç”¨ï¼Œè¯¥å‡½æ•°åŒæ ·ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨ã€‚</td></tr><tr><td>data()</td><td>è¿”å›ä¸€ä¸ªæŒ‡å‘å®¹å™¨é¦–ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚åˆ©ç”¨è¯¥æŒ‡é’ˆï¼Œå¯å®ç°å¤åˆ¶å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ ç­‰ç±»ä¼¼åŠŸèƒ½ã€‚</td></tr><tr><td>fill(val)</td><td>å°† val è¿™ä¸ªå€¼èµ‹å€¼ç»™å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚</td></tr><tr><td>array1.swap(array2)</td><td>äº¤æ¢ array1 å’Œ array2 å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†å‰ææ˜¯å®ƒä»¬å…·æœ‰ç›¸åŒçš„é•¿åº¦å’Œç±»å‹ã€‚</td></tr></tbody></table><hr><h3 id="deque-åŒç«¯é˜Ÿåˆ—"><a href="#deque-åŒç«¯é˜Ÿåˆ—" class="headerlink" title="deque - åŒç«¯é˜Ÿåˆ—"></a>deque - åŒç«¯é˜Ÿåˆ—</h3><h4 id="æ¦‚å¿µ-2"><a href="#æ¦‚å¿µ-2" class="headerlink" title="æ¦‚å¿µ"></a><strong>æ¦‚å¿µ</strong></h4><ul><li>æ‰€è°“çš„åŒå‘å¼€å£ï¼Œæ„æ€æ˜¯å¯ä»¥åœ¨å¤´å°¾ä¸¤ç«¯åˆ†åˆ«åšå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤æ“ä½œ</li><li>vector è™½ç„¶ä¹Ÿèƒ½åœ¨å¤´å°¾æ’å…¥å…ƒç´ ï¼Œä½†æ˜¯åœ¨å¤´éƒ¨æ’å…¥å…ƒç´ çš„æ•ˆç‡å¾ˆä½ï¼Œéœ€è¦å¤§é‡è¿›è¡Œç§»ä½æ“ä½œ</li></ul><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/image-20220518143204149.png" alt="image-20220518143204149" style="zoom:80%;"><h4 id="deque-å®¹å™¨å’Œ-vector-æœ€å¤§çš„å·®å¼‚"><a href="#deque-å®¹å™¨å’Œ-vector-æœ€å¤§çš„å·®å¼‚" class="headerlink" title="deque å®¹å™¨å’Œ vector æœ€å¤§çš„å·®å¼‚"></a>deque å®¹å™¨å’Œ vector æœ€å¤§çš„å·®å¼‚</h4><ul><li>deque å…è®¸ä½¿ç”¨å¸¸æ•°é¡¹æ—¶é—´åœ¨å¤´éƒ¨æ’å…¥æˆ–åˆ é™¤å…ƒç´ </li><li>deque æ²¡æœ‰å®¹é‡ï¼ˆcapacityï¼‰çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒæ˜¯ç”±åŠ¨æ€çš„åˆ†æ®µè¿ç»­ç©ºé—´ç»„åˆè€Œæˆï¼Œéšæ—¶å¯ä»¥å¢åŠ ä¸€å—æ–°çš„ç©ºé—´å¹¶é“¾æ¥èµ·æ¥ã€‚å› æ­¤æ²¡å¿…è¦ä¿ç•™ï¼ˆreserveï¼‰åŠŸèƒ½</li></ul><p>è™½ç„¶dequeä¹Ÿæä¾›äº† Random Access Iteratorï¼Œä½†å…¶å®ç°ç›¸æ¯”äºvectorè¦å¤æ‚å¾—å¤šï¼Œæ‰€ä»¥éœ€è¦éšæœºè®¿é—®çš„æ—¶å€™æœ€å¥½è¿˜æ˜¯ç”¨vectorã€‚</p><blockquote><p>å¯¹dequeè¿›è¡Œçš„æ’åºæ“ä½œï¼Œä¸ºäº†æœ€é«˜æ•ˆç‡ï¼Œå¯å°†dequeå…ˆå®Œæ•´å¤åˆ¶åˆ°ä¸€ä¸ªvectorèº«ä¸Šï¼Œå°†vectoræ’åºåï¼ˆåˆ©ç”¨STL sortç®—æ³•ï¼‰ï¼Œå†å¤åˆ¶å›deque</p></blockquote><h4 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h4><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/346.jpg" alt="346" style="zoom:80%;"><blockquote><p>deque é‡‡ç”¨ä¸€å—æ‰€è°“çš„<em>map</em>ä½œä¸ºä¸»æ§ã€‚dequeå†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘<em>map</em>ï¼Œ<em>mapæ˜¯</em>ä¸€å°å—è¿ç»­ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªèŠ‚ç‚¹nodeï¼Œæ¯ä¸ªnodeéƒ½æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å¦ä¸€æ®µè¾ƒå¤§çš„è¿ç»­ç©ºé—´ï¼Œç§°ä¸ºç¼“å†²åŒºï¼Œè¿™é‡Œå°±æ˜¯dequeä¸­å®é™…å­˜æ”¾æ•°æ®çš„åŒºåŸŸï¼Œé»˜è®¤å¤§å°512bytes</p></blockquote><p><strong>deque çš„æ•°æ®ç»“æ„</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">deque</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="keyword">typedef</span> pointer* map_pointer;<span class="comment">//æŒ‡å‘mapæŒ‡é’ˆçš„æŒ‡é’ˆ</span></span><br><span class="line">    map_pointer map;<span class="comment">//æŒ‡å‘map</span></span><br><span class="line">    size_type map_size;<span class="comment">//mapçš„å¤§å°</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="function">iterator <span class="title">begin</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">itertator <span class="title">end</span><span class="params">()</span></span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†å®ç°éå† deque å®¹å™¨çš„åŠŸèƒ½ï¼Œdeque è¿­ä»£å™¨å®šä¹‰äº†å¦‚ä¸‹çš„ç»“æ„ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">__deque_iterator</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    T* cur;<span class="comment">//è¿­ä»£å™¨æ‰€æŒ‡ç¼“å†²åŒºå½“å‰çš„å…ƒç´ </span></span><br><span class="line">    T* first;<span class="comment">//è¿­ä»£å™¨æ‰€æŒ‡ç¼“å†²åŒºç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    T* last;<span class="comment">//è¿­ä»£å™¨æ‰€æŒ‡ç¼“å†²åŒºæœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    map_pointer node;<span class="comment">//æŒ‡å‘ç®¡æ§ä¸­å¿ƒmapä¸­çš„node</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿­ä»£å™¨å†…éƒ¨åŒ…å« 4 ä¸ªæŒ‡é’ˆï¼Œå®ƒä»¬å„è‡ªçš„ä½œç”¨ä¸ºï¼š</p><ul><li>curï¼šæŒ‡å‘å½“å‰æ­£åœ¨éå†çš„å…ƒç´ ï¼›</li><li>firstï¼šæŒ‡å‘å½“å‰è¿ç»­ç©ºé—´çš„é¦–åœ°å€ï¼›</li><li>lastï¼šæŒ‡å‘å½“å‰è¿ç»­ç©ºé—´çš„æœ«å°¾åœ°å€ï¼›</li><li>nodeï¼šå®ƒæ˜¯ä¸€ä¸ªäºŒçº§æŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘ map æ•°ç»„ä¸­å­˜å‚¨çš„æŒ‡å‘å½“å‰è¿ç»­ç©ºé—´çš„æŒ‡é’ˆã€‚</li></ul><p>è¿­ä»£å™¨çš„å‰è¿›å’Œåé€€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦è¡Œè¿›é‡åˆ°ç¼“å†²åŒºè¾¹ç¼˜ï¼Œéœ€è¦ç‰¹åˆ«å½“å¿ƒï¼Œè§†å‰è¿›æˆ–åé€€è€Œå®šï¼Œå¯èƒ½éœ€è¦è°ƒç”¨<code>set_node()</code>è·³ä¸€ä¸ªç¼“å†²åŒº</p><h4 id="deque-å¸¸ç”¨API"><a href="#deque-å¸¸ç”¨API" class="headerlink" title="deque å¸¸ç”¨API"></a>deque å¸¸ç”¨API</h4><ul><li>æ„é€ å‡½æ•°</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deque&lt;T&gt; deqT; <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">deque</span>(beg, end); <span class="comment">// æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">deque</span>(<span class="type">int</span> n, T elem); <span class="comment">// æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">deque</span>(<span class="type">const</span> deque&amp; deq); <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure><ul><li>èµ‹å€¼æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">assign</span>(beg, end); <span class="comment">// å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´èµ‹å€¼ç»™æœ¬èº«</span></span><br><span class="line"><span class="built_in">assign</span>(<span class="type">int</span> n, T elem); <span class="comment">// å°†nä¸ªå…ƒç´ elemæ‹·è´èµ‹å€¼ç»™æœ¬èº«</span></span><br><span class="line"></span><br><span class="line">deque&amp; <span class="keyword">operator</span>=(<span class="type">const</span> deque&amp; deq); <span class="comment">// é‡è½½èµ‹å€¼æ“ä½œç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">swap</span>(deq); <span class="comment">// å°†deqä¸æœ¬èº«çš„å…ƒç´ äº’æ¢</span></span><br></pre></td></tr></table></figure><ul><li>å¤§å°æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span></span>; <span class="comment">// è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span></span>; <span class="comment">// åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">int</span> num)</span></span>; </span><br><span class="line"><span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ï¼Œ</span></span><br><span class="line"><span class="comment">// å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">int</span> num, T elem)</span></span>;</span><br><span class="line"><span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå¡«å……æ–°ä½ç½®ï¼Œ</span></span><br><span class="line"><span class="comment">// å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤</span></span><br></pre></td></tr></table></figure><ul><li>åŒç«¯æ’å…¥å’Œåˆ é™¤æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">push_back</span>(T elem); <span class="comment">// åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="built_in">push_front</span>(T elem); <span class="comment">// åœ¨å®¹å™¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">pop_back</span>(); <span class="comment">// åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®</span></span><br><span class="line"><span class="built_in">pop_front</span>(); <span class="comment">// åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®</span></span><br></pre></td></tr></table></figure><p>åœ¨å°¾æ’æ—¶åªå‰©ä¸€ä¸ªå…ƒç´ å¤‡ç”¨ç©ºé—´æ—¶ï¼Œ<code>push_back()</code>è°ƒç”¨<code>push_back_aux()</code>ï¼Œå…ˆé…ç½®ä¸€å—æ–°çš„ç¼“å†²åŒºï¼Œå†è°ˆå¦¥æ–°å…ƒç´ å†…å®¹ï¼Œç„¶åæ›´è¿­è¿­ä»£å™¨<code>finish</code>çš„çŠ¶æ€</p><p>åœ¨å¤´æ’æ—¶ï¼Œç¬¬ä¸€ç¼“å†²åŒºè‹¥æ— å¤‡ç”¨ç©ºé—´ï¼Œä¼šè°ƒç”¨<code>push_front_aux()</code>é…ç½®ä¸€å—æ–°çš„ç¼“å†²åŒºï¼Œè®¾å®šæ–°å…ƒç´ ï¼Œæ›´æ”¹startçš„çŠ¶æ€</p><p><strong>æ³¨æ„ï¼š</strong>å¤´æ’å°¾æ’è°ƒç”¨<code>push_front_aux()</code>å’Œ<code>push_back_aux()</code>æ—¶ï¼Œå†é…ç½®ç¼“å†²åŒºä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨<code>reserve_map_at_front()</code>å’Œ<code>reserve_map_at_back()</code>æ¥åˆ¤æ–­æ£€æŸ¥<em>map</em>æ˜¯å¦éœ€è¦æ•´æ²»ï¼ˆ<em>map</em>èŠ‚ç‚¹å¤‡ç”¨ç©ºé—´ä¸è¶³ï¼‰ï¼Œå®é™…æ“ä½œç”±<code>reallocate_map()</code>æ‰§è¡Œã€‚</p><ul><li>æ•°æ®å­˜å–</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">T&amp; <span class="title">at</span><span class="params">(<span class="type">int</span> idx)</span></span>; <span class="comment">// è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®ï¼Œå¦‚æœidxè¶Šç•Œï¼ŒæŠ›å‡ºout_of_rangeå¼‚å¸¸</span></span><br><span class="line">T&amp; <span class="keyword">operator</span>[](<span class="type">int</span> idx); <span class="comment">// è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®ï¼Œå¦‚æœidxè¶Šç•Œï¼Œè¿è¡Œç›´æ¥æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="function">T&amp; <span class="title">front</span><span class="params">()</span></span>; <span class="comment">// è¿”å›é¦–å…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line"><span class="function">T&amp; <span class="title">back</span><span class="params">()</span></span>; <span class="comment">// è¿”å›å°¾å…ƒç´ çš„å¼•ç”¨</span></span><br></pre></td></tr></table></figure><ul><li>æ’å…¥å’Œåˆ é™¤æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">const_iterator <span class="title">insert</span><span class="params">(const_iterator pos, T elem)</span></span>; </span><br><span class="line"><span class="comment">// åœ¨posä½ç½®å¤„æ’å…¥å…ƒç´ elemçš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(const_iterator pos, <span class="type">int</span> n, T elem)</span></span>; </span><br><span class="line"><span class="comment">// åœ¨posä½ç½®æ’å…¥nä¸ªå…ƒç´ elemï¼Œæ— è¿”å›å€¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(pos, beg, end)</span></span>;</span><br><span class="line"><span class="comment">// å°†[beg, end)åŒºé—´å†…çš„å…ƒç´ æ’åˆ°ä½ç½®posï¼Œæ— è¿”å›å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">clear</span>(); <span class="comment">// ç§»é™¤å®¹å™¨çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="function">iterator <span class="title">erase</span><span class="params">(iterator beg, iterator end)</span></span>;</span><br><span class="line"><span class="comment">// åˆ é™¤åŒºé—´[beg, end)çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®</span></span><br><span class="line"><span class="function">iterator <span class="title">erase</span><span class="params">(iterator pos)</span>ï¼›</span></span><br><span class="line"><span class="function"><span class="comment">// åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®</span></span></span><br></pre></td></tr></table></figure><p><code>insert()</code>å‡½æ•°åœ¨æŸä¸ªä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ å¹¶è®¾å®šå…¶å€¼ï¼Œå¦‚æœæ’å…¥ç‚¹æ˜¯dequeå‰ç«¯åˆ™äº¤ç»™push_front()å»åšï¼Œå¦‚æœæ’å…¥ç‚¹æ˜¯dequeåç«¯åˆ™äº¤ç»™<code>push_back()</code>å»åšï¼Œå¦åˆ™äº¤ç»™<code>insert_aux()</code>å»åšï¼›</p><p><code>insert_aux()</code>é€»è¾‘æ˜¯æ¯”è¾ƒæ’å…¥ç‚¹ä¹‹å‰è¿˜æ˜¯æ’å…¥ç‚¹ä¹‹åçš„å…ƒç´ ä¸ªæ•°å¤šï¼Œé€‰æ‹©å¿˜å…ƒç´ ä¸ªæ•°å°‘çš„æ–¹å‘ç§»åŠ¨ã€‚</p><hr><h3 id="stack-æ ˆ"><a href="#stack-æ ˆ" class="headerlink" title="stack - æ ˆ"></a>stack - æ ˆ</h3><p>stack æ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆFirst In Last Out, FILOï¼‰çš„æ•°æ®ç»“æ„ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‡ºå£ã€‚</p><p>stack å®¹å™¨å…è®¸æ–°å¢å…ƒç´ ã€ç§»é™¤å…ƒç´ ã€å–å¾—æ ˆé¡¶å…ƒç´ ï¼Œä½†æ˜¯é™¤äº†æœ€é¡¶ç«¯å¤–ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–æ–¹æ³•å¯ä»¥å­˜å–stackçš„å…¶ä»–å…ƒç´ ã€‚</p><blockquote><p>stackä¸å…è®¸éå†è¡Œä¸ºï¼Œå› æ­¤ä¹Ÿæ²¡æœ‰è¿­ä»£å™¨</p></blockquote><p>SGI STLé»˜è®¤ä»¥dequeä½œä¸ºstackçš„åº•å±‚ç»“æ„ï¼Œå°é—­å…¶å¼€ç«¯å¼€å£ã€‚å› æ­¤å®é™…ä¸ŠSTL stackå¾€å¾€ä¸è¢«å½’ç±»ä¸ºcontainerï¼ˆå®¹å™¨ï¼‰ï¼Œè€Œè¢«å½’ç±»ä¸ºcontainer adapterï¼ˆé…æ¥å™¨ï¼‰ã€‚</p><p>é™¤dequeå¤–ï¼Œlistä¹Ÿæ˜¯åŒå‘å¼€å£çš„æ•°æ®ç»“æ„ï¼Œä»¥listä½œä¸ºåº•å±‚ç»“æ„å¹¶å°é—­å…¶å¼€ç«¯å¼€å£ï¼Œä¸€æ ·èƒ½å¤Ÿè½»æ˜“å½¢æˆstackã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stack&lt;T, list&lt;T&gt; &gt; stk;</span><br></pre></td></tr></table></figure><hr><h3 id="queue-é˜Ÿåˆ—"><a href="#queue-é˜Ÿåˆ—" class="headerlink" title="queue - é˜Ÿåˆ—"></a>queue - é˜Ÿåˆ—</h3><p>queue æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡º(First In First Out, FIFO)çš„æ•°æ®ç»“æ„ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‡ºå£ï¼Œqueueå®¹å™¨å…è®¸ä»ä¸€ç«¯æ–°å¢å…ƒç´ ï¼Œä»å¦ä¸€ç«¯ç§»é™¤å…ƒç´ </p><blockquote><p>åªæœ‰queueçš„é¡¶ç«¯å…ƒç´ ï¼Œæ‰æœ‰æœºä¼šè¢«å¤–ç•Œå»ç”¨ã€‚queueä¸æä¾›éå†åŠŸèƒ½ï¼Œä¹Ÿä¸æä¾›è¿­ä»£å™¨ã€‚</p></blockquote><p>SGI STLé»˜è®¤ä»¥dequeä½œä¸ºqueueçš„åº•å±‚ç»“æ„ï¼Œå°é—­å…¶åº•ç«¯å‡ºå£å’Œå‰ç«¯å…¥å£ã€‚queueåŒæ ·å½’ç±»ä¸ºadapterï¼ˆé…æ¥å™¨ï¼‰ã€‚queueåŒæ ·å¯ä»¥ä½¿ç”¨listä½œä¸ºåº•å±‚ç»“æ„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;T, list&lt;T&gt; &gt; que;</span><br></pre></td></tr></table></figure><hr><h3 id="heap-å †"><a href="#heap-å †" class="headerlink" title="heap - å †"></a>heap - å †</h3><blockquote><p>heapå¹¶ä¸æ˜¯STLçš„å®¹å™¨æˆ–è€…é…æ¥å™¨ï¼Œä½†å´æ˜¯priority queueçš„åº•å±‚å®ç°ã€‚å¹¶ä¸”heapè¿ç”¨çš„æ˜¯å¸¸ç”¨çš„æœ€å¤§å †ä»¥åŠå †æ’åºçš„æ–¹æ³•</p></blockquote><ul><li>heapçš„æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªæœ€å¤§å †ï¼Œæœ€å¤§å †å°±æ˜¯ä¸€ä¸ª<strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œå¹¶ä¸”æ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½å¤§äºå®ƒçš„å­èŠ‚ç‚¹ï¼ˆå·¦å³å­èŠ‚ç‚¹çš„å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œä¸éœ€è¦å¤§çš„å­èŠ‚ç‚¹ä¸€å®šè¦æ”¾å“ªè¾¹ï¼‰</li><li>éšå¼è¡¨ç¤ºæ³•å°±æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª<strong>æ•°ç»„</strong>æ¥è¡¨ç¤º</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ia[<span class="number">9</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ivec</span><span class="params">(ia, ia + <span class="number">9</span>)</span></span>;</span><br><span class="line">    <span class="built_in">make_heap</span>(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>());</span><br><span class="line">    for_each(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>(), [](<span class="type">int</span> x)&#123;cout&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>;&#125;);</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="comment">//9 5 8 3 4 0 2 3 1 </span></span><br><span class="line">    </span><br><span class="line">    ivec.<span class="built_in">push_back</span>(<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">push_heap</span>(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>());</span><br><span class="line">    for_each(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>(), [](<span class="type">int</span> x)&#123;cout&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>;&#125;);</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="comment">//9 7 8 3 5 0 2 3 1 4 </span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">pop_heap</span>(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>());</span><br><span class="line">    for_each(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>(), [](<span class="type">int</span> x)&#123;cout&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>;&#125;);</span><br><span class="line">    ivec.<span class="built_in">pop_back</span>();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="comment">//8 7 4 3 5 0 2 3 1 9</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort_heap</span>(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>());</span><br><span class="line">    for_each(ivec.<span class="built_in">begin</span>(), ivec.<span class="built_in">end</span>(), [](<span class="type">int</span> x)&#123;cout&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>;&#125;);</span><br><span class="line">    <span class="comment">//0 1 2 3 3 4 5 7 8 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœheapåº•å±‚ä½¿ç”¨arrayå®Œæˆï¼Œarrayæ— æ³•åŠ¨æ€æ”¹å˜å¤§å°ï¼Œå› æ­¤ä¸å¯ä»¥å¯¹æ»¡è½½çš„arrayè¿›è¡Œ<code>push_heap()</code>æ“ä½œã€‚å¦åˆ™ä¼šå°†æœ€åä¸€ä¸ªå…ƒç´ è§†ä¸ºæ–°å¢å…ƒç´ ï¼Œå¹¶å°†å…¶ä½™å…ƒç´ è§†ä¸ºä¸€ä¸ªå®Œæ•´çš„heapç»“æ„ã€‚</p><hr><h3 id="priority-queue-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#priority-queue-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="priority_queue - ä¼˜å…ˆé˜Ÿåˆ—"></a>priority_queue - ä¼˜å…ˆé˜Ÿåˆ—</h3><p>ä¼˜å…ˆé˜Ÿåˆ—å…·æœ‰é˜Ÿåˆ—çš„æ‰€æœ‰ç‰¹æ€§ï¼ŒåŒ…æ‹¬åŸºæœ¬æ“ä½œï¼Œåªæ˜¯åœ¨è¿™åŸºç¡€ä¸Šæ·»åŠ äº†å†…éƒ¨çš„ä¸€ä¸ªæ’åºï¼Œå®ƒæœ¬è´¨æ˜¯ä¸€ä¸ª<strong>å †</strong>å®ç°çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹åˆ©ç”¨ä¸€ä¸ªmax-heapå®Œæˆï¼Œåè€…æ˜¯ä¸€ä¸ªvectorè¡¨ç°çš„å®Œå…¨äºŒå‰æ ‘ã€‚</p><p>priority_queueåŒæ ·æ˜¯container adapterï¼ˆé…æ¥å™¨ï¼‰ï¼Œæä¾›çš„apiæ“ä½œä¸é˜Ÿåˆ—åŸºæœ¬ç›¸åŒï¼Œä¹Ÿæ²¡æœ‰è¿­ä»£å™¨ã€‚</p><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;Type, Container, Functional&gt; nameï¼›</span><br><span class="line"><span class="comment">//Type å°±æ˜¯æ•°æ®ç±»å‹ï¼ŒContainer å°±æ˜¯å®¹å™¨ç±»å‹ï¼ˆContainerå¿…é¡»æ˜¯ç”¨æ•°ç»„å®ç°çš„å®¹å™¨ï¼Œæ¯”å¦‚vector,dequeç­‰ç­‰ï¼Œä½†ä¸èƒ½ç”¨ listã€‚STLé‡Œé¢é»˜è®¤ç”¨çš„æ˜¯vectorï¼‰ï¼ŒFunctional å°±æ˜¯æ¯”è¾ƒçš„æ–¹å¼ï¼Œå½“éœ€è¦ç”¨è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹æ—¶æ‰éœ€è¦ä¼ å…¥è¿™ä¸‰ä¸ªå‚æ•°ï¼Œä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œåªéœ€è¦ä¼ å…¥æ•°æ®ç±»å‹ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å †</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡åºé˜Ÿåˆ—</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt; &gt; q;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™åºé˜Ÿåˆ—</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, less&lt;<span class="type">int</span>&gt; &gt;q;</span><br><span class="line"></span><br><span class="line"><span class="comment">//greaterå’Œlessæ˜¯stdå®ç°çš„ä¸¤ä¸ªä»¿å‡½æ•°ï¼ˆå°±æ˜¯ä½¿ä¸€ä¸ªç±»çš„ä½¿ç”¨çœ‹ä¸Šå»åƒä¸€ä¸ªå‡½æ•°ã€‚å…¶å®ç°å°±æ˜¯ç±»ä¸­å®ç°ä¸€ä¸ªoperator()ï¼Œè¿™ä¸ªç±»å°±æœ‰äº†ç±»ä¼¼å‡½æ•°çš„è¡Œä¸ºï¼Œå°±æ˜¯ä¸€ä¸ªä»¿å‡½æ•°ç±»äº†ï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š</p><p>å¯¹äº**sort()**å‡½æ•°ï¼Œä¼ å…¥çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¦‚æœæ˜¯greater<int>()ï¼Œåˆ™ä¸ºé™åºï¼›å¯¹äºpriority_queueï¼Œä¼ å…¥çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¦‚æœæ˜¯greater<int>ï¼Œä¸ºå°é¡¶å †ã€‚</int></int></p><p>å…¶å®åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œgreateræ˜¯åˆ¤æ–­çˆ¶èŠ‚ç‚¹æ˜¯å¦æ¯”å­èŠ‚ç‚¹å€¼éƒ½å¤§ï¼Œæ˜¯åˆ™swapã€‚</p></blockquote><h4 id="æ’åº-1"><a href="#æ’åº-1" class="headerlink" title="æ’åº"></a>æ’åº</h4><ul><li><p>Typeä¸ºpair</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt;, greater&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &gt; &gt; a;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">b</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">c</span><span class="params">(<span class="number">1</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">d</span><span class="params">(<span class="number">2</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line">    a.<span class="built_in">push</span>(d);</span><br><span class="line">    a.<span class="built_in">push</span>(c);</span><br><span class="line">    a.<span class="built_in">push</span>(b);</span><br><span class="line">    <span class="keyword">while</span> (!a.<span class="built_in">empty</span>()) </span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a.<span class="built_in">top</span>().first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; a.<span class="built_in">top</span>().second &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        a.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*è¾“å‡º</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">2 5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li><li><p>è‡ªå®šä¹‰æ¯”è¾ƒé¡ºåº</p></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">cmp</span> &#123;</span><br><span class="line">        <span class="comment">//é‡è½½()æ“ä½œç¬¦</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; a, <span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; b)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a.second &lt; b.second || (a.second == b.second &amp;&amp; a.first &gt; b.first);</span><br><span class="line">               &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// priority_queue&lt;pair&lt;int, int&gt;, vector&lt;pair&lt;int,int&gt; &gt;, greater&lt;pair&lt;int, int&gt; &gt; &gt; a;</span></span><br><span class="line">    priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt;, cmp&gt; a;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">b</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">c</span><span class="params">(<span class="number">1</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">d</span><span class="params">(<span class="number">2</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">e</span><span class="params">(<span class="number">3</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line">    a.<span class="built_in">push</span>(d);</span><br><span class="line">    a.<span class="built_in">push</span>(c);</span><br><span class="line">    a.<span class="built_in">push</span>(b);</span><br><span class="line">    a.<span class="built_in">push</span>(e);</span><br><span class="line">    <span class="keyword">while</span> (!a.<span class="built_in">empty</span>()) </span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a.<span class="built_in">top</span>().first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; a.<span class="built_in">top</span>().second &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        a.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*è¾“å‡º</span></span><br><span class="line"><span class="comment">2 5</span></span><br><span class="line"><span class="comment">3 5</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥è¿™æ ·å†™ï¼ˆä½¿ç”¨lambdaè¡¨è¾¾å¼)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> cmp = [](<span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; a, <span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; b) &#123;</span><br><span class="line">            <span class="keyword">return</span> a.first + a.second &lt; b.first + b.second;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &gt;, <span class="keyword">decltype</span>(cmp)&gt; <span class="built_in">que</span>(cmp);</span><br><span class="line"></span><br><span class="line">que.<span class="built_in">emplace</span>(<span class="built_in">make_pair</span>(nums1[i], nums2[j]))ï¼›</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¿™æ ·å†™</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> cmp = [&amp;nums1, &amp;nums2](<span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; a, <span class="type">const</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; b) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums1[a.first] + nums2[a.second] &lt; nums1[b.first] + nums2[b.second];</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &gt;, <span class="keyword">decltype</span>(cmp)&gt; <span class="built_in">que</span>(cmp);</span><br><span class="line"></span><br><span class="line">que.<span class="built_in">emplace</span>(<span class="built_in">make_pair</span>(i, j))ï¼›</span><br><span class="line"><span class="comment">//ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜çš„æ˜¯ä¸‹æ ‡</span></span><br></pre></td></tr></table></figure><hr><h3 id="slist-å•å‘é“¾è¡¨"><a href="#slist-å•å‘é“¾è¡¨" class="headerlink" title="slist - å•å‘é“¾è¡¨"></a>slist - å•å‘é“¾è¡¨</h3><p>STLä¸­listæ˜¯åŒå‘é“¾è¡¨ï¼Œè€Œslistæ˜¯å•å‘é“¾è¡¨ã€‚</p><p><strong>åŒºåˆ«</strong>æ˜¯slistçš„è¿­ä»£å™¨æ˜¯å•å‘çš„Forward Iteratorï¼Œè€Œlistçš„è¿­ä»£å™¨æ˜¯åŒå‘çš„Bidirectional Iteratorã€‚slistæ‰€è€—ç”¨çš„ç©ºé—´æ›´å°ï¼Œæ“ä½œæ›´å¿«ã€‚å®ƒä»¬<strong>å…±åŒçš„ç‰¹ç‚¹</strong>æ˜¯ï¼Œæ’å…¥ã€ç§»é™¤ã€æ¥åˆç­‰æ“ä½œå¹¶ä¸ä¼šé€ æˆåŸæœ‰çš„è¿­ä»£å™¨å¤±æ•ˆã€‚</p><p>slistæ’å…¥æ—¶ï¼Œéœ€è¦ä»å‰éå†ï¼Œæ‰¾åˆ°æ’å…¥ç‚¹çš„ä½ç½®ã€‚ä¸ºäº†æ›´å¿«æ’å…¥ï¼Œæä¾›äº†<code>insert_after()</code>ï¼Œ<code>erase_after()</code>ã€‚slistæä¾›<code>push_front()</code>ï¼Œä¸æä¾›<code>push_back()</code>æ“ä½œï¼Œæ•…å…¶å…ƒç´ æ¬¡åºä¸å…ƒç´ æ’å…¥é¡ºåºç›¸åã€‚</p><p>slisiçš„è¿­ä»£å™¨å¦‚å›¾æ‰€ç¤º</p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/image-20220518192817133.png" alt="image-20220518192817133" style="zoom:80%;"><h4 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h4><p>slisté»˜è®¤é‡‡ç”¨allocç©ºé—´é…ç½®å™¨é…ç½®èŠ‚ç‚¹çš„ç©ºé—´ï¼Œå…¶æ•°æ®ç»“æ„ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Allco</span> = alloc&gt;</span><br><span class="line"><span class="keyword">class</span> slist</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="type">static</span> list_node* <span class="built_in">create_node</span>(<span class="type">const</span> value_type&amp; x)&#123;&#125;<span class="comment">//é…ç½®ç©ºé—´ã€æ„é€ å…ƒç´ </span></span><br><span class="line">    <span class="type">static</span> <span class="type">void</span> <span class="built_in">destroy_node</span>(list_node* node)&#123;&#125;<span class="comment">//ææ„å‡½æ•°ã€é‡Šæ”¾ç©ºé—´</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    list_node_base head; <span class="comment">//å¤´éƒ¨</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">iterator <span class="title">begin</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function">iterator <span class="title">end</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function">size_type <span class="title">size</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(slist&amp; L)</span></span>&#123;&#125;<span class="comment">//äº¤æ¢ä¸¤ä¸ªslistï¼Œåªéœ€è¦æ¢headå³å¯</span></span><br><span class="line">    <span class="function">reference <span class="title">front</span><span class="params">()</span></span>&#123;&#125; <span class="comment">//å–å¤´éƒ¨å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push_front</span><span class="params">(<span class="type">const</span> value&amp; x)</span></span>&#123;&#125;<span class="comment">//å¤´éƒ¨æ’å…¥å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">pop_front</span><span class="params">()</span></span>&#123;&#125;<span class="comment">//ä»å¤´éƒ¨å–èµ°å…ƒç´ </span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯C++æ ‡å‡†å§”å‘˜ä¼šæ²¡æœ‰é‡‡ç”¨slistçš„åç§°ï¼Œforward_liståœ¨C++ 11ä¸­å‡ºç°ï¼Œå®ƒä¸slistçš„åŒºåˆ«æ˜¯æ²¡æœ‰<code>size()</code>æ–¹æ³•ã€‚</p><hr><h2 id="å…³è”å¼å®¹å™¨"><a href="#å…³è”å¼å®¹å™¨" class="headerlink" title="å…³è”å¼å®¹å™¨"></a>å…³è”å¼å®¹å™¨</h2><p>æ‰€è°“å…³è”å¼å®¹å™¨ï¼Œè§‚å¿µä¸Šç±»ä¼¼äºå…³è”å¼æ•°æ®åº“ï¼šæ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªé”®å€¼(key)å’Œå®å€¼(value)ã€‚</p><h3 id="pair-å…ƒç»„"><a href="#pair-å…ƒç»„" class="headerlink" title="pair - å…ƒç»„"></a>pair - å…ƒç»„</h3><p>è€ƒè™‘åˆ°<code>&lt;key,value&gt;</code>é”®å€¼å¯¹è¿™ä¸€ç‰¹æ®Šå½¢å¼ï¼ŒSTLå°è£…äº†ä¸€ä¸ªåä¸ºpairçš„æ¨¡æ¿ï¼Œå…¶åŒ…æ‹¬firstå’Œsecondä¸¤ä¸ªå…ƒç´ å½¢æˆä¸€ä¸ªäºŒå…ƒç»„<code>&lt;first, second&gt;</code></p><h4 id="å®šä¹‰å’Œåˆå§‹åŒ–"><a href="#å®šä¹‰å’Œåˆå§‹åŒ–" class="headerlink" title="å®šä¹‰å’Œåˆå§‹åŒ–"></a>å®šä¹‰å’Œåˆå§‹åŒ–</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å®šä¹‰ä¸€ä¸ªç©ºpair</span><br><span class="line">pair&lt;T1,T2&gt; p;</span><br><span class="line"><span class="number">2.</span>è°ƒç”¨æ„é€ å‡½æ•°</span><br><span class="line"><span class="function">pair&lt;T1,T2&gt; <span class="title">p</span><span class="params">(first,second)</span></span>;</span><br><span class="line"><span class="number">3.</span>è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span><br><span class="line"><span class="function">pair&lt;T1,T2&gt; <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line"><span class="number">4.</span>è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°</span><br><span class="line"><span class="function">pair&lt;T1,T2&gt; <span class="title">p</span><span class="params">(make_pair(first,second))</span></span>;</span><br><span class="line"><span class="number">5.</span>è°ƒç”¨å³å€¼å¼•ç”¨</span><br><span class="line"><span class="function">pair&lt;T1,T2&gt; <span class="title">p</span><span class="params">((T1)first,(T2)second)</span></span>;</span><br><span class="line"><span class="number">6.</span>åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨</span><br><span class="line">pair&lt;T1,T2&gt; p&#123;first,second&#125;;æˆ–pair&lt;T1,T2&gt; p = &#123;first,second&#125;;</span><br><span class="line">    </span><br><span class="line">pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; p;<span class="comment">//ä¸€ä¸ªç©ºpairï¼Œå…¶firstå’Œsecondé»˜è®¤åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">cout &lt;&lt; p.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p.second &lt;&lt; endl;<span class="comment">//0 0</span></span><br><span class="line"><span class="function">pair&lt;string, string&gt; <span class="title">p2</span><span class="params">(<span class="string">&quot;stl&quot;</span>, <span class="string">&quot;yyds&quot;</span>)</span></span>;</span><br><span class="line">cout &lt;&lt; p2.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p2.second &lt;&lt; endl;<span class="comment">//stl yyds</span></span><br><span class="line"><span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">p3</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line"><span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">p4</span><span class="params">(p3)</span></span>;</span><br><span class="line">cout &lt;&lt; p4.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p4.second &lt;&lt; endl;<span class="comment">//1 2</span></span><br><span class="line"><span class="function">pair&lt;string, string&gt; <span class="title">p5</span><span class="params">(make_pair(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>))</span></span>;</span><br><span class="line">cout &lt;&lt; p5.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p5.second &lt;&lt; endl;<span class="comment">//hello world</span></span><br><span class="line"><span class="function">pair&lt;string, string&gt; <span class="title">p6</span><span class="params">((string)<span class="string">&quot;happy&quot;</span>, (string)<span class="string">&quot;day&quot;</span>)</span></span>;</span><br><span class="line">cout &lt;&lt; p6.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p6.second &lt;&lt; endl;<span class="comment">//happy day</span></span><br></pre></td></tr></table></figure><h4 id="æˆå‘˜å‡½æ•°-1"><a href="#æˆå‘˜å‡½æ•°-1" class="headerlink" title="æˆå‘˜å‡½æ•°"></a>æˆå‘˜å‡½æ•°</h4><p>pairå…è®¸å¯¹pairå¯¹è±¡è¿›è¡Œæ¯”è¾ƒæ“ä½œï¼ŒåŒ…æ‹¬&gt; &lt; &gt;&#x3D; &lt;&#x3D; &#x3D;&#x3D; !&#x3D;åœ¨æ¯”è¾ƒæ—¶ï¼Œé¦–å…ˆæ¯”è¾ƒfirstå…ƒç´ ï¼Œç„¶åå†æ¯”è¾ƒsecondå…ƒç´ ã€‚æ³¨æ„åœ¨æ¯”è¾ƒçš„æ—¶å€™ä¸¤ä¸ªpairçš„T1ä¸T2ç±»å‹è¦<strong>ä¸¥æ ¼ä¸€è‡´</strong>ï¼Œå…¶ä¸æ”¯æŒè‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function">pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; <span class="title">p2</span><span class="params">(<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (p &lt; p2) &#123;<span class="comment">//error</span></span><br><span class="line">    cout &lt;&lt; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="set-é›†åˆ"><a href="#set-é›†åˆ" class="headerlink" title="set - é›†åˆ"></a>set - é›†åˆ</h3><blockquote><p>çº¢é»‘æ ‘ï¼ˆRB-treeï¼‰</p></blockquote><p>çº¢é»‘æ ‘æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼ŒåŒæ—¶æ»¡è¶³ä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>æ¯ä¸ªèŠ‚ç‚¹éçº¢å³é»‘</li><li>æ ¹èŠ‚ç‚¹ä¸ºé»‘</li><li>çº¢èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºé»‘</li><li>ä»»ä½•èŠ‚ç‚¹åˆ°NULLï¼ˆæ ‘å°¾ç«¯ï¼‰çš„ä»»ä½•è·¯å¾„ï¼Œæ‰€å«é»‘èŠ‚ç‚¹ä¸ªæ•°ç›¸åŒï¼ˆé»‘é«˜åº¦ç›¸åŒï¼‰</li></ul><h4 id="æ¦‚å¿µ-3"><a href="#æ¦‚å¿µ-3" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>setçš„ç‰¹æ€§æ˜¯ï¼Œæ‰€æœ‰å…ƒç´ éƒ½ä¼šæ ¹æ®å…ƒç´ çš„å€¼è‡ªåŠ¨è¢«æ’åºï¼ˆé»˜è®¤å‡åºï¼‰ï¼Œsetå…ƒç´ çš„é”®å€¼å°±æ˜¯å®å€¼ï¼Œå®å€¼å°±æ˜¯é”®å€¼ï¼Œsetä¸å…è®¸æœ‰ä¸¤ä¸ªç›¸åŒçš„é”®å€¼</p><p>setä¸å…è®¸è¿­ä»£å™¨ä¿®æ”¹å…ƒç´ çš„å€¼ï¼Œå…¶è¿­ä»£å™¨æ˜¯ä¸€ç§constance iterators</p><p>æ ‡å‡†çš„STL setä»¥RB-treeï¼ˆçº¢é»‘æ ‘ï¼‰ä½œä¸ºåº•å±‚æœºåˆ¶ï¼Œå‡ ä¹æ‰€æœ‰çš„setæ“ä½œè¡Œä¸ºéƒ½æ˜¯è½¬è°ƒç”¨RB-treeçš„æ“ä½œè¡Œä¸º</p><h4 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h4><ul><li>åˆ›å»ºå’Œåˆå§‹åŒ–</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">*ä¸‹åˆ—åˆå§‹åŒ–éƒ½ä¼šç»™å‡ºé»˜è®¤æ’åºï¼Œå®é™…ä¸­å¯ä»¥ä¸å†™ï¼Œé»˜è®¤è°ƒç”¨std::less&lt;T&gt;ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ç¼–å†™è‡ªå®šä¹‰çš„æ¯”è¾ƒ</span><br><span class="line"><span class="number">1.</span>ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„set</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; s;</span><br><span class="line"><span class="number">2.</span>åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; s&#123;value1,value2...&#125;;</span><br><span class="line"><span class="number">3.</span>æ‹·è´æ„é€ å‡½æ•°</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; s1;</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; <span class="built_in">s</span>(s1);<span class="comment">//Tä¸æ¯”è¾ƒå‡½æ•°å¿…é¡»ä¸€è‡´</span></span><br><span class="line"><span class="number">4.</span>å€ŸåŠ©å·²æœ‰setå®¹å™¨æŒ‡å®šçš„åŒºé—´æ¥å®šä¹‰åŠåˆå§‹åŒ–</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; <span class="built_in">s1</span>(value1,value2);</span><br><span class="line">set&lt;T,std::less&lt;T&gt;&gt; <span class="built_in">s2</span>(++s1.<span class="built_in">begin</span>(),s1.<span class="built_in">end</span>());<span class="comment">//åŒ…æ‹¬äº†&#123;value2&#125;çš„ä¸€ä¸ªsetå®¹å™¨</span></span><br><span class="line"><span class="number">5.</span>ä¿®æ”¹setå®¹å™¨çš„æ’åºè§„åˆ™</span><br><span class="line">  <span class="number">1.</span>è°ƒç”¨é»˜è®¤çš„greaterè¿›è¡Œé™åº</span><br><span class="line">  set&lt;T,std::greater&lt;T&gt;&gt; s;</span><br><span class="line">  <span class="number">2.</span>è‡ªå®šä¹‰</span><br><span class="line">      </span><br><span class="line"><span class="comment">//ä¸€ä¸ªç©ºset</span></span><br><span class="line">set&lt;<span class="type">int</span>,less&lt;<span class="type">int</span>&gt;&gt; s;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨</span></span><br><span class="line">set&lt;<span class="type">int</span>&gt; s4&#123; <span class="number">10</span>,<span class="number">20</span> &#125;;</span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">set&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">s2</span>(s);<span class="comment">//error æ¯”è¾ƒå‡½æ•°ä¸ä¸€è‡´</span></span><br><span class="line">set&lt;<span class="type">int</span>, less&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">s3</span>(s);<span class="comment">//accept!</span></span><br><span class="line"><span class="comment">//setå®¹å™¨åŒºé—´</span></span><br><span class="line"><span class="function">set&lt;<span class="type">int</span>&gt; <span class="title">s6</span><span class="params">(++s4.begin(), s4.end())</span></span>;</span><br><span class="line"><span class="comment">//ä¿®æ”¹setå®¹å™¨çš„æ’åºè§„åˆ™</span></span><br><span class="line">set&lt;<span class="type">int</span>, std::greater&lt;<span class="type">int</span>&gt;&gt; s7;</span><br></pre></td></tr></table></figure><ul><li>å¢åˆ æ“ä½œ</li></ul><p>ä¸mapä¸åŒï¼Œsetä¸­æ•°æ®åªèƒ½é€šè¿‡<code>insert()</code>å‡½æ•°è¿›è¡Œæ’å…¥ã€‚</p><p>ä»setä¸­åˆ é™¤å…ƒç´ ä½¿ç”¨åˆ°çš„å‡½æ•°æ˜¯erase()å‡½æ•°ï¼Œä¸»è¦æœ‰ä»¥ä¸‹çš„å‡ ç§å½¢å¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â€¢ <span class="built_in">insert</span>(x);<span class="comment">//å½“å®¹å™¨ä¸­æ²¡æœ‰ç­‰ä»·å…ƒç´ çš„æ—¶å€™ï¼Œå°†å…ƒç´  x æ’å…¥åˆ° set ä¸­</span></span><br><span class="line">â€¢ <span class="built_in">erase</span>(x); <span class="comment">//åˆ é™¤å€¼ä¸º x çš„ æ‰€æœ‰ å…ƒç´ ï¼Œè¿”å›åˆ é™¤å…ƒç´ çš„ä¸ªæ•°ã€‚</span></span><br><span class="line">â€¢ <span class="built_in">erase</span>(pos);<span class="comment">//åˆ é™¤è¿­ä»£å™¨ä¸º pos çš„å…ƒç´ ï¼Œè¦æ±‚è¿­ä»£å™¨å¿…é¡»åˆæ³•</span></span><br><span class="line">â€¢ <span class="built_in">erase</span>(b, e);<span class="comment">//åˆ é™¤è¿­ä»£å™¨åœ¨ [b, e) èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">â€¢ <span class="built_in">clear</span>();<span class="comment">//æ¸…ç©º set</span></span><br></pre></td></tr></table></figure><ul><li>æŸ¥æ‰¾æ“ä½œ</li></ul><p>é¢å¯¹å…³è”å¼å®¹å™¨ï¼Œåº”è¯¥ä½¿ç”¨å…¶æ‰€æä¾›çš„<code>find</code>å‡½æ•°æ¥æœå¯»å…ƒç´ ï¼Œä¼šæ¯”ä½¿ç”¨STLç®—æ³•<code>find()</code>æ›´æœ‰æ•ˆç‡ã€‚å› ä¸ºSTLç®—æ³•<code>find()</code>åªæ˜¯å¾ªåºæœå¯»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â€¢ <span class="built_in">count</span>(x);<span class="comment">//è¿”å›setå†…é”®ä¸ºxçš„å…ƒç´ æ•°é‡ã€‚</span></span><br><span class="line">â€¢ <span class="built_in">find</span>(x);<span class="comment">//åœ¨setå†…å­˜åœ¨é”®ä¸ºxçš„å…ƒç´ æ—¶ä¼šè¿”å›è¯¥å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå¦åˆ™è¿”å›end()</span></span><br><span class="line">â€¢ <span class="built_in">lower_bound</span>(x);<span class="comment">//è¿”å›æŒ‡å‘é¦–ä¸ªä¸å°äºç»™å®šé”®çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å›end()</span></span><br><span class="line">â€¢ <span class="built_in">upper_bound</span>(x);<span class="comment">//è¿”å›æŒ‡å‘é¦–ä¸ªå¤§äºç»™å®šé”®çš„å…ƒç´ çš„è¿­ä»£å™¨ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å›end()</span></span><br><span class="line">â€¢ <span class="built_in">empty</span>();<span class="comment">//è¿”å›å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚</span></span><br><span class="line">â€¢ <span class="built_in">size</span>();<span class="comment">//è¿”å›å®¹å™¨å†…å…ƒç´ ä¸ªæ•°ã€‚</span></span><br></pre></td></tr></table></figure><hr><h3 id="multiset-å¤šé‡é›†åˆ"><a href="#multiset-å¤šé‡é›†åˆ" class="headerlink" title="multiset - å¤šé‡é›†åˆ"></a>multiset - å¤šé‡é›†åˆ</h3><p>å’Œ set å®¹å™¨ååˆ†ç›¸ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œmultiset å®¹å™¨ä¸­å¯ä»¥åŒæ—¶å­˜å‚¨å¤šï¼ˆâ‰¥2ï¼‰ä¸ªé”®ç›¸åŒçš„é”®å€¼å¯¹ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸å»ºè®®ç›´æ¥ä¿®æ”¹ multiset å®¹å™¨çš„å€¼ï¼Œå› ä¸ºå¯¹äºä¸€ä¸ª multiset å®¹å™¨æ¥è¯´ï¼Œå…¶å†…éƒ¨çš„å…ƒç´ çš„keyä¸valueæ˜¯ç›¸ç­‰çš„ï¼Œç›´æ¥ä¿®æ”¹å¯èƒ½ä¼šç ´åå…¶æ’åºé¡ºåºï¼Œå› æ­¤æœ€å¥½æ˜¯å…ˆåˆ é™¤å†æ·»åŠ ã€‚</p><p><code>multimap</code>å’Œ<code>map</code>çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯ï¼šmultimapè°ƒç”¨çš„æ˜¯çº¢é»‘æ ‘çš„<code>insert_equal()</code>,å¯ä»¥é‡å¤æ’å…¥è€Œmapè°ƒç”¨çš„åˆ™æ˜¯ç‹¬ä¸€æ— äºŒçš„æ’å…¥<code>insert_unique()</code>ï¼Œmultisetå’Œsetä¹Ÿä¸€æ ·ï¼Œåº•å±‚å®ç°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨æ’å…¥çš„æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ä¸ä¸€æ ·ã€‚</p><p>åˆå§‹åŒ–æ–¹å¼ä¸setå¹¶æ— äºŒè‡´</p><hr><h3 id="map-æ˜ å°„"><a href="#map-æ˜ å°„" class="headerlink" title="map - æ˜ å°„"></a>map - æ˜ å°„</h3><p>mapçš„æ˜¯C++ä¸­å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œmapä¸­å­˜å‚¨çš„é”®å€¼å¯¹é€šè¿‡pairå‘å¤–æš´éœ²ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">double</span>&gt; mp;</span><br><span class="line">mp.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">1</span>, <span class="number">2.0</span>));</span><br></pre></td></tr></table></figure><p>mapä¸€èˆ¬å­˜å‚¨çš„éƒ½æ˜¯pairå¯¹è±¡ï¼Œå½“å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹æ—¶ï¼Œè¯¥å®¹å™¨ä¼šè‡ªåŠ¨æ ¹æ®å„é”®å€¼å¯¹çš„é”®çš„å¤§å°ï¼ŒæŒ‰ç…§æ—¢å®šçš„è§„åˆ™è¿›è¡Œæ’åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œmap å®¹å™¨é€‰ç”¨<code>std::less&lt;T&gt;</code>æ’åºè§„åˆ™ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŒ‡å®š map å®¹å™¨çš„æ’åºè§„åˆ™ï¼Œæ—¢å¯ä»¥é€‰ç”¨ STL æ ‡å‡†åº“ä¸­æä¾›çš„å…¶å®ƒæ’åºè§„åˆ™ï¼ˆæ¯”å¦‚<code>std::greater&lt;T&gt;</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ’åºè§„åˆ™ã€‚</p><p><strong>å¦å¤–ï¼Œå¯¹äºmapå®¹å™¨æ¥è¯´ï¼Œå…¶é”®ï¼ˆkeyï¼‰æ˜¯ä¸€ä¸ªè¢«åŠ äº†constä¿®é¥°çš„å€¼ï¼Œä¸èƒ½è¢«ä¿®æ”¹ï¼Œæ›´ä¸èƒ½é‡å¤ï¼Œä½†æ˜¯valueæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ä¿®æ”¹çš„å€¼ï¼Œå¹¶ä¸”å¤šä¸ªkeyå¯ä»¥åŒæ—¶å¯¹åº”ä¸€ä¸ªvalue</strong></p><h4 id="å¸¸ç”¨API-1"><a href="#å¸¸ç”¨API-1" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h4><ul><li>æ„é€ å‡½æ•°</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map&lt;T1, T2&gt; mapTT; <span class="comment">// mapé»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">map</span>(<span class="type">const</span> map&amp; mp); <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure><ul><li>èµ‹å€¼æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map&amp; <span class="keyword">operator</span>=(<span class="type">const</span> map&amp; mp); <span class="comment">// é‡è½½ç­‰å·æ“ä½œç¬¦</span></span><br><span class="line"><span class="built_in">swap</span>(mp); <span class="comment">// äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨</span></span><br></pre></td></tr></table></figure><ul><li>å¤§å°æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span></span>; <span class="comment">// è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span></span>; <span class="comment">// åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br></pre></td></tr></table></figure><ul><li>æ’å…¥åˆ é™¤æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">pair&lt;iterator, <span class="type">bool</span>&gt; <span class="title">insert</span><span class="params">(pair&lt;T1, T2&gt; p)</span></span>; <span class="comment">// é€šè¿‡pairçš„æ–¹å¼æ’å…¥å¯¹è±¡</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1. å‚æ•°éƒ¨åˆ†å¯ä»¥ç”¨pairçš„æ„é€ å‡½æ•°åˆ›å»ºåŒ¿åå¯¹è±¡</span></span><br><span class="line"><span class="comment">2. ä¹Ÿå¯ä»¥ä½¿ç”¨make_pairåˆ›å»ºpairå¯¹è±¡</span></span><br><span class="line"><span class="comment">3. è¿˜å¯ä»¥ç”¨map&lt;T1, T2&gt;::value_type(key, value)æ¥å®ç°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">T2&amp; <span class="keyword">operator</span>[](T1 key); <span class="comment">// é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼æ’å…¥å€¼</span></span><br><span class="line"><span class="comment">// å¦‚æœé€šè¿‡ä¸‹æ ‡è®¿é—®æ–°çš„é”®å´æ²¡æœ‰èµ‹å€¼ï¼Œä¼šè‡ªåŠ¨ç”¨é»˜è®¤å€¼å¡«å……</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>; <span class="comment">// åˆ é™¤æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="function">iterator <span class="title">erase</span><span class="params">(iterator pos)</span></span>; <span class="comment">// åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">iterator <span class="title">erase</span><span class="params">(beg, end)</span></span>; <span class="comment">// åˆ é™¤åŒºé—´[beg, end)å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">erase</span>(keyElem); <span class="comment">// åˆ é™¤å®¹å™¨ä¸­keyä¸ºkeyElemçš„å¯¹ç»„</span></span><br></pre></td></tr></table></figure><ul><li>æŸ¥æ‰¾æ“ä½œ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">iterator <span class="title">find</span><span class="params">(T1 key)</span></span>; </span><br><span class="line"><span class="comment">// æŸ¥æ‰¾é”®keyæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›map.end()</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">(T1 keyElem)</span></span>;</span><br><span class="line"><span class="comment">// è¿”å›å®¹å™¨ä¸­keyä¸ºkeyElemçš„å¯¹ç»„ä¸ªæ•°ï¼Œå¯¹mapæ¥è¯´åªå¯èƒ½æ˜¯0æˆ–1ï¼Œå¯¹äºmultimapå¯èƒ½å¤§äº1</span></span><br><span class="line"></span><br><span class="line"><span class="function">iterator <span class="title">lower_bound</span><span class="params">(T keyElem)</span></span>;</span><br><span class="line"><span class="comment">// è¿”å›ç¬¬ä¸€ä¸ªkey&gt;=keyElemå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">iterator <span class="title">upper_bound</span><span class="params">(T keyElem)</span></span>;</span><br><span class="line"><span class="comment">// è¿”å›ç¬¬ä¸€ä¸ªkey&gt;keyElemå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="function">pair&lt;iterator, iterator&gt; <span class="title">equal_range</span><span class="params">(T keyElem)</span></span>;</span><br><span class="line"><span class="comment">// è¿”å›å®¹å™¨ä¸­keyä¸keyElemä¸Šç›¸ç­‰çš„ä¸¤ä¸ªä¸Šä¸‹é™è¿­ä»£å™¨</span></span><br></pre></td></tr></table></figure><h4 id="æ’åº-2"><a href="#æ’åº-2" class="headerlink" title="æ’åº"></a>æ’åº</h4><ul><li><strong>å¯¹keyå€¼è¿›è¡Œç‰¹å®šçš„æ’åº</strong></li></ul><p>mapå®¹å™¨é‡Œé¢æœ‰ä¸¤ä¸ªå€¼ä¸€ä¸ªkeyä¸€ä¸ªæ˜¯valueï¼Œmap&lt;key,value&gt;ï¼Œå…¶å®mapé‡Œé¢è¿˜æœ‰ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªç±»ï¼Œç”¨æ¥å¯¹mapçš„<strong>key</strong>è¿›è¡Œæ’åºçš„ç±»</p><p>å†™å‡ºä¸€ä¸ªgreaterç±»æ¥è®©keyæŒ‰ç…§é™åºæ’åˆ—</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;string, <span class="type">int</span>&gt; PAIR;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">greater</span>&#123;   </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> string&amp;  _Left, <span class="type">const</span> string&amp;  _Right)</span> <span class="type">const</span></span>&#123;  </span><br><span class="line">        <span class="keyword">return</span> (_Left  &gt;  _Right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    map&lt;string, <span class="type">int</span>, greater&gt; ma;</span><br><span class="line">    ma[<span class="string">&quot;Alice&quot;</span>] = <span class="number">86</span>;</span><br><span class="line">    ma[<span class="string">&quot;Bob&quot;</span>] = <span class="number">78</span>;</span><br><span class="line">    ma[<span class="string">&quot;Zip&quot;</span>] = <span class="number">92</span>;</span><br><span class="line">    ma[<span class="string">&quot;Stdevn&quot;</span>] = <span class="number">88</span>;</span><br><span class="line">    <span class="keyword">for</span>(map&lt;string, <span class="type">int</span>&gt;::iterator ite = ma.<span class="built_in">begin</span>(); ite != ma.<span class="built_in">end</span>(); ++ite)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; ite-&gt;first &lt;&lt; <span class="string">&quot;&quot;</span>&lt;&lt; ite-&gt;second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è¾“å‡º</span></span><br><span class="line"><span class="comment">Zip92</span></span><br><span class="line"><span class="comment">Stdevn88</span></span><br><span class="line"><span class="comment">Bob78</span></span><br><span class="line"><span class="comment">Alice86</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li><strong>å¯¹valueçš„å€¼è¿›è¡Œæ’åº</strong></li></ul><p>å› ä¸ºmapçš„æ¨¡æ¿é‡Œé¢æ²¡æœ‰å¯¹valueçš„å€¼è¿›è¡Œæ’åºçš„å‚æ•°ï¼Œæ‰€ä»¥åªèƒ½å€ŸåŠ©<code>sort</code>å‡½æ•°ï¼Œç„¶è€Œsortå‡½æ•°åªèƒ½å¯¹vectorï¼Œlistï¼Œqueueç­‰æ’åºï¼Œæ— æ³•å¯¹mapæ’åºï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠmapçš„å€¼æ”¾å…¥vectorä¸­åœ¨å¯¹vectorè¿›è¡Œæ’åºï¼Œåœ¨å¯¹vectorè¿›è¡Œè¾“å‡ºï¼Œä»è€Œé—´æ¥å®ç°äº†å¯¹mapçš„æ’åºã€‚sortä¹Ÿæœ‰ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè·Ÿä¸Šé¢é‚£ä¸ªmapç±»ä¼¼ï¼Œæ‰€ä»¥å¯ä»¥å†™ä¸€ä¸ªç±»æˆ–è€…å‡½æ•°æ¥å°†å…¶æ’åºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;string, <span class="type">int</span>&gt; PAIR;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp_val</span><span class="params">(<span class="type">const</span> PAIR&amp; left, <span class="type">const</span> PAIR&amp; right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> left.second &lt; right.second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;string, <span class="type">int</span>&gt; ma;</span><br><span class="line">    ma[<span class="string">&quot;Alice&quot;</span>] = <span class="number">86</span>;</span><br><span class="line">    ma[<span class="string">&quot;Bob&quot;</span>] = <span class="number">78</span>;</span><br><span class="line">    ma[<span class="string">&quot;Zip&quot;</span>] = <span class="number">92</span>;</span><br><span class="line">    ma[<span class="string">&quot;Stdevn&quot;</span>] = <span class="number">88</span>;</span><br><span class="line">    <span class="function">vector&lt;PAIR&gt; <span class="title">vec</span><span class="params">(ma.begin(), ma.end())</span></span>;</span><br><span class="line">    <span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), cmp_val);</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;PAIR&gt;::iterator ite = vec.<span class="built_in">begin</span>(); ite != vec.<span class="built_in">end</span>(); ++ite)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; ite-&gt;first &lt;&lt; <span class="string">&quot;\t&quot;</span>&lt;&lt; ite-&gt;second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*è¾“å‡º</span></span><br><span class="line"><span class="comment">Bob     78</span></span><br><span class="line"><span class="comment">Alice   86</span></span><br><span class="line"><span class="comment">Stdevn  88</span></span><br><span class="line"><span class="comment">Zip     92</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆ–è€…é€šè¿‡lambdaè¡¨è¾¾å¼</span></span><br><span class="line"><span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(),[](<span class="type">const</span> PAIR &amp;left, <span class="type">const</span> PAIR &amp;right)&#123;</span><br><span class="line">        <span class="keyword">return</span> left.second &lt; right.second;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h3 id="multimap-å¤šé‡æ˜ å°„"><a href="#multimap-å¤šé‡æ˜ å°„" class="headerlink" title="multimap - å¤šé‡æ˜ å°„"></a>multimap - å¤šé‡æ˜ å°„</h3><p>å’Œ map å®¹å™¨ååˆ†ç›¸ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œmultimap å®¹å™¨ä¸­å¯ä»¥åŒæ—¶å­˜å‚¨å¤šï¼ˆâ‰¥2ï¼‰ä¸ªé”®ç›¸åŒçš„é”®å€¼å¯¹ã€‚</p><hr><h3 id="hashtable-å“ˆå¸Œè¡¨"><a href="#hashtable-å“ˆå¸Œè¡¨" class="headerlink" title="hashtable - å“ˆå¸Œè¡¨"></a>hashtable - å“ˆå¸Œè¡¨</h3><h4 id="æ¦‚å¿µ-4"><a href="#æ¦‚å¿µ-4" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>åŸºæœ¬åŸç†æ˜¯ï¼šä½¿ç”¨ä¸€ä¸ªä¸‹æ ‡èŒƒå›´æ¯”è¾ƒå¤§çš„æ•°ç»„æ¥å­˜å‚¨å…ƒç´ ã€‚æŠŠå…³é”®å­—Keyé€šè¿‡ä¸€ä¸ªå›ºå®šçš„ç®—æ³•å‡½æ•°å³æ‰€è°“çš„å“ˆå¸Œå‡½æ•°ï¼ˆæ•£åˆ—å‡½æ•°ï¼‰è½¬æ¢æˆä¸€ä¸ªæ•´å‹æ•°å­—ï¼Œç„¶åå°±å°†è¯¥æ•°å­—å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå–ä½™ï¼Œå–ä½™ç»“æœå°±å½“ä½œæ•°ç»„çš„ä¸‹æ ‡ï¼Œå°†valueå­˜å‚¨åœ¨ä»¥è¯¥æ•°å­—ä¸ºä¸‹æ ‡çš„listç©ºé—´é‡Œã€‚ä¹Ÿå¯ä»¥ç®€å•çš„ç†è§£ä¸ºï¼ŒæŒ‰ç…§å…³é”®å­—keyä¸ºæ¯ä¸€ä¸ªå…ƒç´ â€œåˆ†ç±»â€ï¼Œç„¶åå°†è¿™ä¸ªå…ƒç´ å­˜å‚¨åœ¨ç›¸åº”â€œç±»â€æ‰€å¯¹åº”çš„åœ°æ–¹ï¼Œç§°ä¸ºæ¡¶ã€‚</p><p>ä¸ºäº†é¿å…å“ˆå¸Œè¡¨å¤ªå¤§ï¼Œéœ€è¦ç”¨åˆ°æŸç§æ˜ å°„å‡½æ•°ï¼Œå°†å¤§æ•°æ˜ å°„ä¸ºå°æ•°ï¼Œè¿™ç§å‡½æ•°ç§°ä¸ºæ•£åˆ—å‡½æ•°hash functionã€‚ä½†hash functionä¼šå¸¦æ¥ç¢°æ’é—®é¢˜ï¼Œå³ä¸åŒçš„å…ƒç´ è¢«æ˜ å°„åˆ°ç›¸åŒä½ç½®</p><p>ä¸ºäº†è§£å†³ç¢°æ’é—®é¢˜çš„æ–¹æ³•æœ‰ï¼šçº¿æ€§æ¢æµ‹ã€äºŒæ¬¡æ¢æµ‹ã€å†æ•£åˆ—ã€å¼€é“¾æ³•ã€‚</p><ul><li>çº¿æ€§æ¢æµ‹ â€“ ä½¿ç”¨hashå‡½æ•°è®¡ç®—å‡ºçš„ä½ç½®å¦‚æœå·²ç»æœ‰å…ƒç´ å ç”¨äº†ï¼Œåˆ™å‘åä¾æ¬¡å¯»æ‰¾ï¼Œæ‰¾åˆ°è¡¨å°¾åˆ™å›åˆ°è¡¨å¤´ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç©ºä½</li><li>å†æ•£åˆ— â€“ å‘ç”Ÿå†²çªæ—¶ä½¿ç”¨å¦ä¸€ç§hashå‡½æ•°å†è®¡ç®—ä¸€ä¸ªåœ°å€ï¼Œç›´åˆ°ä¸å†²çª</li><li>å¼€é“¾ â€“  æ¯ä¸ªè¡¨æ ¼ç»´æŠ¤ä¸€ä¸ªlistï¼Œå¦‚æœhashå‡½æ•°è®¡ç®—å‡ºçš„æ ¼å­ç›¸åŒï¼Œåˆ™æŒ‰é¡ºåºå­˜åœ¨è¿™ä¸ªlistä¸­</li><li>äºŒæ¬¡æ¢æµ‹ â€“ ä½¿ç”¨hashå‡½æ•°è®¡ç®—å‡ºçš„ä½ç½®å¦‚æœå·²ç»æœ‰å…ƒç´ å ç”¨äº†ï¼ŒæŒ‰ç…§$1^2$ã€$2^2$ã€$3^2$â€¦çš„æ­¥é•¿ä¾æ¬¡å¯»æ‰¾ï¼Œå¦‚æœæ­¥é•¿æ˜¯éšæœºæ•°åºåˆ—ï¼Œåˆ™ç§°ä¹‹ä¸ºä¼ªéšæœºæ¢æµ‹</li></ul><p>çº¿æ€§æ¢æµ‹æ³•å®¹æ˜“äº§ç”Ÿ<strong>ä¸»é›†å›¢(primary clustering)<strong>ï¼ŒäºŒæ¬¡æ¢æµ‹æ³•å¯èƒ½é€ æˆ</strong>æ¬¡é›†å›¢(secondary clustering)</strong> é—®é¢˜ã€‚</p><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>hashtableå°±æ˜¯ç”¨çš„<strong>å¼€é“¾æ³•</strong>ï¼Œä½¿ç”¨å¼€é“¾æ³•ï¼Œè¡¨æ ¼çš„è´Ÿè½½ç³»æ•°å°†å¤§äº1ã€‚</p><p>hashtableä¸­çš„bucketæ‰€ç»´æŠ¤çš„listæ—¢ä¸æ˜¯listä¹Ÿä¸æ˜¯slistï¼Œè€Œæ˜¯å…¶è‡ªå·±å®šä¹‰çš„ç”±hashtable_nodeæ•°æ®ç»“æ„ç»„æˆçš„<code>linked-list</code>ï¼Œè€Œbucketèšåˆä½“æœ¬èº«ä½¿ç”¨vectorè¿›è¡Œå­˜å‚¨ã€‚hashtableçš„è¿­ä»£å™¨åªæä¾›å‰è¿›æ“ä½œï¼Œä¸æä¾›åé€€æ“ä½œã€‚</p><p>åœ¨hashtableè®¾è®¡bucketçš„æ•°é‡ä¸Šï¼Œå…¶å†…ç½®äº†28ä¸ªè´¨æ•°[53, 97, 193,â€¦,429496729]ï¼Œåœ¨åˆ›å»ºhashtableæ—¶ï¼Œä¼šæ ¹æ®å­˜å…¥çš„å…ƒç´ ä¸ªæ•°é€‰æ‹©å¤§äºç­‰äºå…ƒç´ ä¸ªæ•°çš„è´¨æ•°ä½œä¸ºhashtableçš„å®¹é‡ï¼ˆvectorçš„é•¿åº¦ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªbucketæ‰€ç»´æŠ¤çš„linked-listé•¿åº¦ä¹Ÿç­‰äºhashtableçš„å®¹é‡ã€‚</p><p><strong>å¦‚æœæ’å…¥hashtableçš„å…ƒç´ ä¸ªæ•°è¶…è¿‡äº†bucketçš„å®¹é‡ï¼Œå°±è¦è¿›è¡Œé‡å»ºtableæ“ä½œï¼Œå³æ‰¾å‡ºä¸‹ä¸€ä¸ªè´¨æ•°ï¼Œåˆ›å»ºæ–°çš„buckets vectorï¼Œé‡æ–°è®¡ç®—å…ƒç´ åœ¨æ–°hashtableçš„ä½ç½®ã€‚</strong></p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/523.png" alt="523" style="zoom:80%;"><p><strong>hashtableèŠ‚ç‚¹åŠè¿­ä»£å™¨çš„å®šä¹‰</strong></p><p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/435634.png" alt="435634"></p><p>è¿­ä»£å™¨ç±»å‹æ˜¯ **forward_iterator_tag (å‰å‘è¿­ä»£å™¨)**ï¼Œhashtableçš„è¿­ä»£å™¨æ²¡æœ‰åé€€æ“ä½œï¼ˆ<code>operator--()</code>ï¼‰ï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰æ‰€è°“çš„é€†å‘è¿­ä»£å™¨ï¼ˆ<code>reverse iterator</code>ï¼‰ã€‚</p><h4 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h4><p>hashtable çš„æ’å…¥ è·Ÿ RB-tree çš„æ’å…¥ç±»ä¼¼ï¼Œæœ‰ä¸¤ç§æ’å…¥æ–¹æ³• <code>insert_unique()</code> å’Œ <code>insert_equal()</code> ï¼Œæ„æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œ<code>insert_unique()</code> ä¸å…è®¸æœ‰é‡å¤å€¼ï¼Œè€Œ <code>insert_equal()</code> å…è®¸æœ‰é‡å¤å€¼ã€‚æ’å…¥æ—¶ä¼šåˆ¤æ–­æ˜¯å¦éœ€è¦é‡å»ºè¡¨æ ¼ã€‚</p><blockquote><p>åˆ¤æ–­ â€œè¡¨æ ¼é‡å»ºä¸å¦â€ æ˜¯æ‹¿å…ƒç´ ä¸ªæ•°ï¼ˆæŠŠæ–°å¢å…ƒç´ è®¡å…¥åï¼‰å’Œ bucket vector çš„å¤§å°æ¥æ¯”ï¼Œå¦‚æœå‰è€…å¤§äºåè€…ï¼Œå°±é‡å»ºè¡¨æ ¼ ã€‚æ‰€ä»¥ æ¯ä¸ª bucket list çš„æœ€å¤§å®¹é‡å’Œ bucket vector çš„å¤§å°ç›¸åŒ</p></blockquote><ul><li><p><code>insert_unique()</code> å‡½æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ’å…¥æ—¶ï¼Œæ–°èŠ‚ç‚¹ç›´æ¥æ’å…¥åˆ°é“¾è¡¨çš„å¤´èŠ‚ç‚¹</p></li><li><p>å…è®¸é‡å¤æ’å…¥çš„ <code>insert_equal()</code>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ’å…¥æ—¶ï¼Œé‡å¤èŠ‚ç‚¹æ’å…¥åˆ°ç›¸åŒèŠ‚ç‚¹çš„åé¢ï¼Œæ–°èŠ‚ç‚¹è¿˜æ˜¯æ’å…¥åˆ°é“¾è¡¨çš„å¤´èŠ‚ç‚¹</p></li></ul><p>æ³¨æ„ï¼š<strong>hashtable ä¸­ï¼Œé”®å€¼ç›¸åŒçš„å…ƒç´ ï¼Œä¸€å®šè½åœ¨åŒä¸€ä¸ª bucket list ä¸­ï¼Œä½†æ˜¯å¹¶ä¸æ’åº</strong></p><h4 id="æ— åºå…³è”å¼å®¹å™¨"><a href="#æ— åºå…³è”å¼å®¹å™¨" class="headerlink" title="æ— åºå…³è”å¼å®¹å™¨"></a>æ— åºå…³è”å¼å®¹å™¨</h4><p>è‡ª C++11 æ ‡å‡†èµ·ï¼Œå››ç§åŸºäºå“ˆå¸Œå®ç°çš„æ— åºå…³è”å¼å®¹å™¨æ­£å¼çº³å…¥äº† C++ çš„æ ‡å‡†æ¨¡æ¿åº“ä¸­ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p><strong><code>unordered_set</code>ï¼Œ<code>unordered_multiset</code>ï¼Œ<code>unordered_map</code>ï¼Œ<code>unordered_multimap</code></strong></p><p>éƒ½ä»¥hashtableä¸ºåº•å±‚ç»“æ„</p><p>é‡‡ç”¨å“ˆå¸Œå­˜å‚¨çš„ç‰¹ç‚¹ä½¿å¾—æ— åºå…³è”å¼å®¹å™¨ <strong>åœ¨å¹³å‡æƒ…å†µä¸‹</strong> å¤§å¤šæ•°æ“ä½œï¼ˆåŒ…æ‹¬æŸ¥æ‰¾ï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼‰éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å†…å®Œæˆï¼Œç›¸è¾ƒäºå…³è”å¼å®¹å™¨ä¸å®¹å™¨å¤§å°æˆå¯¹æ•°çš„æ—¶é—´å¤æ‚åº¦æ›´åŠ ä¼˜ç§€ã€‚</p><p><strong>åœ¨æœ€åæƒ…å†µä¸‹</strong>ï¼Œå¯¹æ— åºå…³è”å¼å®¹å™¨è¿›è¡Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¼š <strong>ä¸å®¹å™¨å¤§å°æˆçº¿æ€§å…³ç³»</strong>ï¼è¿™ä¸€æƒ…å†µå¾€å¾€åœ¨å®¹å™¨å†…å‡ºç°å¤§é‡å“ˆå¸Œå†²çªæ—¶äº§ç”Ÿã€‚</p><p>å› æ­¤åº”è°¨æ…ä½¿ç”¨æ— åºå…³è”å¼å®¹å™¨ï¼Œå°½é‡é¿å…æ»¥ç”¨ï¼ˆä¾‹å¦‚æ‡’å¾—ç¦»æ•£åŒ–ï¼Œç›´æ¥å°† <code>unordered_map&lt;int, int&gt;</code> å½“ä½œç©ºé—´æ— é™çš„æ™®é€šæ•°ç»„ä½¿ç”¨ï¼‰</p><hr><h1 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h1><p>STLç®—æ³•çš„ä¸€èˆ¬å½¢å¼-æ³›å‹ç®—æ³•ã€‚æ‰€æœ‰æ³›å‹ç®—æ³•çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯ä¸€å¯¹è¿­ä»£å™¨ï¼Œé€šå¸¸ç§°ä¸ºfirstï¼Œlastï¼Œä»¥æ ‡ç¤ºç®—æ³•çš„æ“ä½œåŒºé—´ï¼Œå‰é—­åå¼€ã€‚è¿™ä¸ª[first,last)åŒºé—´çš„å¿…è¦æ¡ä»¶æ˜¯ï¼Œå¿…é¡»èƒ½å¤Ÿç»ç”±incrementï¼ˆç´¯åŠ ï¼‰æ“ä½œçš„åå¤è¿ç”¨ï¼Œä»firståˆ°lastã€‚ç¼–è¯‘å™¨æœ¬ç”Ÿæ— æ³•å¼ºæ±‚è¿™ä¸€ç‚¹ï¼Œå¦‚æœè¿™ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼Œä¼šå¯¼è‡´æœªå¯é¢„æœŸçš„åæœ</p><h2 id="åªè¯»ç®—æ³•"><a href="#åªè¯»ç®—æ³•" class="headerlink" title="åªè¯»ç®—æ³•"></a>åªè¯»ç®—æ³•</h2><ul><li>æŸ¥æ‰¾ç®—æ³•</li></ul><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>find(beg, end, v)</td><td>åœ¨è¿­ä»£åŒºé—´[beg, end)å†…æŸ¥æ‰¾ç­‰äºvçš„å…ƒç´ ï¼Œæ‰¾åˆ°å¹¶è¿”å›å¯¹åº”çš„è¿­ä»£å™¨ï¼Œå¦åˆ™è¿”å›end</td></tr><tr><td>find_first_of(beg, end, beg2, end2)</td><td>åœ¨è¿­ä»£åŒºé—´[beg, end)å†…æŸ¥æ‰¾ä¸åŒºé—´[beg2, end2)å†…ä»»æ„å…ƒç´ åŒ¹é…çš„å…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚å¦‚æœæ‰¾ä¸åˆ°å…ƒç´ ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªèŒƒå›´çš„endè¿­ä»£å™¨</td></tr><tr><td>find_end(beg, end, beg2, end2)</td><td>ä¸find_first_ofç±»ä¼¼ï¼ŒæŸ¥æ‰¾æœ€åä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </td></tr><tr><td>find_if(beg, end, func)</td><td>å‡½æ•°findçš„å¸¦ä¸€ä¸ªå‡½æ•°å‚æ•°çš„_ifç‰ˆæœ¬ï¼Œä¸findåŠŸèƒ½ç›¸åŒï¼Œæ¡ä»¶ï¼šä½¿å‡½æ•°funcè¿”å›true</td></tr></tbody></table><ul><li>æœç´¢ä¸ç»Ÿè®¡ç®—æ³•</li></ul><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>search(beg, end, beg2, end2)</td><td>åœ¨è¿­ä»£åŒºé—´[beg, end)å†…æŸ¥æ‰¾å­åºåˆ—[beg2, end2)</td></tr><tr><td>search_n(beg, end,n, v)</td><td>åœ¨è¿­ä»£åŒºé—´[beg, end)å†…æŸ¥æ‰¾è¿ç»­nä¸ªå…ƒç´ v</td></tr><tr><td>binary_search(beg, end, v)</td><td>è¯•å›¾åœ¨å·²æ’åºçš„[first, last)ä¸­äºŒåˆ†æŸ¥æ‰¾å…ƒç´ vï¼Œæ‰¾åˆ°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</td></tr><tr><td>count(beg, end, v)</td><td>ç»Ÿè®¡è¿­ä»£åŒºé—´[beg, end)å†…ç­‰äºvçš„å…ƒç´ ä¸ªæ•°</td></tr><tr><td>count_if(beg, end, func)</td><td>å‡½æ•°countçš„_ifç‰ˆæœ¬</td></tr><tr><td>lower_bound(beg, end, v)</td><td>è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾éé€’å‡åºåˆ—å†…ç¬¬ä¸€ä¸ªå¤§äºç­‰äº x çš„æ•°çš„åœ°å€&#x2F;è¿­ä»£å™¨</td></tr><tr><td>upper_bound(beg, end, v)</td><td>è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾éé€’å‡åºåˆ—å†…ç¬¬ä¸€ä¸ªå¤§äº x çš„æ•°çš„åœ°å€&#x2F;è¿­ä»£å™¨</td></tr><tr><td>accumulate(beg, end, v)</td><td>ç´¯åŠ æ±‚å’Œï¼Œå¤´ä¸¤ä¸ªå½¢å‚æŒ‡å®šè¦ç´¯åŠ çš„å…ƒç´ èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªå½¢å‚åˆ™æ˜¯ç´¯åŠ çš„åˆå€¼ï¼Œå…¶è¿”å›ç±»å‹å°±æ˜¯å…¶ç¬¬ä¸‰ä¸ªå®å‚çš„ç±»å‹</td></tr></tbody></table><h2 id="å¯å˜åºåˆ—ç®—æ³•"><a href="#å¯å˜åºåˆ—ç®—æ³•" class="headerlink" title="å¯å˜åºåˆ—ç®—æ³•"></a>å¯å˜åºåˆ—ç®—æ³•</h2><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>copy(beg, end, beg2)</td><td>å°†è¿­ä»£å™¨åŒºé—´[beg, end)å…ƒç´ å¤åˆ¶åˆ°ä»¥beg2å¼€å§‹çš„åŒºé—´</td></tr><tr><td>transform(beg, end, beg2, func)</td><td>åŠŸèƒ½åŒä¸Šï¼Œåªæ˜¯æ¯ä¸ªå…ƒç´ éœ€è¦ç»è¿‡å‡½æ•°funcå¤„ç†</td></tr><tr><td>replace(beg, end, v1, v2)</td><td>å°†è¿­ä»£å™¨åŒºé—´[beg, end)å†…ç­‰äºv1çš„å…ƒç´ æ›¿æ¢ä¸ºv2</td></tr><tr><td>fill(beg, end, v)</td><td>åŒºé—´å†…å…ƒç´ éƒ½å†™å…¥v</td></tr><tr><td>fill_n(beg, n, v)</td><td>ä»ä½ç½®begå¼€å§‹çš„nå…ƒç´ å†™å…¥v</td></tr><tr><td>generate(beg, n, rand)</td><td>å‘ä»begå¼€å§‹çš„nä¸ªä½ç½®éšæœºå¡«å†™æ•°æ®</td></tr><tr><td>remove(beg, end)</td><td>ç§»é™¤åŒºé—´[beg, end)å†…çš„å…ƒç´ ã€‚æ³¨æ„ï¼šå¹¶ä¸çœŸæ­£åˆ é™¤</td></tr><tr><td>unique(beg, end)</td><td>å‰”é™¤ç›¸é‚»é‡å¤çš„å…ƒç´ ã€‚æ³¨æ„ï¼šå¹¶ä¸çœŸæ­£åˆ é™¤</td></tr><tr><td>iota(beg, end, T)</td><td>ç”¨è¿ç»­çš„ T ç±»å‹å€¼å¡«å……åºåˆ—ã€‚å‰ä¸¤ä¸ªå‚æ•°æ˜¯å®šä¹‰åºåˆ—çš„æ­£å‘è¿­ä»£å™¨ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åˆå§‹çš„ T å€¼</td></tr></tbody></table><p>copyï¼Œtransformï¼Œfill_nå’Œgeneratéƒ½éœ€è¦ä¿è¯ï¼šè¾“å‡ºåºåˆ—æœ‰è¶³å¤Ÿçš„ç©ºé—´ã€‚</p><p>åˆ é™¤å‡½æ•°å¹¶ä¸çœŸæ­£åˆ é™¤å…ƒç´ ï¼Œåªæ˜¯å°†è¦åˆ é™¤çš„å…ƒç´ ç§»åŠ¨åˆ°å®¹å™¨çš„æœ«å°¾ï¼Œåˆ é™¤å…ƒç´ éœ€è¦å®¹å™¨æ“¦é™¤å‡½æ•°æ¥æ“ä½œã€‚åŒç†ï¼Œç‹¬ç‰¹çš„å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å®¹å™¨çš„å¤§å°ï¼Œåªæ˜¯è¿™äº›å…ƒç´ çš„é¡ºåºæ”¹å˜äº†ï¼Œæ˜¯å°†æ— é‡å¤çš„å…ƒç´ å¤åˆ¶åˆ°åºåˆ—çš„å‰ç«¯ï¼Œä»è€Œè¦†ç›–ç›¸é‚»çš„é‡å¤å…ƒç´ .uniqueè¿”å›çš„è¿­ä»£å™¨æŒ‡å‘è¶…å‡ºæ— é‡å¤çš„å…ƒç´ èŒƒå›´æœ«ç«¯çš„ä¸‹ä¸€ä½ç½®</p><h2 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h2><p>STLçš„sortç®—æ³•ï¼Œæ•°æ®é‡å¤§æ—¶é‡‡ç”¨å¿«é€Ÿæ’åºæ¥åˆ†æ®µé€’å½’æ’åºã€‚ä¸€æ—¦åˆ†æ®µåçš„æ•°é‡å°äºæŸä¸ªé—¨æ§›ï¼ˆå®šä¹‰ä¸º16ï¼‰ï¼Œä¸ºé¿å…å¿«æ’çš„é€’å½’è°ƒç”¨å¸¦æ¥è¿‡å¤§çš„é¢å¤–è´Ÿæ‹…ï¼Œå°±æ”¹ç”¨æ’å…¥æ’åºï¼Œå¦‚æœé€’å½’å±‚æ¬¡è¿‡æ·±ï¼Œè¿˜ä¼šæ”¹ç”¨å †æ’åºã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>sort(beg, end)</td><td>åŒºé—´[beg, end)å†…å…ƒç´ æŒ‰ç…§å­—å…¸åºæ’åˆ—</td></tr><tr><td>stable_sort(beg, end, func)</td><td>åŒä¸Šï¼Œä¸è¿‡ä¿å­˜ç›¸ç­‰å…ƒç´ ä¹‹é—´çš„é¡ºåºå…³ç³»</td></tr><tr><td>partial_sort(beg, mid, end)</td><td>å°†æœ€å°çš„å…ƒç´ é¡ºåºæ”¾åœ¨[beg, mid)å†…</td></tr><tr><td>random_shuffle(beg, end)</td><td>åŒºé—´å†…å…ƒç´ éšæœºæ’åº</td></tr><tr><td>reverse(beg, end)</td><td>å°†åŒºé—´å†…å…ƒç´ åè½¬</td></tr><tr><td>rotate(beg, mid, end)</td><td>å°†åŒºé—´[beg, mid)å’Œ[mid, end)æ—‹è½¬ï¼Œä½¿midä½œä¸ºæ–°çš„èµ·ç‚¹</td></tr><tr><td>merge(beg, end, beg2, end2, nbeg)</td><td>å°†æœ‰åºåŒºé—´[beg, end)å’Œ[beg2, end2)åˆå¹¶åˆ°ä¸€ä¸ªæ–°çš„åºåˆ—nbegä¸­ï¼Œå¹¶å¯¹å…¶æ’åº</td></tr></tbody></table><h2 id="å…³ç³»ç®—æ³•"><a href="#å…³ç³»ç®—æ³•" class="headerlink" title="å…³ç³»ç®—æ³•"></a>å…³ç³»ç®—æ³•</h2><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>equal(beg, end, beg2, end2)</td><td>åˆ¤æ–­ä¸¤ä¸ªåŒºé—´å…ƒç´ æ˜¯å¦ç›¸ç­‰</td></tr><tr><td>includes(beg, end, beg2, end2)</td><td>åˆ¤æ–­[beg, end)åºåˆ—æ˜¯å¦è¢«ç¬¬äºŒä¸ªåºåˆ—[beg2, end2)åŒ…å«</td></tr><tr><td>max_element(beg, end)</td><td>è¿”å›åºåˆ—æœ€å¤§å…ƒç´ æ‰€åœ¨è¿­ä»£å™¨</td></tr><tr><td>min_element(beg, end)</td><td>è¿”å›åºåˆ—æœ€å°å…ƒç´ æ‰€åœ¨è¿­ä»£å™¨</td></tr><tr><td>mismatch(beg, end, beg2, end2)</td><td>æŸ¥æ‰¾ä¸¤ä¸ªåºåˆ—ä¸­ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„å…ƒç´ ï¼Œè¿”å›ä¸€å¯¹è¿­ä»£å™¨ï¼Œæ ‡è®°ç¬¬ä¸€ä¸ªä¸åŒ¹é…å…ƒç´ çš„ä½ç½®</td></tr></tbody></table><h2 id="å †ç®—æ³•"><a href="#å †ç®—æ³•" class="headerlink" title="å †ç®—æ³•"></a>å †ç®—æ³•</h2><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>make_heap(beg, end)</td><td>ä»¥åŒºé—´[beg, end)å†…å…ƒç´ å»ºç«‹å †</td></tr><tr><td>pop_heap(beg, end)</td><td>é‡æ–°æ’åºå †ï¼Œä½¿ç¬¬ä¸€ä¸ªå…ƒç´ ä¸æœ€åä¸€ä¸ªäº¤æ¢ï¼Œå¹¶ä¸çœŸæ­£å¼¹å‡ºæœ€å¤§å€¼</td></tr><tr><td>push_heap(beg, end)</td><td>é‡æ–°æ’åºå †ï¼ŒæŠŠæ–°å…ƒç´ æ”¾åœ¨æœ€åä¸€ä¸ªä½ç½®</td></tr><tr><td>sort_heap(beg, end)</td><td>å¯¹åºåˆ—é‡æ–°æ’åº</td></tr></tbody></table><h2 id="å®¹å™¨ç‰¹æœ‰ç®—æ³•"><a href="#å®¹å™¨ç‰¹æœ‰ç®—æ³•" class="headerlink" title="å®¹å™¨ç‰¹æœ‰ç®—æ³•"></a>å®¹å™¨ç‰¹æœ‰ç®—æ³•</h2><ul><li>listç›¸å…³ç®—æ³•</li></ul><p>listå®¹å™¨ä¸Šçš„è¿­ä»£å™¨æ˜¯åŒå‘çš„ï¼Œè€Œä¸æ˜¯éšæœºè®¿é—®ç±»å‹ã€‚å› æ­¤ï¼Œåœ¨æ­¤å®¹å™¨ä¸Šä¸èƒ½ä½¿ç”¨éœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨çš„ç®—æ³•ã€‚è¿™äº›ç®—æ³•åŒ…æ‹¬sortåŠå…¶ç›¸å…³çš„ç®—æ³•ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ³›å‹ç®—æ³•ï¼Œå¦‚åˆå¹¶ï¼Œåˆ é™¤ï¼Œåå‘å’Œå”¯ä¸€ï¼Œè™½ç„¶å¯ä»¥ç”¨åœ¨åˆ—ä¸Šï¼Œä½†å´ä»˜å‡ºäº†æ€§èƒ½ä¸Šçš„ä»£ä»·ã€‚å¦‚æœè¿™äº›ç®—æ³•åˆ©ç”¨åˆ—è¡¨å®¹å™¨å®ç°çš„ç‰¹ç‚¹ï¼Œåˆ™å¯ä»¥æ›´é«˜æ•ˆåœ°æ‰§è¡Œã€‚</p><p>æ ‡å‡†åº“ä¸ºlistå®¹å™¨å®šä¹‰äº†æ›´ç²¾ç»†çš„æ“ä½œé›†åˆï¼Œä½¿å®ƒä¸å¿…åªä¾èµ–äºæ³›å‹æ“ä½œã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>lst.merge(lst2)</td><td>å°†lst2çš„å…ƒç´ åˆå¹¶åˆ°lstä¸­ã€‚è¿™ä¸¤ä¸ªå®¹å™¨å¯¹è±¡éƒ½å¿…é¡»æ’åºã€‚lst2ä¸­çš„å…ƒç´ å°†è¢«åˆ é™¤ã€‚åˆå¹¶åï¼Œlst2ä¸ºç©ºã€‚ä½¿ç”¨<code>&lt;</code>æ“ä½œç¬¦æ¯”è¾ƒ</td></tr><tr><td>lst.merge(lst2ï¼Œ cmp)</td><td>åŒä¸Šï¼Œä½¿ç”¨<code>cmp</code>å‡½æ•°æ¯”è¾ƒæ’åº</td></tr><tr><td>lst.remove(val)</td><td>è°ƒç”¨<code>lst.erase()</code>åˆ é™¤æ‰€æœ‰æŒ‡å®šå€¼å…ƒç´ </td></tr><tr><td>lst.reverse()</td><td>åè½¬lstä¸­çš„å…ƒç´ </td></tr><tr><td>lst.sort()</td><td>å¯¹lstä¸­çš„å…ƒç´ æ’åº</td></tr><tr><td>lst.splice(iter, lst2)</td><td>å°†lst2çš„å…ƒç´ ç§»åˆ°lstçš„iteræ‰€æŒ‡å‘å…ƒç´ å‰é¢ï¼›åˆå¹¶ålst2ä¸ºç©ºï¼Œä¸èƒ½æ˜¯åŒä¸€ä¸ªlist</td></tr><tr><td>lst.splice(iter, lst2, iter2)</td><td>å°†lst2ä¸­iter2æ‰€æŒ‡å‘çš„å…ƒç´ ç§»åˆ°lstçš„iterå‰é¢ï¼›å¯ä»¥æ˜¯åŒä¸€ä¸ªlist</td></tr><tr><td>lst.splice(iter,beg, end)</td><td>å°†[beg, end)å†…å…ƒç´ ç§»åŠ¨åˆ°iterå‰é¢ï¼Œå¦‚æœiterä¹ŸæŒ‡å‘è¿™ä¸ªåŒºé—´ï¼Œåˆ™ä¸åšä»»ä½•å¤„ç†</td></tr><tr><td>lst.unique()</td><td>è°ƒç”¨<code>erase()</code>åˆ é™¤åŒä¸€ä¸ªå€¼çš„å‰¯æœ¬ã€‚ç”¨<code>==</code>æ“ä½œç¬¦æ¯”è¾ƒ</td></tr><tr><td>lst.unique(func)</td><td>åŒä¸Šï¼Œç”¨funcå‡½æ•°æ¯”è¾ƒ</td></tr></tbody></table><ul><li>setç›¸å…³ç®—æ³•</li></ul><table><thead><tr><th>ç®—æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>set_intersection(beg1, end1, beg2, end2, dest);</td><td>æ±‚ä¸¤ä¸ªseté›†åˆçš„äº¤é›†ï¼Œdestä¸ºç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨ï¼Œè¿”å›ç›®æ ‡å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</td></tr><tr><td>set_union(beg1, end1, beg2, end2, dest);</td><td>æ±‚ä¸¤ä¸ªseté›†åˆçš„å¹¶é›†ï¼Œdestä¸ºç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨ï¼Œè¿”å›ç›®æ ‡å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</td></tr><tr><td>set_difference(beg1, end1, beg2, end2, dest);</td><td>æ±‚ä¸¤ä¸ªseté›†åˆçš„å·®é›†ï¼Œdestä¸ºç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨ï¼Œè¿”å›ç›®æ ‡å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</td></tr></tbody></table><hr><h1 id="ä»¿å‡½æ•°"><a href="#ä»¿å‡½æ•°" class="headerlink" title="ä»¿å‡½æ•°"></a>ä»¿å‡½æ•°</h1><h2 id="æ¦‚å¿µ-5"><a href="#æ¦‚å¿µ-5" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>æ¨¡ä»¿å‡½æ•°çš„ç±»ï¼Œä½¿ç”¨æ–¹å¼å¦‚åŒå‡½æ•°ã€‚æœ¬è´¨æ˜¯ç±»ä¸­é‡è½½æ‹¬å¼§è¿ç®—ç¬¦<code>operator()</code>ã€‚</p><ol><li><strong>é‡è½½å‡½æ•°è°ƒç”¨æ“ä½œç¬¦çš„ç±»ï¼Œå…¶å¯¹è±¡</strong>å¸¸ç§°ä¸º**å‡½æ•°å¯¹è±¡(function object)<strong>ï¼Œä¹Ÿå«</strong>ä»¿å‡½æ•°(functor)**ï¼Œä½¿å¾—ç±»å¯¹è±¡å¯ä»¥åƒå‡½æ•°é‚£æ ·è°ƒç”¨ã€‚</li><li>STLæä¾›çš„ç®—æ³•å¾€å¾€æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸€ç§æ˜¯æŒ‰ç…§æˆ‘ä»¬å¸¸è§„é»˜è®¤çš„è¿ç®—æ¥æ‰§è¡Œï¼Œå¦ä¸€ç§å…è®¸ç”¨æˆ·è‡ªå·±å®šä¹‰ä¸€äº›è¿ç®—æˆ–æ“ä½œï¼Œé€šå¸¸é€šè¿‡å›è°ƒå‡½æ•°æˆ–æ¨¡ç‰ˆå‚æ•°çš„æ–¹å¼æ¥å®ç°ï¼Œæ­¤æ—¶functorä¾¿æ´¾ä¸Šäº†ç”¨åœºï¼Œç‰¹åˆ«æ˜¯ä½œä¸ºæ¨¡ç‰ˆå‚æ•°çš„æ—¶å€™ï¼Œåªèƒ½ä¼ ç±»å‹ã€‚</li><li>å‡½æ•°å¯¹è±¡è¶…å‡ºäº†æ™®é€šå‡½æ•°çš„æ¦‚å¿µï¼Œå…¶å†…éƒ¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„çŠ¶æ€(å…¶å®ä¹Ÿå°±ç›¸å½“äºå‡½æ•°å†…çš„staticå˜é‡)ï¼Œå¯ä»¥é€šè¿‡æˆå‘˜å˜é‡çš„æ–¹å¼è¢«è®°å½•ä¸‹æ¥ã€‚</li><li>å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‡½æ•°çš„å‚æ•°ä¼ é€’ã€‚</li><li>å‡½æ•°å¯¹è±¡é€šå¸¸ä¸å®šä¹‰æ„é€ å’Œææ„å‡½æ•°ï¼Œæ‰€ä»¥åœ¨æ„é€ å’Œææ„æ—¶ä¸ä¼šå‘ç”Ÿä»»ä½•é—®é¢˜ï¼Œé¿å…äº†å‡½æ•°è°ƒç”¨æ—¶çš„è¿è¡Œæ—¶é—®é¢˜ã€‚</li><li>æ¨¡ç‰ˆå‡½æ•°å¯¹è±¡ä½¿å‡½æ•°å¯¹è±¡å…·æœ‰é€šç”¨æ€§ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¼˜åŠ¿ä¹‹ä¸€ã€‚</li><li>STLéœ€è¦æˆ‘ä»¬æä¾›çš„functoré€šå¸¸åªæœ‰ä¸€å…ƒå’ŒäºŒå…ƒä¸¤ç§ã€‚</li><li>lambda è¡¨è¾¾å¼çš„å†…éƒ¨å®ç°å…¶å®ä¹Ÿæ˜¯ä»¿å‡½æ•°</li></ol><h2 id="å†…å»ºå‡½æ•°å¯¹è±¡"><a href="#å†…å»ºå‡½æ•°å¯¹è±¡" class="headerlink" title="å†…å»ºå‡½æ•°å¯¹è±¡"></a>å†…å»ºå‡½æ•°å¯¹è±¡</h2><blockquote><p>ä½¿ç”¨æ—¶éœ€è¦åŒ…å«å¤´æ–‡ä»¶<code>&lt;functional&gt;</code></p></blockquote><p>STL å†…å»ºäº†ä¸€äº›å‡½æ•°å¯¹è±¡ï¼Œåˆ†ä¸ºï¼š</p><ul><li>ç®—æœ¯ç±»å‡½æ•°å¯¹è±¡</li></ul><p>negate æ˜¯ä¸€å…ƒè¿ç®—ï¼Œå…¶ä»–éƒ½æ˜¯äºŒå…ƒè¿ç®—ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T plus&lt;T&gt;; <span class="comment">// åŠ æ³•ä»¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T minus&lt;T&gt;; <span class="comment">// å‡æ³•ä»¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T multiplies&lt;T&gt;; <span class="comment">// ä¹˜æ³•ä»¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T divides&lt;T&gt;; <span class="comment">// é™¤æ³•ä»¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T modulus&lt;T&gt;; <span class="comment">// å–æ¨¡ä»¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; T negate&lt;T&gt;; <span class="comment">// å–åå‡½æ•°</span></span><br></pre></td></tr></table></figure><ul><li>å…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> equal_to&lt;T&gt;; <span class="comment">// ç­‰äº</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> not_equal_to&lt;T&gt;; <span class="comment">// ä¸ç­‰äº</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> greater&lt;T&gt;; <span class="comment">// å¤§äº</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> greater_equal&lt;T&gt;; <span class="comment">// å¤§äºç­‰äº</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> less&lt;T&gt;; <span class="comment">// å°äº</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> less_equal&lt;T&gt;; <span class="comment">// å°äºç­‰äº</span></span><br></pre></td></tr></table></figure><ul><li>é€»è¾‘è¿ç®—ç±»å‡½æ•°å¯¹è±¡</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> logical_and&lt;T&gt;; <span class="comment">// é€»è¾‘ä¸</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> logical_or&lt;T&gt;; <span class="comment">// é€»è¾‘æˆ–</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="type">bool</span> logical_not&lt;T&gt;; <span class="comment">// é€»è¾‘é</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><p>ä»¿å‡½æ•°ä½œä¸ºsetç±»çš„æ¯”è¾ƒæ“ä½œæ¨¡æ¿</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ï¼ˆ1ï¼‰ åœ¨æ¨¡æ¿å‚æ•°ä¸­æ·»åŠ ä»¿å‡½æ•°ç±»å¯ä»¥æ”¹å˜setå‡é™åºï¼›</span></span><br><span class="line"><span class="comment">//(2)å¯ä»¥å¤šå®šä¹‰å‡ ä¸ªä»¿å‡½æ•°ç±»ï¼Œç”¨æ¥è°ƒç”¨ä¸»ç±»çš„æˆå‘˜å‡½æ•°ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T,<span class="keyword">typename</span> S&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">const</span> set&lt;T,S&gt;&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> n:s)&#123;</span><br><span class="line">        cout &lt;&lt; n &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Greator</span>&#123;   <span class="comment">//ï¼ˆ1ï¼‰ åœ¨æ¨¡æ¿å‚æ•°ä¸­æ·»åŠ ä»¿å‡½æ•°ç±»å¯ä»¥æ”¹å˜setå‡é™åºï¼›</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a &gt; b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> scores;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Student</span>(<span class="type">const</span> string&amp; name,<span class="type">int</span> age,<span class="type">float</span> scores):<span class="built_in">name</span>(name),<span class="built_in">age</span>(age),<span class="built_in">scores</span>(scores)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">GetAge</span><span class="params">()</span><span class="type">const</span></span>&#123;<span class="keyword">return</span> age;&#125;</span><br><span class="line">    <span class="function"><span class="type">float</span> <span class="title">GetScores</span><span class="params">()</span><span class="type">const</span></span>&#123;<span class="keyword">return</span> scores;&#125;</span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; os,<span class="type">const</span> Student&amp; s)&#123;</span><br><span class="line">        <span class="keyword">return</span> os &lt;&lt; s.name &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; s.age &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; s.scores;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AgeComp</span>&#123;   <span class="comment">//(2)å¯ä»¥å¤šå®šä¹‰å‡ ä¸ªä»¿å‡½æ•°ç±»ï¼Œç”¨æ¥è°ƒç”¨ä¸»ç±»çš„æˆå‘˜å‡½æ•°ï¼›</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Student&amp; a,<span class="type">const</span> Student&amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="built_in">GetAge</span>() &gt; b.<span class="built_in">GetAge</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ScoreComp</span>&#123;  <span class="comment">//(2)å¯ä»¥å¤šå®šä¹‰å‡ ä¸ªä»¿å‡½æ•°ç±»ï¼Œç”¨æ¥è°ƒç”¨ä¸»ç±»çš„æˆå‘˜å‡½æ•°ï¼›</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Student&amp; a,<span class="type">const</span> Student&amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="built_in">GetScores</span>() &lt; b.<span class="built_in">GetScores</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>,Greator&gt; s; <span class="comment">// åœ¨æ¨¡æ¿å‚æ•°ä¸­æ·»åŠ ä»¿å‡½æ•°ç±»å¯ä»¥æ”¹å˜setå‡é™åº</span></span><br><span class="line">    s = &#123;<span class="number">10</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">4</span>,<span class="number">15</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="comment">// æ•°æ®æœ‰åº</span></span><br><span class="line">    <span class="comment">// æ•°æ®å”¯ä¸€</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Print</span>(s);</span><br><span class="line"></span><br><span class="line">    set&lt;Student,AgeComp&gt; stu = &#123;   </span><br><span class="line">           <span class="built_in">Student</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="number">21</span>,<span class="number">89</span>),</span><br><span class="line">           <span class="built_in">Student</span>(<span class="string">&quot;æå››&quot;</span>,<span class="number">19</span>,<span class="number">78</span>),</span><br><span class="line">           <span class="built_in">Student</span>(<span class="string">&quot;ç‹äº”&quot;</span>,<span class="number">20</span>,<span class="number">69</span>) </span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Print</span>(stu);</span><br><span class="line">    <span class="function">set&lt;Student,ScoreComp&gt; <span class="title">stu2</span><span class="params">(stu.begin(),stu.end())</span></span>;  <span class="comment">//(2)ä»¿å‡½æ•°çš„è°ƒç”¨ï¼šå®è´¨ï¼šé‡è½½ï¼ˆï¼‰è¿ç®—ç¬¦ï¼›</span></span><br><span class="line">    <span class="built_in">Print</span>(stu2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="é…æ¥å™¨"><a href="#é…æ¥å™¨" class="headerlink" title="é…æ¥å™¨"></a>é…æ¥å™¨</h1><h2 id="æ¦‚å¿µ-6"><a href="#æ¦‚å¿µ-6" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>é…æ¥å™¨æ­£å¦‚ä»–çš„åå­—ï¼Œåœ¨STLä¸­æ˜¯ä¸€ä¸ªè½´æ‰¿ã€è½¬æ¢å™¨çš„è§’è‰²ã€‚Adapterè¿™ä¸ªæ¦‚å¿µï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚</p><p>åœ¨STLä¸­ï¼Œæ”¹å˜æ¥å£ï¼Œèµ‹äºˆæ–°åŠŸèƒ½ï¼Œä¸å…¶ä»–classesè¿›è¡Œå…¼å®¹ã€‚ä¸»è¦åŒ…æ‹¬ä»¿å‡½æ•°é…æ¥å™¨ï¼ˆfunction adapterï¼‰ã€å®¹å™¨é…æ¥å™¨ï¼ˆcontainer adapterï¼‰ã€è¿­ä»£å™¨é…æ¥å™¨ï¼ˆiterator adapterï¼‰ã€‚</p><ul><li>åº”ç”¨äºå®¹å™¨</li></ul><p>STLæä¾›çš„ä¸¤ä¸ªå®¹å™¨queueå’Œstackï¼Œä¸¤è€…æ˜¯ä¸€ç§å®¹å™¨é…æ¥å™¨ï¼Œä¿®é¥°äº†dequeçš„æ¥å£ã€‚</p><p>class stackå°ä½äº†æ‰€æœ‰çš„dequeçš„å¯¹å¤–æ¥å£ï¼Œåªå¼€æ”¾ç¬¦åˆstackåŸåˆ™çš„å‡ ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥è¯´stackæ˜¯ä¸€ä¸ªé…æ¥å™¨ï¼Œä¸€ä¸ªä½œç”¨äºå®¹å™¨ä¹‹ä¸Šçš„é…æ¥å™¨ã€‚</p><ul><li>åº”ç”¨äºè¿­ä»£å™¨</li></ul><p>insert iterators å¯ä»¥å°†ä¸€èˆ¬è¿­ä»£å™¨çš„èµ‹å€¼æ“ä½œè½¬å˜ä¸ºæ’å…¥æ“ä½œï¼›<br>reverse iterators å¯ä»¥å°†ä¸€èˆ¬è¿­ä»£å™¨çš„è¡Œè¿›æ–¹å‘é€†è½¬ï¼Œä½¿åŸæœ¬åº”è¯¥å‰è¿›çš„<code>operator++</code>å˜æˆäº†åé€€æ“ä½œï¼Œä½¿åŸæœ¬åé€€çš„<code>operator--</code>å˜æˆäº†å‰è¿›æ“ä½œï¼›<br>iostream iteratorså¯ä»¥å°†è¿­ä»£å™¨ç»‘å®šåˆ°æŸä¸ªiostreamå¯¹è±¡èº«ä¸Šä½¿å…¶æ‹¥æœ‰è¾“å…¥è¾“å‡ºåŠŸèƒ½ã€‚</p><ul><li>åº”ç”¨äºä»¿å‡½æ•°</li></ul><p>functor adaptersæ˜¯æ‰€æœ‰é…æ¥å™¨ä¸­æ•°é‡æœ€åºå¤§çš„ä¸€ä¸ªï¼Œå¯ä»¥ä¸æ–­é…æ¥ã€é…æ¥ã€å†é…æ¥ã€‚è¿™äº›é…æ¥æ“ä½œåŒ…æ‹¬ç³»ç»“ã€å¦å®šã€ç»„åˆã€ä»¥åŠå¯¹ä¸€èˆ¬æˆå‘˜å‡½æ•°çš„ä¿®é¥°ï¼ˆä½¿å…¶æˆä¸ºä¸€ä¸ªä»¿å‡½æ•°ï¼‰ã€‚</p><p>function adaptersçš„ä»·å€¼åœ¨äºï¼Œé€šè¿‡å®ƒä»¬ä¹‹é—´çš„<strong>ç»‘å®šã€ç»„åˆã€ä¿®é¥°èƒ½åŠ›ï¼Œ</strong>å‡ ä¹å¯ä»¥æ— é™åˆ¶åœ°åˆ›é€ å‡ºå„ç§å¯èƒ½çš„è¡¨è¾¾å¼ï¼Œæ­é…STLç®—æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p><h2 id="å¯é…æ¥çš„å…³é”®"><a href="#å¯é…æ¥çš„å…³é”®" class="headerlink" title="å¯é…æ¥çš„å…³é”®"></a>å¯é…æ¥çš„å…³é”®</h2><p>æ‰€æœ‰æœŸæœ›è·å¾—é…æ¥èƒ½åŠ›çš„ç»„ä»¶ï¼Œæœ¬èº«éƒ½å¿…é¡»æ˜¯å¯é…æ¥çš„ï¼Œå› æ­¤ï¼š</p><ul><li>ä¸€å…ƒä»¿å‡½æ•°å¿…é¡»ç»§æ‰¿è‡ªunary_function</li><li>äºŒå…ƒä»¿å‡½æ•°å¿…é¡»ç»§æ‰¿è‡ªbinary_function</li><li>æˆå‘˜å‡½æ•°å¿…é¡»ä»¥mem_funå¤„ç†è¿‡</li><li>ä¸€èˆ¬å‡½æ•°å¿…é¡»ä»¥ptr_funå¤„ç†è¿‡ã€‚ä¸€ä¸ªæœªç»ptr_funå¤„ç†è¿‡çš„ä¸€èˆ¬å‡½æ•°ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥å‡½æ•°æŒ‡é’ˆçš„å½¢å¼ä¼ ç»™STLç®—æ³•ä½¿ç”¨ï¼Œä½†æ˜¯å´æ²¡æœ‰ä»»ä½•é…æ¥èƒ½åŠ›</li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><p>æˆ‘ä»¬å¸Œæœ›åœ¨æ¯ä¸ªæ•°æ®è¾“å‡ºçš„æ—¶å€™åŠ ä¸Šä¸€ä¸ªåŸºå€¼ï¼Œå¹¶ä¸”è¯¥åŸºå€¼ç”±ç”¨æˆ·è¾“å…¥</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#inlcude <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span>: <span class="keyword">public</span> binary_function&lt;<span class="type">int</span>, <span class="type">int</span>, <span class="type">void</span>&gt; </span><br><span class="line"><span class="comment">// 2.åšç»§æ‰¿ å‚æ•°1ç±»å‹ + å‚æ•°2ç±»å‹ + è¿”å›å€¼ç±»å‹ binary_function</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val, <span class="type">int</span> base)</span> <span class="type">const</span> <span class="comment">// 3. åŠ const, å’Œçˆ¶ç±»ä¿æŒä¸€è‡´</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; val + base &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) v.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">bind2nd</span>(<span class="built_in">myPrint</span>(), n)); </span><br><span class="line">    <span class="comment">// 1. å°†å‚æ•°è¿›è¡Œç»‘å®š bind2nd</span></span><br><span class="line">    <span class="comment">// bind1st åŠŸèƒ½ç±»ä¼¼ï¼Œä¸è¿‡nä¼šè¢«ç»‘å®šåˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¸­</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä»¿å‡½æ•°é…æ¥å™¨æ€»è§ˆ"><a href="#ä»¿å‡½æ•°é…æ¥å™¨æ€»è§ˆ" class="headerlink" title="ä»¿å‡½æ•°é…æ¥å™¨æ€»è§ˆ"></a>ä»¿å‡½æ•°é…æ¥å™¨æ€»è§ˆ</h2><p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/356346.png" alt="356346"></p><h2 id="é…æ¥å™¨ä½¿ç”¨è§£æ"><a href="#é…æ¥å™¨ä½¿ç”¨è§£æ" class="headerlink" title="é…æ¥å™¨ä½¿ç”¨è§£æ"></a>é…æ¥å™¨ä½¿ç”¨è§£æ</h2><p><img src="/2022/05/18/STL%E5%89%96%E6%9E%90/25234.png" alt="25234"></p>]]></content>
    
    
    <summary type="html">C++æ ‡å‡†æ¨¡æ¿åº“STLç›¸å…³çŸ¥è¯†ï¼Œä¸»è¦å†…å®¹åŸºäºä¾¯æ·çš„ã€ŠSTLæºç å‰–æã€‹ã€‚</summary>
    
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/categories/C/"/>
    
    <category term="STL" scheme="https://shiwei-qi.github.io/categories/C/STL/"/>
    
    
    <category term="C++" scheme="https://shiwei-qi.github.io/tags/C/"/>
    
    <category term="STL" scheme="https://shiwei-qi.github.io/tags/STL/"/>
    
  </entry>
  
  <entry>
    <title>GitåŠç›¸å…³æ“ä½œ</title>
    <link href="https://shiwei-qi.github.io/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/"/>
    <id>https://shiwei-qi.github.io/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/</id>
    <published>2022-05-07T07:05:31.000Z</published>
    <updated>2022-05-21T11:49:54.903Z</updated>
    
    <content type="html"><![CDATA[<img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/1576218250849.png" alt="1576218250849" style="zoom: 67%;"><h1 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h1><blockquote><p>ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æˆ‘ä»¬å¯¹æ–‡ä»¶ã€ç›®å½•å·¥ç¨‹ç­‰å†…å®¹çš„ä¿®æ”¹å†å²ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ›´æ”¹å†å²è®°å½•ï¼Œå¤‡ä»½ä»¥ä¾¿æ¢å¤ä»¥å‰çš„ç‰ˆæœ¬çš„è½¯ä»¶å·¥ç¨‹æŠ€æœ¯ã€‚</p></blockquote><blockquote><p><strong>ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»</strong></p></blockquote><ol><li><p><strong>æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶</strong></p><p>è®°å½•æ–‡ä»¶æ¯æ¬¡çš„æ›´æ–°ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰ˆæœ¬åšä¸€ä¸ªå¿«ç…§ï¼Œæˆ–æ˜¯è®°å½•è¡¥ä¸æ–‡ä»¶ï¼Œé€‚åˆä¸ªäººä½¿ç”¨ï¼Œå¦‚RCSã€‚</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506144248059.png" alt="image-20220506144248059" style="zoom:80%;"></li><li><p><strong>é›†ä¸­ç‰ˆæœ¬æ§åˆ¶</strong></p><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼ŒååŒå¼€å‘è€…ä»æœåŠ¡å™¨ä¸ŠåŒæ­¥æ›´æ–°æˆ–ä¸Šä¼ è‡ªå·±çš„ä¿®æ”¹</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506144736888.png" alt="image-20220506144736888" style="zoom:80%;"><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·çš„æœ¬åœ°åªæœ‰è‡ªå·±ä»¥å‰æ‰€åŒæ­¥çš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸è¿ç½‘çš„è¯ï¼Œç”¨æˆ·å°±çœ‹ä¸åˆ°å†å²ç‰ˆæœ¬ï¼Œä¹Ÿæ— æ³•åˆ‡æ¢ç‰ˆæœ¬éªŒè¯é—®é¢˜ï¼Œæˆ–åœ¨ä¸åŒåˆ†æ”¯å·¥ä½œã€‚è€Œä¸”ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å•ä¸€çš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰å¾ˆå¤§çš„é£é™©è¿™ä¸ªæœåŠ¡å™¨ä¼šæŸåï¼Œè¿™æ ·å°±ä¼šä¸¢å¤±æ‰€æœ‰çš„æ•°æ®ï¼Œå½“ç„¶å¯ä»¥å®šæœŸå¤‡ä»½ã€‚ä»£è¡¨äº§å“ï¼šSVNã€CVSã€VSSã€‚</p></li><li><p><strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶</strong></p><p>æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ä»“åº“å…¨éƒ¨åŒæ­¥åˆ°æœ¬åœ°çš„æ¯ä¸ªç”¨æˆ·ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æœ¬åœ°æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œå¯ä»¥ç¦»çº¿åœ¨æœ¬åœ°æäº¤ï¼Œåªéœ€åœ¨è¿ç½‘æ—¶pushåˆ°ç›¸åº”çš„æœåŠ¡å™¨æˆ–å…¶ä»–ç”¨æˆ·é‚£é‡Œã€‚ç”±äºæ¯ä¸ªç”¨æˆ·é‚£é‡Œä¿å­˜çš„éƒ½æ˜¯æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œåªè¦æœ‰ä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡æ²¡æœ‰é—®é¢˜å°±å¯ä»¥æ¢å¤æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¿™å¢åŠ äº†æœ¬åœ°å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚</p><p>ä¸ä¼šå› ä¸ºæœåŠ¡å™¨æŸåæˆ–è€…ç½‘ç»œé—®é¢˜ï¼Œé€ æˆä¸èƒ½å·¥ä½œçš„æƒ…å†µï¼</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506145700293.png" alt="image-20220506145700293" style="zoom:80%;"></li></ol><blockquote><p>Gitå’ŒSVNæœ€ä¸»è¦çš„åŒºåˆ«</p></blockquote><p><strong>SVN</strong>æ˜¯é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå·¥ä½œçš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥é¦–å…ˆè¦ä»ä¸­å¤®æœåŠ¡å™¨å¾—åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå·¥ä½œï¼Œå®Œæˆå·¥ä½œåï¼Œéœ€è¦æŠŠè‡ªå·±åšå®Œçš„æ´»æ¨é€åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå¯¹ç½‘ç»œå¸¦å®½è¦æ±‚è¾ƒé«˜ã€‚</p><p><strong>Git</strong>æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ²¡æœ‰ä¸­å¤®æœåŠ¡å™¨ï¼Œæ¯ä¸ªäººçš„ç”µè„‘å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œå·¥ä½œçš„æ—¶å€™ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬éƒ½åœ¨è‡ªå·±ç”µè„‘ä¸Šã€‚ååŒçš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šæ¯”å¦‚è¯´è‡ªå·±åœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œå…¶ä»–äººä¹Ÿåœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¸¤ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p><p>&#x3D;&#x3D;Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ&#x3D;&#x3D;</p><h1 id="Gitç¯å¢ƒé…ç½®"><a href="#Gitç¯å¢ƒé…ç½®" class="headerlink" title="Gitç¯å¢ƒé…ç½®"></a>Gitç¯å¢ƒé…ç½®</h1><blockquote><p>è½¯ä»¶ä¸‹è½½</p></blockquote><p>æ‰“å¼€ gitå®˜ç½‘ï¼š <a href="https://git-scm.com/%EF%BC%8C%E4%B8%8B%E8%BD%BDgit%E5%AF%B9%E5%BA%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%88%E6%9C%AC%E3%80%82">https://git-scm.com/ï¼Œä¸‹è½½gitå¯¹åº”æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚</a></p><p>æ‰€æœ‰ä¸œè¥¿ä¸‹è½½æ…¢çš„è¯å°±å¯ä»¥å»æ‰¾é•œåƒï¼</p><p>å®˜ç½‘ä¸‹è½½å¤ªæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒä¸‹è½½ï¼š<a href="http://npm.taobao.org/mirrors/git-for-windows/">http://npm.taobao.org/mirrors/git-for-windows/</a></p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506151614414.png" alt="image-20220506151614414" style="zoom:50%;"><p>ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å³å¯å®‰è£…ï¼</p><p>å®‰è£…ï¼šæ— è„‘ä¸‹ä¸€æ­¥å³å¯ï¼å®‰è£…å®Œæ¯•å°±å¯ä»¥ä½¿ç”¨äº†ï¼</p><blockquote><p>å¯åŠ¨Git</p></blockquote><p>å®‰è£…æˆåŠŸååœ¨å¼€å§‹èœå•ä¸­ä¼šæœ‰Gité¡¹ï¼Œèœå•ä¸‹æœ‰3ä¸ªç¨‹åºï¼šä»»æ„æ–‡ä»¶å¤¹ä¸‹å³é”®ä¹Ÿå¯ä»¥çœ‹åˆ°å¯¹åº”çš„ç¨‹åºï¼</p><p><strong>Git Bashï¼š</strong>Unixä¸Linuxé£æ ¼çš„å‘½ä»¤è¡Œï¼Œä½¿ç”¨æœ€å¤šï¼Œæ¨èæœ€å¤š</p><p><strong>Git CMDï¼š</strong>Windowsé£æ ¼çš„å‘½ä»¤è¡Œ</p><p><strong>Git GUI</strong>ï¼šå›¾å½¢ç•Œé¢çš„Gitï¼Œä¸å»ºè®®åˆå­¦è€…ä½¿ç”¨ï¼Œå°½é‡å…ˆç†Ÿæ‚‰å¸¸ç”¨å‘½ä»¤</p><blockquote><p>å¸¸ç”¨çš„Linuxå‘½ä»¤</p></blockquote><p>1ï¼‰cd : æ”¹å˜ç›®å½•ã€‚</p><p>2ï¼‰cd . . å›é€€åˆ°ä¸Šä¸€ä¸ªç›®å½•ï¼Œç›´æ¥cdè¿›å…¥é»˜è®¤ç›®å½•</p><p>3ï¼‰pwd : æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚</p><p>4ï¼‰ls(ll):  éƒ½æ˜¯åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªä¸è¿‡ll(ä¸¤ä¸ªll)åˆ—å‡ºçš„å†…å®¹æ›´ä¸ºè¯¦ç»†ã€‚</p><p>5ï¼‰touch : æ–°å»ºä¸€ä¸ªæ–‡ä»¶ å¦‚ touch index.js å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚</p><p>6ï¼‰rm:  åˆ é™¤ä¸€ä¸ªæ–‡ä»¶, rm index.js å°±ä¼šæŠŠindex.jsæ–‡ä»¶åˆ é™¤ã€‚</p><p>7ï¼‰mkdir:  æ–°å»ºä¸€ä¸ªç›®å½•,å°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>8ï¼‰rm -r :  åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹, rm -r src åˆ é™¤srcç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf / åˆ‡å‹¿åœ¨Linuxä¸­å°è¯•ï¼åˆ é™¤ç”µè„‘ä¸­å…¨éƒ¨æ–‡ä»¶ï¼</span><br></pre></td></tr></table></figure><p>9ï¼‰mv ç§»åŠ¨æ–‡ä»¶, mv index.html src index.html æ˜¯æˆ‘ä»¬è¦ç§»åŠ¨çš„æ–‡ä»¶, src æ˜¯ç›®æ ‡æ–‡ä»¶å¤¹,å½“ç„¶, è¿™æ ·å†™,å¿…é¡»ä¿è¯æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å¤¹åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚</p><p>10ï¼‰reset é‡æ–°åˆå§‹åŒ–ç»ˆç«¯&#x2F;æ¸…å±ã€‚</p><p>11ï¼‰clear æ¸…å±ã€‚</p><p>12ï¼‰history æŸ¥çœ‹å‘½ä»¤å†å²ã€‚</p><p>13ï¼‰help å¸®åŠ©ã€‚</p><p>14ï¼‰exit é€€å‡ºã€‚</p><p>15ï¼‰#è¡¨ç¤ºæ³¨é‡Š</p><blockquote><p>Gité…ç½®</p></blockquote><p>æŸ¥çœ‹é…ç½® <code>git config -l</code></p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506160111412.png" alt="image-20220506160111412" style="zoom:80%;"><p>æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹ç³»ç»Ÿconfig</span></span><br><span class="line">git config --system --list</span><br><span class="line">ã€€ã€€</span><br><span class="line"><span class="comment">#æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼ˆglobalï¼‰é…ç½®</span></span><br><span class="line">git config --global  --list</span><br></pre></td></tr></table></figure><p><strong>Gitç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼š</strong></p><p>1ï¼‰ã€Git\etc\gitconfig  ï¼šGit å®‰è£…ç›®å½•ä¸‹çš„ gitconfig   â€“system ç³»ç»Ÿçº§</p><p>2ï¼‰ã€C:\Users\Administrator\ .gitconfig   åªé€‚ç”¨äºå½“å‰ç™»å½•ç”¨æˆ·çš„é…ç½®  â€“global å…¨å±€</p><blockquote><p>è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå¿…è¦ï¼‰</p></blockquote><p>å½“ä½ å®‰è£…Gitåé¦–å…ˆè¦åšçš„äº‹æƒ…æ˜¯è®¾ç½®ä½ çš„ç”¨æˆ·åç§°å’Œe-mailåœ°å€ã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæ¯æ¬¡Gitæäº¤éƒ½ä¼šä½¿ç”¨è¯¥ä¿¡æ¯ã€‚å®ƒè¢«æ°¸è¿œçš„åµŒå…¥åˆ°äº†ä½ çš„æäº¤ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;user&quot;</span>  <span class="comment">#åç§°</span></span><br><span class="line">git config --global user.email user@XXX.com   <span class="comment">#é‚®ç®±</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦åšä¸€æ¬¡è¿™ä¸ªè®¾ç½®ï¼Œå¦‚æœä½ ä¼ é€’äº†â€“global é€‰é¡¹ï¼Œå› ä¸ºGitå°†æ€»æ˜¯ä¼šä½¿ç”¨è¯¥ä¿¡æ¯æ¥å¤„ç†ä½ åœ¨ç³»ç»Ÿä¸­æ‰€åšçš„ä¸€åˆ‡æ“ä½œã€‚å¦‚æœä½ å¸Œæœ›åœ¨ä¸€ä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒçš„åç§°æˆ–e-mailåœ°å€ï¼Œä½ å¯ä»¥åœ¨è¯¥é¡¹ç›®ä¸­è¿è¡Œè¯¥å‘½ä»¤è€Œä¸è¦â€“globalé€‰é¡¹ã€‚æ€»ä¹‹â€“globalä¸ºå…¨å±€é…ç½®ï¼Œä¸åŠ ä¸ºæŸä¸ªé¡¹ç›®çš„ç‰¹å®šé…ç½®ã€‚</p><p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506161314084.png" alt="image-20220506161314084"></p><h1 id="GitåŸºæœ¬ç†è®º"><a href="#GitåŸºæœ¬ç†è®º" class="headerlink" title="GitåŸºæœ¬ç†è®º"></a>GitåŸºæœ¬ç†è®º</h1><blockquote><p>ä¸‰ä¸ªåŒºåŸŸ</p></blockquote><p>Gitæœ¬åœ°æœ‰ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage&#x2F;Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€‚å¦‚æœåœ¨åŠ ä¸Šè¿œç¨‹çš„gitä»“åº“(Remote Directory)å°±å¯ä»¥åˆ†ä¸ºå››ä¸ªå·¥ä½œåŒºåŸŸã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/3214.png" alt="3214" style="zoom:80%;"><ul><li>Workspaceï¼š<strong>å·¥ä½œåŒº</strong>ï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹</li><li>Index &#x2F; Stageï¼š<strong>æš‚å­˜åŒº</strong>ï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯</li><li>Repositoryï¼š<strong>ä»“åº“åŒº</strong>ï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬</li><li>Remoteï¼š<strong>è¿œç¨‹ä»“åº“</strong>ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢</li></ul><p>æœ¬åœ°çš„ä¸‰ä¸ªåŒºåŸŸç¡®åˆ‡çš„è¯´åº”è¯¥æ˜¯gitä»“åº“ä¸­HEADæŒ‡å‘çš„ç‰ˆæœ¬ï¼š</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/image-20220506210730715.png" alt="image-20220506210730715" style="zoom: 50%;"><ul><li>Directoryï¼šä½¿ç”¨Gitç®¡ç†çš„ä¸€ä¸ªç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä»“åº“ï¼ŒåŒ…å«æˆ‘ä»¬çš„å·¥ä½œç©ºé—´å’ŒGitçš„ç®¡ç†ç©ºé—´ã€‚</li><li>WorkSpaceï¼šéœ€è¦é€šè¿‡Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œè¿™äº›ç›®å½•å’Œæ–‡ä»¶ç»„æˆäº†å·¥ä½œç©ºé—´ã€‚</li><li>.gitï¼šå­˜æ”¾Gitç®¡ç†ä¿¡æ¯çš„ç›®å½•ï¼Œåˆå§‹åŒ–ä»“åº“çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºã€‚</li><li>Index&#x2F;Stageï¼šæš‚å­˜åŒºï¼Œæˆ–è€…å«å¾…æäº¤æ›´æ–°åŒºï¼Œåœ¨æäº¤è¿›å…¥repoä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„æ›´æ–°æ”¾åœ¨æš‚å­˜åŒºã€‚</li><li>Local Repoï¼šæœ¬åœ°ä»“åº“ï¼Œä¸€ä¸ªå­˜æ”¾åœ¨æœ¬åœ°çš„ç‰ˆæœ¬åº“ï¼›HEADä¼šåªæ˜¯å½“å‰çš„å¼€å‘åˆ†æ”¯ï¼ˆbranchï¼‰ã€‚</li><li>Stashï¼šéšè—ï¼Œæ˜¯ä¸€ä¸ªå·¥ä½œçŠ¶æ€ä¿å­˜æ ˆï¼Œç”¨äºä¿å­˜&#x2F;æ¢å¤WorkSpaceä¸­çš„ä¸´æ—¶çŠ¶æ€ã€‚</li></ul><blockquote><p><strong>å·¥ä½œæµç¨‹</strong></p></blockquote><p>gitçš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><p>ï¼‘ã€åœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ï¼›</p><p>ï¼’ã€å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºåŸŸï¼›</p><p>ï¼“ã€å°†æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“ã€‚</p><p>å› æ­¤ï¼Œgitç®¡ç†çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹ï¼ˆmodifiedï¼‰,å·²æš‚å­˜ï¼ˆstagedï¼‰,å·²æäº¤(committed)</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/640.jpg" alt="640" style="zoom: 67%;"><h1 id="Gité¡¹ç›®æ­å»º"><a href="#Gité¡¹ç›®æ­å»º" class="headerlink" title="Gité¡¹ç›®æ­å»º"></a>Gité¡¹ç›®æ­å»º</h1><blockquote><p>åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤</p></blockquote><p>å·¥ä½œç›®å½•ï¼ˆWorkSpace)ä¸€èˆ¬å°±æ˜¯ä½ å¸Œæœ›Gitå¸®åŠ©ä½ ç®¡ç†çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ˜¯ä½ é¡¹ç›®çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç©ºç›®å½•ï¼Œå»ºè®®ä¸è¦æœ‰ä¸­æ–‡ã€‚</p><p>æ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä¸‹å›¾6ä¸ªå‘½ä»¤ï¼š</p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/640.png" alt="640" style="zoom:80%;"><blockquote><p>æœ¬åœ°ä»“åº“æ­å»º</p></blockquote><p>åˆ›å»ºæœ¬åœ°ä»“åº“çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œå¦ä¸€ç§æ˜¯å…‹éš†è¿œç¨‹ä»“åº“ã€‚</p><p>1ã€åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span></span><br><span class="line">$ git init</span><br></pre></td></tr></table></figure><p>2ã€æ‰§è¡Œåå¯ä»¥çœ‹åˆ°ï¼Œä»…ä»…åœ¨é¡¹ç›®ç›®å½•å¤šå‡ºäº†ä¸€ä¸ª.gitç›®å½•ï¼Œå…³äºç‰ˆæœ¬ç­‰çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ã€‚</p><blockquote><p>å…‹éš†è¿œç¨‹ä»“åº“</p></blockquote><p>1ã€å¦ä¸€ç§æ–¹å¼æ˜¯å…‹éš†è¿œç¨‹ç›®å½•ï¼Œç”±äºæ˜¯å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å®Œå…¨é•œåƒä¸€ä»½è‡³æœ¬åœ°ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²(ç‰ˆæœ¬ä¿¡æ¯)</span></span><br><span class="line">$ git <span class="built_in">clone</span> [url]</span><br></pre></td></tr></table></figure><p>2ã€å» gitee æˆ–è€… github ä¸Šå…‹éš†ä¸€ä¸ªæµ‹è¯•ï¼</p><h1 id="Gitæ–‡ä»¶æ“ä½œ"><a href="#Gitæ–‡ä»¶æ“ä½œ" class="headerlink" title="Gitæ–‡ä»¶æ“ä½œ"></a>Gitæ–‡ä»¶æ“ä½œ</h1><blockquote><p>æ–‡ä»¶çš„å››ç§çŠ¶æ€</p></blockquote><p>ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨è¿˜ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Šã€‚</p><ul><li><strong>Untracked</strong>: æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­, ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“, ä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶. é€šè¿‡git add çŠ¶æ€å˜ä¸ºStaged.</li><li><strong>Unmodify</strong>: æ–‡ä»¶å·²ç»å…¥åº“, æœªä¿®æ”¹, å³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´. è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„, å¦‚æœå®ƒè¢«ä¿®æ”¹, è€Œå˜ä¸ºModified. å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“, åˆ™æˆä¸ºUntrackedæ–‡ä»¶</li><li><strong>Modified</strong>: æ–‡ä»¶å·²ä¿®æ”¹, ä»…ä»…æ˜¯ä¿®æ”¹, å¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œ. è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„, é€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡, è¿”å›åˆ°unmodifyçŠ¶æ€, è¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶, è¦†ç›–å½“å‰ä¿®æ”¹ !</li><li><strong>Staged</strong>: æš‚å­˜çŠ¶æ€. æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­, è¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´, æ–‡ä»¶ä¸ºUnmodifyçŠ¶æ€. æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜, æ–‡ä»¶çŠ¶æ€ä¸ºModified</li></ul><blockquote><p>æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</p></blockquote><p>ä¸Šé¢è¯´æ–‡ä»¶æœ‰4ç§çŠ¶æ€ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶çš„çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€</span></span><br><span class="line">git status [filename]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># git add .                  æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line"><span class="comment"># git commit -m &quot;æ¶ˆæ¯å†…å®¹&quot;    æäº¤æš‚å­˜åŒºä¸­çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><blockquote><p>å¿½ç•¥æ–‡ä»¶</p></blockquote><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰</p><p>åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹â€.gitignoreâ€æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p><ol><li>å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚</li><li>å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,â€¦}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚</li><li>å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚</li><li>å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ&#x2F;ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚</li><li>å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ&#x2F;ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#ä¸ºæ³¨é‡Š</span><br><span class="line">*.txt        #å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼</span><br><span class="line">!lib.txt     #ä½†lib.txté™¤å¤–</span><br><span class="line">/temp        #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•temp</span><br><span class="line">build/       #å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">doc/*.txt    #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt</span><br></pre></td></tr></table></figure><h1 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h1><p>è¿œç¨‹ä»“åº“å¯ä»¥é€‰ç”¨Githubæˆ–è€…Giteeç­‰å¸¸ç”¨ä»“åº“ï¼Œè®¾ç½®æœ¬æœºç»‘å®šSSHå…¬é’¥ï¼Œå®ç°å…å¯†ç ç™»å½•ç­‰æ“ä½œæœ¬å¤„ä¸åšè¯¦ç»†ä»‹ç»ã€‚</p><p>1ã€æ–°å»ºé¡¹ç›®ï¼Œç»‘å®šgitã€‚</p><p>2ã€ä¿®æ”¹æ–‡ä»¶ï¼Œä½¿ç”¨IDEAæ“ä½œgitã€‚</p><ul><li><p>æ·»åŠ åˆ°æš‚å­˜åŒº</p></li><li><p>commit æäº¤</p></li><li><p>pushåˆ°è¿œç¨‹ä»“åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br><span class="line">#å¦‚æœæœ¬åœ°åˆ†æ”¯åä¸è¿œç¨‹åˆ†æ”¯åç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥å†’å·ï¼š</span><br><span class="line">git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br><span class="line"></span><br><span class="line">#eg:ä»¥ä¸‹å‘½ä»¤å°†æœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ° origin ä¸»æœºçš„ master åˆ†æ”¯</span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure></li></ul><p>3ã€æäº¤æµ‹è¯•</p><h1 id="è¯´æ˜ï¼šGITåˆ†æ”¯"><a href="#è¯´æ˜ï¼šGITåˆ†æ”¯" class="headerlink" title="è¯´æ˜ï¼šGITåˆ†æ”¯"></a>è¯´æ˜ï¼šGITåˆ†æ”¯</h1><p>åˆ†æ”¯åœ¨GITä¸­ç›¸å¯¹è¾ƒéš¾ï¼Œåˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œé¢çš„å¹³è¡Œå®‡å®™ï¼Œå¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œé‚£å¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡å•¥å½±å“ã€‚ä¸è¿‡ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦å¤„ç†ä¸€äº›é—®é¢˜äº†ï¼</p><p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/235235.png" alt="235235"></p><p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/54675.png" alt="54675"></p><p>gitåˆ†æ”¯ä¸­å¸¸ç”¨æŒ‡ä»¤ï¼š </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -r</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span><br><span class="line">git branch [branch-name]</span><br><span class="line"></span><br><span class="line"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br><span class="line">git checkout -b [branch]</span><br><span class="line"></span><br><span class="line"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git merge [branch]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤åˆ†æ”¯</span><br><span class="line">$ git branch -d [branch-name]</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line">$ git push origin --delete [branch-name]</span><br><span class="line">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure><p>IDEAä¸­æ“ä½œ</p><p><img src="/2022/05/07/Git%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/235423.png" alt="235423"></p><p>å¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶éƒ½è¢«ä¿®æ”¹äº†åˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼</p><p>masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚</p>]]></content>
    
    
    <summary type="html">Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚ä¹Ÿæ˜¯Linus Torvaldsä¸ºäº†å¸®åŠ©ç®¡ç†Linuxå†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚</summary>
    
    
    
    <category term="å·¥å…·ç±»" scheme="https://shiwei-qi.github.io/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    
    <category term="Git" scheme="https://shiwei-qi.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Typoraä½¿ç”¨æ•™ç¨‹åŠMarkDownè¯­æ³•</title>
    <link href="https://shiwei-qi.github.io/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/"/>
    <id>https://shiwei-qi.github.io/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/</id>
    <published>2022-05-07T06:51:55.000Z</published>
    <updated>2022-05-17T10:45:51.279Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/girl-16518503155441.jpg" alt="girl"></p><h1 id="Markdownä¸Typoraä»‹ç»"><a href="#Markdownä¸Typoraä»‹ç»" class="headerlink" title="Markdownä¸Typoraä»‹ç»"></a>Markdownä¸Typoraä»‹ç»</h1><h2 id="Markdownä»‹ç»"><a href="#Markdownä»‹ç»" class="headerlink" title="Markdownä»‹ç»"></a>Markdownä»‹ç»</h2><blockquote><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p><p>Markdown è¯­è¨€åœ¨ 2004 ç”±çº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰åˆ›å»ºã€‚</p><p>Markdown ç¼–å†™çš„æ–‡æ¡£å¯ä»¥å¯¼å‡º HTML ã€Wordã€å›¾åƒã€PDFã€Epub ç­‰å¤šç§æ ¼å¼çš„æ–‡æ¡£ã€‚</p><p>Markdown ç¼–å†™çš„æ–‡æ¡£åç¼€ä¸º .md, .markdown</p></blockquote><h2 id="Typoraä»‹ç»ä¸ä¸‹è½½"><a href="#Typoraä»‹ç»ä¸ä¸‹è½½" class="headerlink" title="Typoraä»‹ç»ä¸ä¸‹è½½"></a>Typoraä»‹ç»ä¸ä¸‹è½½</h2><p>Typoraç¼–è¾‘å™¨è®©äººä»¬èƒ½æ›´ç®€å•åœ°ç”¨Markdownè¯­è¨€ä¹¦å†™æ–‡å­—ï¼Œè§£å†³äº†ä½¿ç”¨ä¼ ç»Ÿçš„Markdownç¼–è¾‘å™¨å†™æ–‡çš„ç—›ç‚¹ï¼Œå¹¶ä¸”ç•Œé¢ç®€æ´ä¼˜ç¾ï¼Œå®ç°äº†å®æ—¶é¢„è§ˆç­‰åŠŸèƒ½ã€‚</p><p>Typoraå®˜ç½‘ï¼š <a href="https://typora.io/">https://typora.io/</a></p><h1 id="Markdownè¯­æ³•"><a href="#Markdownè¯­æ³•" class="headerlink" title="Markdownè¯­æ³•"></a>Markdownè¯­æ³•</h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>ä½¿ç”¨ <code>#</code> å¯ä»¥è¡¨ç¤ºæ ‡é¢˜ï¼Œä¸€çº§æ ‡é¢˜å¯¹åº”ä¸€ä¸ª <code>#</code> ï¼ŒäºŒçº§æ ‡é¢˜å¯¹åº”ä¸¤ä¸ª <code>#</code> å·ï¼Œæœ€å¤šè‡³å…­çº§æ ‡é¢˜ã€‚åœ¨Typoraä¸­ï¼Œ<code>#</code> åè¦ç´§æ¥ç€ä¸€ä¸ªç©ºæ ¼æ‰èƒ½è¡¨ç¤ºæ ‡é¢˜ï¼Œå¦åˆ™å°±æ˜¯æ™®é€šå­—ç¬¦ã€‚</p><p>åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl+1</strong>ï¼ˆ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼‰è¡¨ç¤ºç›¸å¯¹åº”çš„æ ‡é¢˜ã€‚<strong>Ctrl+0</strong>è¡¨ç¤ºæ®µè½ã€‚æ ‡é¢˜å¿«æ·é”®ä¿¡æ¯å¯åœ¨èœå•æ ä¸­çš„æ®µè½é€‰é¡¹ä¸‹æŸ¥çœ‹ã€‚</p><h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><ul><li><p>ç”¨ä¸€å¯¹æ˜Ÿå·æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºæ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>*</code>è¦å˜æ–œä½“çš„æ–‡æœ¬<code>*</code>ï¼Œ<em>æ–œä½“æ–‡æœ¬</em> ï¼›</p></li><li><p>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹ä¸‹åˆ’çº¿æ‹¬ä½æ–‡æœ¬æ¥è¡¨ç¤ºæ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>_</code>è¦å˜æ–œä½“çš„æ–‡æœ¬<code>_</code>ï¼Œ<em>æ–œä½“æ–‡æœ¬</em> ï¼›</p></li></ul><p>ä¹Ÿå¯ä»¥ä½¿ç”¨Typoraçš„å¿«æ·é”®<strong>Ctrl+I</strong>æ¥è¡¨ç¤ºæ–œä½“æ–‡æœ¬ã€‚</p><ul><li><p>ç”¨ä¸€å¯¹<code>**</code>æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºç²—ä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>**</code>è¦å˜ç²—ä½“çš„æ–‡æœ¬<code>**</code>ï¼Œ<strong>ç²—ä½“æ–‡æœ¬</strong>ï¼›</p></li><li><p>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹<code>__</code>æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºç²—ä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>__</code>è¦å˜ç²—ä½“çš„æ–‡æœ¬<code>__</code>ï¼Œ<strong>ç²—ä½“æ–‡æœ¬</strong>ï¼›</p></li></ul><p>ä¹Ÿå¯ä»¥ä½¿ç”¨Typoraçš„å¿«æ·é”®<strong>Ctrl+B</strong>æ¥è¡¨ç¤ºç²—ä½“æ–‡æœ¬ã€‚</p><p>ç”¨ä¸€å¯¹<code>***</code>æ‹¬ä½çš„æ–‡æœ¬è¡¨ç¤ºç²—æ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>***</code>è¦å˜ç²—æ–œä½“çš„æ–‡æœ¬<code>***</code>ï¼Œ<em><strong>ç²—æ–œä½“æ–‡æœ¬</strong></em>ï¼›<br>ä¹Ÿå¯ä»¥ç”¨ä¸€å¯¹<code>___</code>æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºç²—æ–œä½“æ–‡æœ¬ï¼Œå¦‚ï¼š<code>___</code>è¦å˜ç²—æ–œä½“çš„æ–‡æœ¬<code>___</code>ï¼Œ<em><strong>ç²—æ–œä½“æ–‡æœ¬</strong></em></p><h2 id="å„ç§çº¿"><a href="#å„ç§çº¿" class="headerlink" title="å„ç§çº¿"></a>å„ç§çº¿</h2><ul><li>åˆ†å‰²çº¿ï¼Œå¯ä»¥ä½¿ç”¨<strong>ä¸‰ä¸ªåŠä»¥ä¸Š</strong>çš„ <code>+</code> å·æˆ– <code>*</code> å·æˆ– <code>-</code> æ¥è¡¨ç¤ºä¸€æ¡åˆ†å‰²çº¿ï¼›</li></ul><hr><ul><li>åˆ é™¤çº¿ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¯¹<code>~~</code>æ‹¬ä½çš„æ–‡æœ¬æ¥è¡¨ç¤ºåˆ é™¤æ–‡æœ¬ï¼Œå¦‚ï¼š<code>~~</code>è¦åŠ åˆ é™¤çº¿çš„æ–‡æœ¬<code>~~</code>ï¼Œ<del>åˆ é™¤æ–‡æœ¬</del>ï¼›åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Alt+Shift+5</strong>æ¥åŠ åˆ é™¤çº¿ï¼Œè¯­æ³•ç›¸åŒï¼Œ<del>åˆ é™¤çº¿</del>ã€‚</li><li>ä¸‹åˆ’çº¿ï¼Œå¯ä»¥ä½¿ç”¨HTMLçš„æ ‡ç­¾<code>&lt;u&gt;</code>å’Œ<code>&lt;/u&gt;</code>è¡¨ç¤ºå¢åŠ ä¸‹åˆ’çº¿çš„æ–‡æœ¬ï¼Œå¦‚ï¼š<code>&lt;u&gt;</code>è¦å¢åŠ ä¸‹åˆ’çº¿çš„æ–‡æœ¬<code>&lt;/u&gt;</code>ï¼Œ<u>ä¸‹åˆ’çº¿</u>ï¼›åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl+U</strong>æ¥å¢åŠ ä¸‹åˆ’çº¿ï¼Œè¯­æ³•ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œ<u>ä¸‹åˆ’çº¿</u>ã€‚</li></ul><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p><strong>æ— åºåˆ—è¡¨</strong></p><p>å¯ä»¥ä½¿ç”¨<code>*</code>ï¼Œ<code>+</code>æˆ–<code>-</code>æ ‡è®°ç¬¦å·æ¥è¡¨ç¤ºæ— åºåˆ—è¡¨é¡¹ï¼Œè®°ä½è¦åœ¨æ ‡è®°ç¬¦å·å<strong>æ·»åŠ ä¸€ä¸ªç©ºæ ¼</strong>ï¼Œè¯­æ³•æ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p>åœ¨Typoraä¸­å¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl + Shift + ]</strong> ã€<strong>Ctrl + Shift + [</strong> </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* ç¬¬ä¸€é¡¹</span><br><span class="line">* ç¬¬äºŒé¡¹</span><br><span class="line">+ ç¬¬ä¸€é¡¹</span><br><span class="line">+ ç¬¬äºŒé¡¹</span><br><span class="line">- ç¬¬ä¸€é¡¹</span><br><span class="line">- ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><h2 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a><strong>æœ‰åºåˆ—è¡¨</strong></h2><p>å¯ä»¥ä½¿ç”¨<strong>æ•°å­—åŠ ä¸Š<code>.</code>å†åŠ ä¸Šç©ºæ ¼</strong>æ¥è¡¨ç¤ºæœ‰åºåˆ—è¡¨ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><p>åœ¨Typoraä¸­å¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl + Shift + [</strong> </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">3. ç¬¬äºŒé¡¹</span><br><span class="line">10. ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><p><strong>åµŒå¥—åˆ—è¡¨</strong></p><p>é¦–å…ˆä½¿ç”¨<code>*</code>ã€<code>+</code>æˆ–<code>-</code>è¿›å…¥åˆ—è¡¨ï¼Œç„¶åå›è½¦æ¢è¡Œï¼Œä¼šå‘ç°ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆåˆ—è¡¨ç¬¬äºŒé¡¹ï¼Œæ­¤æ—¶æŒ‰ä¸‹<strong>Tab</strong>é”®ï¼Œåˆ—è¡¨ç¬¬äºŒé¡¹å˜ä¸ºç¬¬ä¸€é¡¹çš„å­åˆ—è¡¨ã€‚<strong>æŒ‰å›è½¦é€€å‡ºå½“å‰åˆ—è¡¨</strong>ã€‚å¯ä»¥åœ¨æ— åºåˆ—è¡¨ä¸­åµŒå¥—æœ‰åºåˆ—è¡¨, ä¹Ÿå¯ä»¥åœ¨æœ‰åºåˆ—è¡¨ä¸­åµŒå¥—æ— åºåˆ—è¡¨ã€‚</p><ol><li>ä¸€çº§<ol><li>ä¸€ä¸€çº§</li><li>ä¸€äºŒçº§<ul><li>ä¸€äºŒä¸€çº§</li><li>ä¸€äºŒäºŒçº§</li></ul></li><li>ä¸€ä¸‰çº§</li></ol></li><li>äºŒçº§</li></ol><p>å¿«æ·é”®<strong>Shift + tab</strong> â€”â€”è¿”å›ä¸Šä¸€çº§åˆ—è¡¨</p><h2 id="åŒºå—"><a href="#åŒºå—" class="headerlink" title="åŒºå—"></a>åŒºå—</h2><p>å½“æˆ‘ä»¬æƒ³è¦å¼•ç”¨åˆ«äººçš„æ–‡ç« å†…å®¹æ—¶ï¼Œå¯ä»¥å°†å…¶æ”¾åœ¨åŒºå—å†…ã€‚</p><p>å¯ä»¥ä½¿ç”¨<code>&gt;</code>åŠ ç©ºæ ¼æ¥è¡¨ç¤ºåŒºå—ã€‚</p><blockquote><p>ä¸€çº§åŒºå—</p><blockquote><p>äºŒçº§åŒºå—</p><blockquote><p>ä¸‰çº§åŒºå—</p></blockquote><p>äºŒçº§åŒºå—</p></blockquote></blockquote><p>è¦é€€å‡ºåŒºå—ï¼ŒåŒæ ·ä½¿ç”¨<code>Enter</code>é”®å³å¯</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>å¦‚æœæ˜¯ä¸€è¡Œä»£ç ï¼Œå¯ä»¥ä½¿ç”¨æ®µå†…ä»£ç å—æ¥è¡¨ç¤ºï¼Œç”¨ä¸€å¯¹ **&#96;**ï¼ˆæ•°å­—1æ—è¾¹çš„ç¬¦å·ï¼‰æ‹¬ä½ä»£ç ã€‚</p><p>æ¯”å¦‚<code>printf(&quot;Hello World!&quot;)</code></p><p>å¦‚æœæ˜¯ä»£ç æ®µï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<strong>ä¸‰ä¸ª &#96; åŠ Enter&#x2F;ç©ºæ ¼+ç¼–ç¨‹è¯­è¨€</strong>æ¥è¡¨ç¤ºã€‚ä½¿ç”¨å¿«æ·é”®<strong>ctrl + shift + k</strong>å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Hello world!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>é“¾æ¥çš„ä½¿ç”¨æ–¹å¼æœ‰ä¸¤ç§è¯­æ³•ï¼Œå¦‚ä¸‹ï¼š</p><p><code>[</code>é“¾æ¥æ–‡å­—<code>]</code> <code>(</code>é“¾æ¥åœ°å€<code>)</code><br>æˆ–<br><code>[</code>é“¾æ¥æ–‡å­—<code>]</code> <code>()</code></p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼šæŒ‰ä½<strong>Ctrl+é¼ æ ‡å·¦é”®</strong>ç‚¹å‡»è®¿é—®ã€‚</p><p><a href="https://www.baidu.com/">ç™¾åº¦</a><br><a href="https://www.baidu.com/">https://www.baidu.com/</a></p><p>é“¾æ¥é™¤äº†å¯ä»¥æ‰“å¼€ç›¸åº”çš„ç½‘é¡µå¤–ï¼Œè¿˜å¯ä»¥<strong>æ‰“å¼€æœ¬åœ°æ–‡ä»¶</strong>ï¼Œä½¿ç”¨æ–¹å¼ç±»ä¼¼ï¼Œä¸è¿‡é“¾æ¥åœ°å€éœ€è¦ä½¿ç”¨æœ¬åœ°æ–‡ä»¶çš„åœ°å€ï¼Œç›¸å¯¹åœ°å€ã€ç»å¯¹åœ°å€å‡å¯ï¼š</p><p><code>[</code>æ‰“å¼€LinkTest.mdæ–‡æ¡£<code>]</code> <code>(</code>.&#x2F;LinkTest.md<code>)</code></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é“¾æ¥æ¥å®ç°<strong>é¡µå†…è·³è½¬</strong>ï¼Œè¯­æ³•ä¸ºï¼š</p><p><code>[</code>é“¾æ¥æ–‡å­—<code>]</code> <code>(</code>#æ ‡é¢˜æ–‡å­—<code>)</code></p><p>eg: <a href="#Typora%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%E5%8F%8AMarkDown%E8%AF%AD%E6%B3%95">è·³åˆ°é¦–é¡µ</a></p><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Markdownæ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![alt å±æ€§æ–‡æœ¬](å›¾ç‰‡åœ°å€)</span><br><span class="line"></span><br><span class="line">![alt å±æ€§æ–‡æœ¬](å›¾ç‰‡åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;)</span><br></pre></td></tr></table></figure><ul><li>é¦–å…ˆä¸€ä¸ªæ„Ÿå¹å·</li><li>ç„¶åä¸­æ‹¬å·é‡Œé¢å†™å±æ€§æ–‡æœ¬</li><li>å°æ‹¬å·é‡Œé¢å†™å›¾ç‰‡åœ°å€ï¼Œåå¯æ¥æ ‡é¢˜</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">![æœ¬åœ°pngå›¾ç‰‡PictureTest.png](./img/PictureTest.png)</span><br><span class="line"></span><br><span class="line">![æœ¬åœ°jpgå›¾ç‰‡](./img/PictureTest.jpg)</span><br><span class="line"></span><br><span class="line">![ç½‘ç»œå›¾ç‰‡](http://static.runoob.com/images/runoob-logo.png &quot;èœé¸Ÿæ•™ç¨‹&quot;)</span><br></pre></td></tr></table></figure><p>åœ¨Typoraä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>Ctrl+C</code>ï¼Œ<code>Ctrl+V</code>æ¥ç›´æ¥è¿›è¡Œå¤åˆ¶ç²˜è´´å›¾ç‰‡ï¼Œä½†æ˜¯ï¼Œç”±äºMarkdownæ˜¯éœ€è¦å›¾ç‰‡çš„åœ°å€çš„ï¼Œæ‰€ä»¥éœ€è¦ç®€å•è®¾ç½®ä¸€ä¸‹Typoraã€‚</p><p>ç‚¹å‡»æ–‡ä»¶ â€“&gt; åå¥½è®¾ç½® â€“&gt; å›¾åƒï¼Œå¦‚ä¸‹ï¼š</p><p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMjYxMjUx,size_16,color_FFFFFF,t_70-16518503155442.png" alt="img"></p><p>å¯ä»¥è‡ªè¡Œè®¾ç½®é€‰æ‹©å°†å›¾ç‰‡å¤åˆ¶åˆ°å“ªä¸ªæ–‡ä»¶å¤¹ã€‚</p><p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/20191108173139695-16518503155444.png" alt="img"></p><p>è¿™é‡Œé€‰æ‹©å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„ï¼Œç„¶ååœ¨ä¸‹é¢ä¸€æ ä¸­å¡«å†™.&#x2F;imgï¼Œè¡¨ç¤ºå°†å›¾ç‰‡å¤åˆ¶åˆ°ä½ æ­£åœ¨ç¼–è¾‘çš„æ–‡æ¡£åŒä¸€çº§çš„imgæ–‡ä»¶å¤¹ä¸‹ã€‚åœ¨ä¸‹é¢çš„é€‰é¡¹ä¸­ï¼Œå‹¾é€‰ç¬¬ä¸€ã€äºŒã€ä¸‰é¡¹ã€‚æ­£å› ä¸ºå‹¾é€‰äº†ç¬¬äºŒé¡¹ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨æ’å…¥ç½‘ç»œå›¾ç‰‡æ—¶ï¼ŒTyporaä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å°†ç½‘ç»œå›¾ç‰‡ä¸‹è½½åˆ°æŒ‡å®šçš„è·¯å¾„ä¸‹ï¼Œå‰é¢çš„â€èœé¸Ÿæ•™ç¨‹â€å›¾ç‰‡ä¾¿æ˜¯å¦‚æ­¤ã€‚</p><p>ç”±äºMarkdownçš„ç‰¹æ®Šè¯­æ³•ï¼Œæ•…ç»å¸¸ä¼šå‡ºç°å›¾ç‰‡åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œå¾ˆå¤§çš„å¯èƒ½å°±æ˜¯å› ä¸ºåœ¨æŒ‡å®šçš„è·¯å¾„ä¸Šæ‰¾ä¸åˆ°ç›¸åº”çš„å›¾ç‰‡ï¼Œå½“ç„¶ï¼Œæœ‰æ—¶å€™ä¹Ÿæ˜¯ç”±äºTyporaçš„åŸå› ï¼Œé‡å¯Typoraå³å¯</p><h2 id="é¢œè‰²å­—ä½“"><a href="#é¢œè‰²å­—ä½“" class="headerlink" title="é¢œè‰²å­—ä½“"></a>é¢œè‰²å­—ä½“</h2><p>æ›¿æ¢å¯¹åº”é¢œè‰²ä»£ç å³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$\color&#123;#FF3030&#125;&#123;red&#125;$</span><br><span class="line"></span><br><span class="line">$\color&#123;#0000CD&#125;&#123;blue&#125;$</span><br><span class="line"></span><br><span class="line">$\color&#123;#33ff66&#125;&#123;green&#125;$</span><br><span class="line"></span><br><span class="line">$\color&#123;#ffff00&#125;&#123;yellow&#125;$</span><br></pre></td></tr></table></figure><p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/image-20220506232014009.png" alt="image-20220506232014009"></p><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>Markdown åˆ¶ä½œè¡¨æ ¼ä½¿ç”¨ <code>|</code> æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨ <code>-</code> æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|è¡¨å¤´|è¡¨å¤´|è¡¨å¤´|</span><br><span class="line">|---|---|----|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br></pre></td></tr></table></figure><table><thead><tr><th>è¡¨å¤´</th><th>è¡¨å¤´</th><th>è¡¨å¤´</th></tr></thead><tbody><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥è®¾ç½®å¯¹é½æ–¹å¼ï¼š</p><ul><li><code>:-</code>è¡¨ç¤ºå·¦å¯¹é½</li><li><code>-:</code>è¡¨ç¤ºå³å¯¹é½</li><li><code>:-:</code>è¡¨ç¤ºä¸­é—´å¯¹é½</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|å·¦å¯¹é½|å³å¯¹é½|ä¸­é—´å¯¹é½|</span><br><span class="line">|:---|---:|:----:|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br><span class="line">|å•å…ƒæ ¼|å•å…ƒæ ¼|å•å…ƒæ ¼|</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å·¦å¯¹é½</th><th align="right">å³å¯¹é½</th><th align="center">ä¸­é—´å¯¹é½</th></tr></thead><tbody><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><p>åœ¨Typoraä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl+T</strong>æ¥æ’å…¥è¡¨æ ¼ï¼Œå¹¶é€‰æ‹©è¡Œåˆ—ï¼Œå½“é€‰ä¸­è¡¨æ ¼æŸä¸€å•å…ƒæ ¼æ—¶ï¼Œå¯ä»¥åœ¨è¡¨æ ¼å·¦ä¸Šè§’æ‰‹åŠ¨è®¾ç½®å¯¹é½æ–¹å¼ï¼Œå³ä¸Šè§’é€‰æ‹©æ›´å¤šæ“ä½œã€‚</p><h1 id="Typoraä¸æ•°å­¦å…¬å¼"><a href="#Typoraä¸æ•°å­¦å…¬å¼" class="headerlink" title="Typoraä¸æ•°å­¦å…¬å¼"></a>Typoraä¸æ•°å­¦å…¬å¼</h1><h2 id="å¦‚ä½•æ’å…¥æ•°å­¦å…¬å¼"><a href="#å¦‚ä½•æ’å…¥æ•°å­¦å…¬å¼" class="headerlink" title="å¦‚ä½•æ’å…¥æ•°å­¦å…¬å¼"></a>å¦‚ä½•æ’å…¥æ•°å­¦å…¬å¼</h2><p>åœ¨Typoraä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•æ’å…¥æ•°å­¦å…¬å¼ï¼Œè¯­æ³•ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€ç§æ–¹æ³•ï¼š$æ•°å­¦å…¬å¼$</span><br><span class="line">ç¬¬äºŒç§æ–¹æ³•ï¼š</span><br><span class="line">$$</span><br><span class="line">æ•°å­¦å…¬å¼</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ç§æ–¹æ³•è¡¨ç¤ºæ’å…¥è¡Œå†…å…¬å¼ï¼ˆå†…è”å…¬å¼ï¼‰ï¼Œå³å¯ä»¥å°†å…¬å¼æ’å…¥åˆ°ä¸€è¡Œä¸­ï¼Œæ¯”å¦‚$1 + 2 &#x3D; 3$ è¿™æ ·çš„å…¬å¼ã€‚</p><p>ç¬¬äºŒç§æ–¹æ³•è¡¨ç¤ºæ’å…¥è¡Œé—´å…¬å¼ï¼ˆå¤–è”å…¬å¼ï¼‰ï¼Œå³å¯ä»¥å°†å…¬å¼æ’å…¥åˆ°è¡Œä¸è¡Œä¹‹é—´ï¼Œå•ç‹¬å æ®ä¸€è¡Œæˆ–è€…æ•°è¡Œçš„ç©ºé—´ï¼Œå¹¶ä¸”å±…ä¸­æ”¾ç½®ã€‚<br>$$<br>1+2&#x3D;3<br>$$<br>å¦‚æœè¦åœ¨è¡Œé—´å…¬å¼å†…æ¢è¡Œï¼Œåœ¨æ¢è¡Œçš„ä½ç½®ä½¿ç”¨<code>\\</code></p><p>å¸¸ç”¨ç¬¦å·ã€ä¸Šä¸‹æ ‡ã€æ ¹å·ã€æ‹¬å·ã€è¿ç®—ç¬¦ç­‰æ­¤å¤„ä¸åšè¯¦ç»†ä»‹ç»</p><h1 id="Typoraä¸HTML"><a href="#Typoraä¸HTML" class="headerlink" title="Typoraä¸HTML"></a>Typoraä¸HTML</h1><h2 id="æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°"><a href="#æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°" class="headerlink" title="æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°"></a>æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>&lt;font&gt; &lt;/font&gt;</code>æ ‡ç­¾æ¥æ”¹å˜å­—ä½“çš„é¢œè‰²åŠå¤§å°ï¼Œå¦‚ï¼š</p><p>å±æ€§<code>size</code>è¡¨ç¤ºå­—ä½“å¤§å°ï¼Œ<code>color</code>è¡¨ç¤ºé¢œè‰²ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;font size=3 color=&quot;red&quot;&gt;å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">&lt;font size=4 color=&quot;blue&quot;&gt;å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">&lt;font size=6 color=&quot;violet&quot;&gt;å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6&lt;/font&gt;</span><br></pre></td></tr></table></figure><p><font size="3" color="red">å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3</font></p><p><font size="4" color="blue">å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4</font></p><p><font size="6" color="violet">å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6</font></p><h2 id="æ”¹å˜å¯¹é½æ–¹å¼"><a href="#æ”¹å˜å¯¹é½æ–¹å¼" class="headerlink" title="æ”¹å˜å¯¹é½æ–¹å¼"></a>æ”¹å˜å¯¹é½æ–¹å¼</h2><p>æˆ‘ä»¬å¯ä»¥æ”¹å˜å­—ä½“çš„å¯¹é½æ–¹å¼ï¼Œç”¨æ ‡ç­¾<code>&lt;p&gt; &lt;/p&gt;</code>åŠ ä¸Šå±æ€§<code>align</code>ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;p align=&quot;left&quot;&gt;å·¦å¯¹é½&lt;/p&gt;</span><br><span class="line">&lt;p align=&quot;center&quot;&gt;ä¸­é—´å¯¹é½&lt;/p&gt;</span><br><span class="line">&lt;p align=&quot;right&quot;&gt;å³å¯¹é½&lt;/p&gt;</span><br></pre></td></tr></table></figure><p align="left">å·¦å¯¹é½</p><p align="left">å·¦å¯¹é½</p><p align="center">ä¸­é—´å¯¹é½</p><p align="right">å³å¯¹é½</p><h2 id="æ’å…¥å›¾åƒ"><a href="#æ’å…¥å›¾åƒ" class="headerlink" title="æ’å…¥å›¾åƒ"></a>æ’å…¥å›¾åƒ</h2><p>å› ä¸ºCSDNä¸æ”¯æŒä½¿ç”¨imgæ ‡ç­¾ä¿®æ”¹å›¾åƒï¼Œæ‰€ä»¥ä¸‹é¢çš„ç»“æœéƒ½ä¸æ˜¯å‡†ç¡®çš„ã€‚å¤§å®¶å¯ä»¥è‡ªå·±åœ¨Typoraä¸­æµ‹è¯•ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ ‡ç­¾<code>&lt;img src=url /&gt;</code>æ¥æ’å…¥å›¾ç‰‡ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;img/3.jpg&quot; /&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥æ”¹å˜<code>&lt;img&gt;</code>æ ‡ç­¾çš„å±æ€§ï¼Œæ¥æ”¹å˜å›¾ç‰‡çš„å¤§å°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;img/3.jpg&quot; width=100 height=100/&gt;</span><br></pre></td></tr></table></figure><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/3-16518503155443.jpg" width="100" height="100/"><p>æˆ‘ä»¬å¯ä»¥æ”¹å˜<code>&lt;img&gt;</code>æ ‡ç­¾çš„å±æ€§ï¼Œæ¥æ”¹å˜å›¾ç‰‡çš„å¤§å°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;img/3.jpg&quot; width=30 height=30 style=&quot;float:left&quot;/&gt;å›¾ç‰‡åœ¨å·¦è¾¹</span><br><span class="line">&lt;img src=&quot;img/3.jpg&quot; width=30 height=30 style=&quot;float:right&quot;/&gt;å›¾ç‰‡åœ¨å³è¾¹</span><br></pre></td></tr></table></figure><p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/3-16518503155443.jpg" width="100" height="100" style="float:left">å›¾ç‰‡åœ¨å·¦è¾¹</p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/3-16518503155443.jpg" width="100" height="100" style="float:right"><p>å›¾ç‰‡åœ¨å³è¾¹</p><h1 id="æ‰©å±•ç”¨æ³•"><a href="#æ‰©å±•ç”¨æ³•" class="headerlink" title="æ‰©å±•ç”¨æ³•"></a>æ‰©å±•ç”¨æ³•</h1><h2 id="æ’å…¥emojiè¡¨æƒ…"><a href="#æ’å…¥emojiè¡¨æƒ…" class="headerlink" title="æ’å…¥emojiè¡¨æƒ…"></a>æ’å…¥emojiè¡¨æƒ…</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>:emoji:</code>çš„è¯­æ³•æ¥æ’å…¥è¡¨æƒ…ï¼Œæ¯”å¦‚ï¼š</p><p>:happy:çš„è¯­æ³•ä¸º<code>:happy:</code></p><p>ğŸ¦€çš„è¯­æ³•ä¸º<code>:crab:</code></p><p>ğŸ´çš„è¯­æ³•ä¸º<code>:horse:</code></p><h2 id="æ’å…¥ç›®å½•"><a href="#æ’å…¥ç›®å½•" class="headerlink" title="æ’å…¥ç›®å½•"></a>æ’å…¥ç›®å½•</h2><p>å½“æˆ‘ä»¬ä¸ºä½¿ç”¨æ ‡é¢˜å°†æ–‡åˆ†ç« èŠ‚åï¼Œå¯ä»¥åœ¨è¾“å…¥<code>[toc]</code>å‘½ä»¤çš„åœ°æ–¹è‡ªåŠ¨æ ¹æ®æ ‡é¢˜ç”Ÿæˆç›®å½•ã€‚</p><h2 id="æ–‡æœ¬é«˜äº®"><a href="#æ–‡æœ¬é«˜äº®" class="headerlink" title="æ–‡æœ¬é«˜äº®"></a>æ–‡æœ¬é«˜äº®</h2><p>åœ¨Typoraä¸­ï¼Œå¯ä»¥ç”¨ä¸€å¯¹<code>==</code>å°†è¦é«˜äº®çš„æ–‡æœ¬æ‹¬èµ·æ¥ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">==è¦é«˜äº®çš„æ–‡æœ¬==</span><br><span class="line">==èƒŒæ™¯ä¼šç”¨é»„è‰²å¡«å……==</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><p><img src="/2022/05/07/Typora%E5%92%8CMarkDown%E7%9B%B8%E5%85%B3%E6%95%99%E7%A8%8B/image-20220506233054585.png" alt="image-20220506233054585"></p><p>è¿™ä¸ªåŠŸèƒ½å¯åœ¨åå¥½è®¾ç½® â€“&gt; Markdownæ‰©å±•è¯­æ³•ä¸­è®¾ç½®ã€‚</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ç®€å•ä»‹ç»äº†Typoraè½¯ä»¶çš„ä½¿ç”¨ä»¥åŠMarkDownåŸºæœ¬è¯­æ³•ã€‚</summary>
    
    
    
    <category term="å·¥å…·ç±»" scheme="https://shiwei-qi.github.io/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
    
    <category term="MarkDown" scheme="https://shiwei-qi.github.io/tags/MarkDown/"/>
    
  </entry>
  
  <entry>
    <title>TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</title>
    <link href="https://shiwei-qi.github.io/2022/04/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    <id>https://shiwei-qi.github.io/2022/04/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</id>
    <published>2022-04-23T05:48:16.000Z</published>
    <updated>2022-04-22T13:59:17.018Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"><a href="#ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹"></a>ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</h1><p>ä¸‰æ¬¡æ¡æ‰‹å‘ç”Ÿåœ¨å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ï¼Œå½“è°ƒç”¨connect(), åº•å±‚ä¼šé€šè¿‡TCPåè®®è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹&quot;&gt;&lt;a href=&quot;#ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹&quot;&gt;&lt;/a&gt;ç®€è§£TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹&lt;/h1&gt;&lt;p&gt;ä¸‰æ¬¡æ¡æ‰‹å‘ç”Ÿåœ¨å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ï¼Œå½“è°ƒç”¨con</summary>
      
    
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://shiwei-qi.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://shiwei-qi.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
</feed>
